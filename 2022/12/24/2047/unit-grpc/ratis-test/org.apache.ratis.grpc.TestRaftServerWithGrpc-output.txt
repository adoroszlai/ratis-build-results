2022-12-24 08:43:00,092 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:00,096 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:00,101 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:00,117 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:00,161 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:00,161 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:00,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:00,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:00,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:00,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:00,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:00,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:00,169 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0
2022-12-24 08:43:00,169 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0 does not exist.
2022-12-24 08:43:00,170 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0
2022-12-24 08:43:00,203 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:00,280 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34953 (custom)
2022-12-24 08:43:00,283 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41209 (custom)
2022-12-24 08:43:00,284 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:00,285 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39091 (custom)
2022-12-24 08:43:00,286 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:00,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,293 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:00,294 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:00,318 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:00,323 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:00,324 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:00,531 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:00,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:00,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:00,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,537 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0] (custom)
2022-12-24 08:43:00,549 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] returns group-5810656FACBA:java.util.concurrent.CompletableFuture@c063523[Not completed]
2022-12-24 08:43:00,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:00,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1
2022-12-24 08:43:00,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1 does not exist.
2022-12-24 08:43:00,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1
2022-12-24 08:43:00,551 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:00,551 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,551 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38443 (custom)
2022-12-24 08:43:00,551 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40627 (custom)
2022-12-24 08:43:00,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:00,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36175 (custom)
2022-12-24 08:43:00,552 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:00,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,552 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:00,553 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:00,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:00,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:00,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:00,565 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:00,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:00,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:00,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1] (custom)
2022-12-24 08:43:00,578 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] returns group-5810656FACBA:java.util.concurrent.CompletableFuture@31a1389f[Not completed]
2022-12-24 08:43:00,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:00,578 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2
2022-12-24 08:43:00,579 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2 does not exist.
2022-12-24 08:43:00,579 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2
2022-12-24 08:43:00,579 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:00,579 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,580 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34357 (custom)
2022-12-24 08:43:00,580 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:00,580 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35123 (custom)
2022-12-24 08:43:00,580 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:00,580 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39591 (custom)
2022-12-24 08:43:00,580 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:00,581 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,581 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:00,581 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:00,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:00,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:00,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:00,583 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:00,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:00,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:00,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2] (custom)
2022-12-24 08:43:00,591 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,594 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:00,595 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:00,598 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,599 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:00,599 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:00,599 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:00,599 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:00,605 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] returns group-5810656FACBA:java.util.concurrent.CompletableFuture@4a97396e[Not completed]
2022-12-24 08:43:00,608 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:00,609 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:00,610 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:00,610 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,610 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,610 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:00,609 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5810656FACBA:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:00,616 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,617 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,617 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:00,617 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5810656FACBA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:00,618 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5810656FACBA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:00,609 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:00,639 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:00,645 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:00,648 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:00,649 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:00,639 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:00,649 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:00,649 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:00,650 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:00,642 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:00,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:00,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:00,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:00,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:00,650 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5810656FACBA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:00,651 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:00,651 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:00,651 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:00,651 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:00,671 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:00,672 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:00,671 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:00,686 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-12-24 08:43:00,815 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:00,816 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:00,816 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:00,817 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:00,817 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:00,817 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:00,817 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:00,817 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:00,818 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:00,818 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:00,818 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:00,818 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:00,818 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:00,818 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:00,818 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:00,820 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:00,820 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:00,821 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0] (custom)
2022-12-24 08:43:00,828 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba does not exist. Creating ...
2022-12-24 08:43:00,830 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:00,834 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:00,837 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba/current
2022-12-24 08:43:00,837 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba/sm
2022-12-24 08:43:00,850 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba has been successfully formatted.
2022-12-24 08:43:00,850 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:00,854 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:00,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:00,862 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:00,862 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,864 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:00,865 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:00,869 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:00,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:00,877 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-5810656FACBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:00,878 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:00,879 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:00,881 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,881 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:00,882 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:00,882 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:00,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:00,883 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:00,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:00,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:00,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:00,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:00,895 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5810656FACBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:00,895 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5810656FACBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:00,897 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-5810656FACBA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:00,897 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5810656FACBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:00,898 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5810656FACBA-FollowerState
2022-12-24 08:43:00,905 [s0@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:00,911 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s0
2022-12-24 08:43:00,912 [s0@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:00,913 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:00,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:00,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:00,925 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:00,979 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41209
2022-12-24 08:43:00,981 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39091
2022-12-24 08:43:00,983 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34953
2022-12-24 08:43:00,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:00,985 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:00,985 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:00,986 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1] (custom)
2022-12-24 08:43:00,986 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba does not exist. Creating ...
2022-12-24 08:43:00,987 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:00,988 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:00,988 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba/current
2022-12-24 08:43:00,989 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba/sm
2022-12-24 08:43:00,990 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba has been successfully formatted.
2022-12-24 08:43:00,990 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:00,991 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:00,992 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,993 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:00,993 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:00,993 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-5810656FACBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:00,993 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:00,994 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:00,995 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:00,995 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:00,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:00,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:00,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:00,997 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5810656FACBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:00,998 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5810656FACBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:00,998 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-5810656FACBA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:00,998 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5810656FACBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:00,998 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,005 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s1
2022-12-24 08:43:01,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:01,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:01,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:01,013 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:01,015 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,015 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,015 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40627
2022-12-24 08:43:01,016 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36175
2022-12-24 08:43:01,017 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38443
2022-12-24 08:43:01,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:01,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:01,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2] (custom)
2022-12-24 08:43:01,026 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba does not exist. Creating ...
2022-12-24 08:43:01,026 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:01,028 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:01,028 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:01,028 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba/current
2022-12-24 08:43:01,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba/sm
2022-12-24 08:43:01,032 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba has been successfully formatted.
2022-12-24 08:43:01,032 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:01,033 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:01,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:01,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:01,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:01,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:01,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-5810656FACBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:01,035 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:01,036 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:01,041 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:01,042 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:01,042 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:01,042 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5810656FACBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:01,042 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5810656FACBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:01,043 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-5810656FACBA: start as a follower, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,043 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5810656FACBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:01,043 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,044 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s2
2022-12-24 08:43:01,044 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:01,044 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:01,044 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:01,045 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,048 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,048 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:01,052 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35123
2022-12-24 08:43:01,053 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39591
2022-12-24 08:43:01,054 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34357
2022-12-24 08:43:01,061 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:01,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:01,066 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:01,072 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:01,090 [s0@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5810656FACBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192258608ns, electionTimeout:176ms
2022-12-24 08:43:01,090 [s0@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,091 [s0@group-5810656FACBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5810656FACBA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:01,093 [s0@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:01,094 [s0@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5810656FACBA-LeaderElection1
2022-12-24 08:43:01,105 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,125 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,125 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,129 [s0@group-5810656FACBA-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:01,129 [s0@group-5810656FACBA-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:01,257 [s1@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5810656FACBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:258815749ns, electionTimeout:242ms
2022-12-24 08:43:01,257 [s1@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,257 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5810656FACBA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:01,258 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:01,258 [s1@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5810656FACBA-LeaderElection2
2022-12-24 08:43:01,274 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-5810656FACBA-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,277 [s1@group-5810656FACBA-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:01,279 [s1@group-5810656FACBA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,288 [s1@group-5810656FACBA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,289 [s1@group-5810656FACBA-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:01,303 [s2@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5810656FACBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:259687911ns, electionTimeout:245ms
2022-12-24 08:43:01,303 [s2@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,303 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5810656FACBA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:01,304 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:01,304 [s2@group-5810656FACBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5810656FACBA-LeaderElection3
2022-12-24 08:43:01,312 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5810656FACBA-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,313 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5810656FACBA-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:01,313 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-12-24 08:43:01,313 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,313 [s2@group-5810656FACBA-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:01,318 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,314 [s2@group-5810656FACBA-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:01,314 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,326 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,325 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,486 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5810656FACBA-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:01,487 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2022-12-24 08:43:01,487 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,501 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,501 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,509 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,511 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5810656FACBA-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:01,511 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5810656FACBA-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-12-24 08:43:01,511 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5810656FACBA-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,510 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5810656FACBA-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:01,512 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-5810656FACBA-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-12-24 08:43:01,512 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-5810656FACBA-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,510 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-5810656FACBA: receive requestVote(PRE_VOTE, s2, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,510 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(PRE_VOTE, s2, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,510 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,509 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(PRE_VOTE, s1, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,518 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,519 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,515 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,513 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,521 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,512 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,525 [s1@group-5810656FACBA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,525 [s1@group-5810656FACBA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,526 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-5810656FACBA: receive requestVote(PRE_VOTE, s1, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,517 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,528 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,530 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,530 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,530 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,532 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,531 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-5810656FACBA replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,532 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,541 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,541 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,541 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,534 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:01,543 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,542 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,546 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-5810656FACBA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,546 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-5810656FACBA: receive requestVote(PRE_VOTE, s2, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,546 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,547 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-5810656FACBA replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,556 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,556 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,556 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,558 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(PRE_VOTE, s0, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,561 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,561 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,574 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5810656FACBA-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:01,574 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-12-24 08:43:01,574 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5810656FACBA-LeaderElection3 PRE_VOTE round 1: result PASSED
2022-12-24 08:43:01,575 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5810656FACBA-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:01,575 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-12-24 08:43:01,575 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5810656FACBA-LeaderElection1 PRE_VOTE round 2: result PASSED
2022-12-24 08:43:01,575 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(PRE_VOTE, s2, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,576 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,576 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-5810656FACBA:t0, leader=null, voted=, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,576 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5810656FACBA-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,577 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-5810656FACBA: receive requestVote(PRE_VOTE, s1, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,589 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,589 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-5810656FACBA replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5810656FACBA:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,585 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,589 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,585 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(PRE_VOTE, s1, group-5810656FACBA, 0, (t:0, i:0))
2022-12-24 08:43:01,590 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,590 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5810656FACBA:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,577 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5810656FACBA-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,592 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,592 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,597 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5810656FACBA-LeaderElection2: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-24 08:43:01,599 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2022-12-24 08:43:01,599 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-5810656FACBA-LeaderElection2 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:01,600 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-5810656FACBA: receive requestVote(ELECTION, s0, group-5810656FACBA, 1, (t:0, i:0))
2022-12-24 08:43:01,600 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5810656FACBA-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-12-24 08:43:01,601 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-5810656FACBA replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-5810656FACBA:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,599 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-5810656FACBA: receive requestVote(ELECTION, s2, group-5810656FACBA, 1, (t:0, i:0))
2022-12-24 08:43:01,601 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5810656FACBA-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-12-24 08:43:01,601 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-5810656FACBA replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-5810656FACBA:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,600 [s1@group-5810656FACBA-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5810656FACBA: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:01,605 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5810656FACBA-LeaderElection2
2022-12-24 08:43:01,605 [s1@group-5810656FACBA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,606 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,606 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,606 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(ELECTION, s0, group-5810656FACBA, 1, (t:0, i:0))
2022-12-24 08:43:01,609 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:01,609 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5810656FACBA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-12-24 08:43:01,609 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,613 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-5810656FACBA: receive requestVote(ELECTION, s2, group-5810656FACBA, 1, (t:0, i:0))
2022-12-24 08:43:01,613 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,614 [s1@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5810656FACBA-FollowerState was interrupted
2022-12-24 08:43:01,622 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,622 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,623 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-5810656FACBA:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,624 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5810656FACBA-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-12-24 08:43:01,624 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-5810656FACBA replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-5810656FACBA:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,626 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5810656FACBA-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:01,626 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2022-12-24 08:43:01,626 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2022-12-24 08:43:01,626 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5810656FACBA-LeaderElection3 ELECTION round 0: result REJECTED
2022-12-24 08:43:01,626 [s2@group-5810656FACBA-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5810656FACBA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-24 08:43:01,627 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5810656FACBA-LeaderElection3
2022-12-24 08:43:01,627 [s2@group-5810656FACBA-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5810656FACBA-FollowerState
2022-12-24 08:43:01,626 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5810656FACBA-LeaderElection1: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:01,630 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-12-24 08:43:01,630 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-12-24 08:43:01,630 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5810656FACBA-LeaderElection1 ELECTION round 0: result PASSED
2022-12-24 08:43:01,630 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5810656FACBA-LeaderElection1
2022-12-24 08:43:01,630 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5810656FACBA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:01,631 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5810656FACBA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 980ms
2022-12-24 08:43:01,627 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,636 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:01,636 [s2@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,640 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:01,640 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:01,643 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:01,643 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:01,644 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:01,660 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:01,661 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:01,674 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:01,674 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:01,675 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:01,677 [s0@group-5810656FACBA-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:01,677 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:01,677 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:01,677 [s0@group-5810656FACBA-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:01,677 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:01,680 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:01,681 [s0@group-5810656FACBA-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5810656FACBA-LeaderStateImpl
2022-12-24 08:43:01,696 [s0@group-5810656FACBA-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-5810656FACBA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:01,748 [s0@group-5810656FACBA-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-5810656FACBA: set configuration 0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,782 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:01,782 [s1@group-5810656FACBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:01,794 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5810656FACBA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1155ms
2022-12-24 08:43:01,809 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5810656FACBA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1170ms
2022-12-24 08:43:01,837 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-5810656FACBA: set configuration 0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,837 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-5810656FACBA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:01,840 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-5810656FACBA: set configuration 0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:01,840 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-5810656FACBA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:01,874 [s1@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-5810656FACBA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s1/213d97cd-749e-4f81-8120-5810656facba/current/log_inprogress_0
2022-12-24 08:43:01,874 [s2@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-5810656FACBA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s2/213d97cd-749e-4f81-8120-5810656facba/current/log_inprogress_0
2022-12-24 08:43:01,877 [s0@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-5810656FACBA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc5efbf3e/s0/213d97cd-749e-4f81-8120-5810656facba/current/log_inprogress_0
2022-12-24 08:43:01,994 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5810656FACBA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5810656FACBA:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5810656FACBA:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:02,023 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:02,024 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:02,076 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B49F4D664334->s0: receive RaftClientReply:client-B49F4D664334->s0@group-5810656FACBA, cid=0, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-24 08:43:02,102 [s0@group-5810656FACBA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B49F4D664334
2022-12-24 08:43:02,108 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B49F4D664334->s0: receive RaftClientReply:client-B49F4D664334->s0@group-5810656FACBA, cid=1, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-12-24 08:43:02,112 [s2@group-5810656FACBA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B49F4D664334
2022-12-24 08:43:02,114 [s1@group-5810656FACBA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B49F4D664334
2022-12-24 08:43:02,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:02,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:02,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:02,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:02,132 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:02,133 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5810656FACBA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5810656FACBA-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5810656FACBA:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5810656FACBA-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5810656FACBA:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-5810656FACBA-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:39091|admin:localhost:34953|client:localhost:41209|dataStream:localhost:36861|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36175|admin:localhost:38443|client:localhost:40627|dataStream:localhost:33361|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39591|admin:localhost:34357|client:localhost:35123|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:02,137 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:02,139 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-5810656FACBA: shutdown
2022-12-24 08:43:02,139 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s0
2022-12-24 08:43:02,139 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-5810656FACBA-LeaderStateImpl
2022-12-24 08:43:02,139 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:02,139 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:02,140 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-5810656FACBA-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:02,140 [s0@group-5810656FACBA->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-5810656FACBA->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:02,141 [s0@group-5810656FACBA->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-5810656FACBA->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:02,144 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:02,144 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-5810656FACBA: shutdown
2022-12-24 08:43:02,151 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s1
2022-12-24 08:43:02,151 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5810656FACBA-FollowerState
2022-12-24 08:43:02,152 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-5810656FACBA-StateMachineUpdater: set stopIndex = 1
2022-12-24 08:43:02,152 [s1@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5810656FACBA-FollowerState was interrupted
2022-12-24 08:43:02,144 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:02,146 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#14-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-24 08:43:02,146 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#16-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-24 08:43:02,154 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5810656FACBA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:02,156 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5810656FACBA->s1: nextIndex: updateUnconditionally 3 -> 2
2022-12-24 08:43:02,156 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5810656FACBA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:02,157 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-5810656FACBA: applyIndex: 1
2022-12-24 08:43:02,157 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5810656FACBA->s2: nextIndex: updateUnconditionally 3 -> 2
2022-12-24 08:43:02,157 [s1@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-5810656FACBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:02,159 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:02,159 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-5810656FACBA: shutdown
2022-12-24 08:43:02,159 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5810656FACBA,id=s2
2022-12-24 08:43:02,159 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5810656FACBA-FollowerState
2022-12-24 08:43:02,159 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-5810656FACBA-StateMachineUpdater: set stopIndex = 1
2022-12-24 08:43:02,159 [s2@group-5810656FACBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5810656FACBA-FollowerState was interrupted
2022-12-24 08:43:02,159 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-5810656FACBA: applyIndex: 1
2022-12-24 08:43:02,160 [s2@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-5810656FACBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:02,158 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5810656FACBA-StateMachineUpdater: set stopIndex = 2
2022-12-24 08:43:02,161 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-5810656FACBA: applyIndex: 2
2022-12-24 08:43:02,161 [s0@group-5810656FACBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-5810656FACBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:02,162 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:02,164 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-5810656FACBA-SegmentedRaftLogWorker close()
2022-12-24 08:43:02,163 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-5810656FACBA-SegmentedRaftLogWorker close()
2022-12-24 08:43:02,163 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-5810656FACBA-SegmentedRaftLogWorker close()
2022-12-24 08:43:02,163 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:02,169 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:02,170 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:02,170 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:02,171 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:02,174 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:02,174 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:02,174 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:02,172 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:02,177 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:02,177 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:02,177 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:02,178 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:02,178 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:02,179 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:02,179 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:02,179 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:02,179 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:02,179 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:02,180 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:02,182 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:02,182 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:02,185 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:02,186 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:02,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:02,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:02,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:02,203 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2022-12-24 08:43:02,462 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2022-12-24 08:43:02,593 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-24 08:43:02,600 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2022-12-24 08:43:02,604 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2022-12-24 08:43:02,681 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:02,687 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:02,688 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3
2022-12-24 08:43:02,688 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3 does not exist.
2022-12-24 08:43:02,688 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3
2022-12-24 08:43:02,689 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:02,689 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,689 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46677 (custom)
2022-12-24 08:43:02,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43213 (custom)
2022-12-24 08:43:02,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:02,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36323 (custom)
2022-12-24 08:43:02,691 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:02,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,692 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:02,692 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:02,692 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:02,692 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:02,692 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:02,833 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:02,833 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:02,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:02,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,834 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3] (custom)
2022-12-24 08:43:02,841 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] returns group-ABFD652A98F4:java.util.concurrent.CompletableFuture@6fcb0359[Not completed]
2022-12-24 08:43:02,841 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:02,841 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4
2022-12-24 08:43:02,842 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4 does not exist.
2022-12-24 08:43:02,842 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4
2022-12-24 08:43:02,842 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:02,842 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38661 (custom)
2022-12-24 08:43:02,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33995 (custom)
2022-12-24 08:43:02,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:02,843 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37671 (custom)
2022-12-24 08:43:02,843 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:02,843 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,844 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:02,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:02,844 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:02,844 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:02,844 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:02,847 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,848 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,849 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:02,850 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-ABFD652A98F4: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:02,851 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:02,851 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:02,851 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:02,849 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:02,851 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:02,851 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:02,852 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,852 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4] (custom)
2022-12-24 08:43:02,853 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:02,860 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:02,862 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:02,865 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:02,865 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:02,865 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:02,865 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:02,866 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] returns group-ABFD652A98F4:java.util.concurrent.CompletableFuture@3644d3f2[Not completed]
2022-12-24 08:43:02,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:02,866 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5
2022-12-24 08:43:02,866 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5 does not exist.
2022-12-24 08:43:02,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5
2022-12-24 08:43:02,866 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41077 (custom)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44901 (custom)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43613 (custom)
2022-12-24 08:43:02,867 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:02,867 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:02,868 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:02,868 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:02,870 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:02,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:02,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:02,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5] (custom)
2022-12-24 08:43:02,871 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,872 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-ABFD652A98F4: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:02,873 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:02,875 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:02,875 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:02,875 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:02,875 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:02,876 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:02,877 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] returns group-ABFD652A98F4:java.util.concurrent.CompletableFuture@13dc5b06[Not completed]
2022-12-24 08:43:02,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:02,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:02,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3] (custom)
2022-12-24 08:43:02,878 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4 does not exist. Creating ...
2022-12-24 08:43:02,878 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,879 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,880 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-ABFD652A98F4:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:02,880 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:02,880 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:02,880 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4/current
2022-12-24 08:43:02,881 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4/sm
2022-12-24 08:43:02,881 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:02,881 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:02,882 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:02,882 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:02,882 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-ABFD652A98F4: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:02,882 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:02,882 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4 has been successfully formatted.
2022-12-24 08:43:02,882 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,882 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:02,882 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:02,883 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:02,883 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,883 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:02,883 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-ABFD652A98F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:02,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:02,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:02,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:02,886 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:02,886 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,886 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:02,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:02,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:02,889 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:02,891 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:02,891 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:02,891 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:02,891 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:02,891 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:02,891 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-ABFD652A98F4: start as a follower, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:02,891 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-ABFD652A98F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:02,891 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:02,893 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s3
2022-12-24 08:43:02,893 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:02,893 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:02,894 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:02,894 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:02,894 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:02,894 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-12-24 08:43:02,899 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 43213
2022-12-24 08:43:02,900 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 36323
2022-12-24 08:43:02,900 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 46677
2022-12-24 08:43:02,901 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:02,901 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:02,901 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4] (custom)
2022-12-24 08:43:02,902 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4 does not exist. Creating ...
2022-12-24 08:43:02,902 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,903 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-12-24 08:43:02,904 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:02,904 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4/current
2022-12-24 08:43:02,904 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4/sm
2022-12-24 08:43:02,905 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4 has been successfully formatted.
2022-12-24 08:43:02,905 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:02,906 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-ABFD652A98F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:02,907 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:02,908 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,908 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,908 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:02,908 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:02,909 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:02,909 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,909 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,913 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-ABFD652A98F4: start as a follower, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:02,913 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-ABFD652A98F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:02,913 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:02,917 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s4
2022-12-24 08:43:02,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:02,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:02,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:02,919 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:02,919 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:02,919 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-12-24 08:43:02,920 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 33995
2022-12-24 08:43:02,921 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 37671
2022-12-24 08:43:02,922 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 38661
2022-12-24 08:43:02,925 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:02,925 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:02,925 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5] (custom)
2022-12-24 08:43:02,926 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4 does not exist. Creating ...
2022-12-24 08:43:02,926 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,927 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:02,928 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4/current
2022-12-24 08:43:02,928 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4/sm
2022-12-24 08:43:02,929 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4 has been successfully formatted.
2022-12-24 08:43:02,929 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:02,929 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:02,930 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:02,930 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:02,930 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,930 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:02,930 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:02,931 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,931 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:02,931 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:02,931 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-ABFD652A98F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:02,932 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:02,933 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:02,934 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-ABFD652A98F4: start as a follower, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-ABFD652A98F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:02,935 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:02,936 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-12-24 08:43:02,936 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s5
2022-12-24 08:43:02,936 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:02,937 [s5@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:02,937 [s5@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:02,937 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:02,937 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:02,943 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2022-12-24 08:43:02,944 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 44901
2022-12-24 08:43:02,945 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 43613
2022-12-24 08:43:02,945 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 41077
2022-12-24 08:43:02,949 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2022-12-24 08:43:02,952 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:02,952 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,119 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD8454AD8A32->s3: receive RaftClientReply:client-CD8454AD8A32->s3@group-ABFD652A98F4, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-ABFD652A98F4 is not the leader, logIndex=0, commits[s3:c-1]
2022-12-24 08:43:03,158 [s3@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-ABFD652A98F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:266973619ns, electionTimeout:264ms
2022-12-24 08:43:03,158 [s3@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,159 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-ABFD652A98F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:03,159 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:03,159 [s3@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-ABFD652A98F4-LeaderElection4
2022-12-24 08:43:03,161 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-ABFD652A98F4-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,162 [s3@group-ABFD652A98F4-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-24 08:43:03,168 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,168 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,174 [s4@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-ABFD652A98F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:260830290ns, electionTimeout:255ms
2022-12-24 08:43:03,174 [s4@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,174 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-ABFD652A98F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:03,175 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:03,175 [s4@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-ABFD652A98F4-LeaderElection5
2022-12-24 08:43:03,175 [s5@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-ABFD652A98F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:239391695ns, electionTimeout:238ms
2022-12-24 08:43:03,175 [s5@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,175 [s5@group-ABFD652A98F4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-ABFD652A98F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:03,185 [s5@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:03,185 [s5@group-ABFD652A98F4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-ABFD652A98F4-LeaderElection6
2022-12-24 08:43:03,185 [s3@group-ABFD652A98F4-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-24 08:43:03,190 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-ABFD652A98F4-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,190 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-ABFD652A98F4-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,191 [s4@group-ABFD652A98F4-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-24 08:43:03,191 [s4@group-ABFD652A98F4-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,191 [s4@group-ABFD652A98F4-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,192 [s4@group-ABFD652A98F4-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-24 08:43:03,197 [s5@group-ABFD652A98F4-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-24 08:43:03,198 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,202 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,231 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,231 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,235 [s5@group-ABFD652A98F4-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-24 08:43:03,339 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-ABFD652A98F4-LeaderElection4: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:03,339 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-ABFD652A98F4-LeaderElection4 PRE_VOTE round 0: result TIMEOUT
2022-12-24 08:43:03,339 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-ABFD652A98F4-LeaderElection4 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,352 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,352 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,355 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s4, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,355 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,356 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-ABFD652A98F4 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s3@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,356 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s4, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,356 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,356 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-ABFD652A98F4 replies to PRE_VOTE vote request: s4<-s5#0:OK-t0. Peer's state: s5@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,359 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s3, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,360 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,360 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-ABFD652A98F4 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,371 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s3, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,372 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,372 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-ABFD652A98F4 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,373 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s5, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,373 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,373 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-ABFD652A98F4 replies to PRE_VOTE vote request: s5<-s3#0:OK-t0. Peer's state: s3@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s3@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,379 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-ABFD652A98F4-LeaderElection5: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-24 08:43:03,379 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-ABFD652A98F4-LeaderElection5 PRE_VOTE round 0: result TIMEOUT
2022-12-24 08:43:03,380 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-ABFD652A98F4-LeaderElection5 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,395 [s4@group-ABFD652A98F4-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,396 [s4@group-ABFD652A98F4-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,401 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-ABFD652A98F4-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:03,401 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:OK-t0
2022-12-24 08:43:03,402 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-ABFD652A98F4-LeaderElection6 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:03,403 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-ABFD652A98F4-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,410 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s4, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,410 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,410 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-ABFD652A98F4 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-ABFD652A98F4:t0, leader=null, voted=, raftlog=Memoized:s3@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,410 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s4, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,411 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,411 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-ABFD652A98F4 replies to PRE_VOTE vote request: s4<-s5#0:OK-t1. Peer's state: s5@group-ABFD652A98F4:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,414 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,414 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,416 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-ABFD652A98F4-LeaderElection5: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-24 08:43:03,417 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s5#0:OK-t1
2022-12-24 08:43:03,417 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-ABFD652A98F4-LeaderElection5 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:03,417 [s4@group-ABFD652A98F4-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-ABFD652A98F4: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:03,417 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-ABFD652A98F4-LeaderElection5
2022-12-24 08:43:03,417 [s4@group-ABFD652A98F4-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,430 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,433 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,433 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-ABFD652A98F4-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:03,433 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2022-12-24 08:43:03,433 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-ABFD652A98F4-LeaderElection4 PRE_VOTE round 1: result PASSED
2022-12-24 08:43:03,437 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-ABFD652A98F4-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,444 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,444 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,449 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s5, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,449 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-ABFD652A98F4-FOLLOWER: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,449 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-ABFD652A98F4 replies to PRE_VOTE vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-ABFD652A98F4:t1, leader=null, voted=null, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,449 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-ABFD652A98F4: receive requestVote(ELECTION, s5, group-ABFD652A98F4, 1, (t:0, i:0))
2022-12-24 08:43:03,449 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-ABFD652A98F4-FOLLOWER: accept ELECTION from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,450 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-ABFD652A98F4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s5
2022-12-24 08:43:03,450 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,450 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,450 [s4@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-ABFD652A98F4-FollowerState was interrupted
2022-12-24 08:43:03,450 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s3, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,451 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-ABFD652A98F4: receive requestVote(ELECTION, s5, group-ABFD652A98F4, 1, (t:0, i:0))
2022-12-24 08:43:03,451 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-ABFD652A98F4-CANDIDATE: reject ELECTION from s5: already has voted for s3 at current term 1
2022-12-24 08:43:03,451 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-ABFD652A98F4 replies to ELECTION vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-ABFD652A98F4:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,451 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,452 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-ABFD652A98F4 replies to PRE_VOTE vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-ABFD652A98F4:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,465 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,466 [s4@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,466 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-ABFD652A98F4: receive requestVote(PRE_VOTE, s3, group-ABFD652A98F4, 0, (t:0, i:0))
2022-12-24 08:43:03,466 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-ABFD652A98F4-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:03,466 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-ABFD652A98F4 replies to PRE_VOTE vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-ABFD652A98F4:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,467 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-ABFD652A98F4 replies to ELECTION vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-ABFD652A98F4:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,479 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-ABFD652A98F4-LeaderElection6: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:FAIL-t1
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s5<-s4#0:OK-t1
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-ABFD652A98F4-LeaderElection6 ELECTION round 0: result PASSED
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-ABFD652A98F4-LeaderElection6
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-ABFD652A98F4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-ABFD652A98F4: change Leader from null to s5 at term 1 for becomeLeader, leader elected after 597ms
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:03,480 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-24 08:43:03,481 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:03,481 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:03,481 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:03,481 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:03,481 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:03,482 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:03,482 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:03,482 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:03,482 [s5@group-ABFD652A98F4-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:03,483 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:03,484 [s5@group-ABFD652A98F4-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:03,484 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:03,484 [s5@group-ABFD652A98F4-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-ABFD652A98F4-LeaderStateImpl
2022-12-24 08:43:03,484 [s5@group-ABFD652A98F4-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:03,495 [s5@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s5/0e636e9d-d4c0-41db-b560-abfd652a98f4/current/log_inprogress_0
2022-12-24 08:43:03,501 [s5@group-ABFD652A98F4-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-ABFD652A98F4: set configuration 0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,511 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-ABFD652A98F4: receive requestVote(ELECTION, s3, group-ABFD652A98F4, 1, (t:0, i:0))
2022-12-24 08:43:03,511 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-ABFD652A98F4-FOLLOWER: reject ELECTION from s3: already has voted for s5 at current term 1
2022-12-24 08:43:03,511 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-ABFD652A98F4 replies to ELECTION vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-ABFD652A98F4:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,512 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-ABFD652A98F4: receive requestVote(ELECTION, s3, group-ABFD652A98F4, 1, (t:0, i:0))
2022-12-24 08:43:03,512 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-ABFD652A98F4-LEADER: reject ELECTION from s3: already has voted for s5 at current term 1
2022-12-24 08:43:03,513 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-ABFD652A98F4 replies to ELECTION vote request: s3<-s5#0:FAIL-t1. Peer's state: s5@group-ABFD652A98F4:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,516 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-ABFD652A98F4-LeaderElection4: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:03,516 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:FAIL-t1
2022-12-24 08:43:03,516 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s5#0:FAIL-t1
2022-12-24 08:43:03,516 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-ABFD652A98F4-LeaderElection4 ELECTION round 0: result REJECTED
2022-12-24 08:43:03,517 [s3@group-ABFD652A98F4-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-ABFD652A98F4: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-24 08:43:03,517 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-ABFD652A98F4-LeaderElection4
2022-12-24 08:43:03,517 [s3@group-ABFD652A98F4-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:03,518 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-ABFD652A98F4: change Leader from null to s5 at term 1 for appendEntries, leader elected after 645ms
2022-12-24 08:43:03,521 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:03,522 [s3@group-ABFD652A98F4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:03,522 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-ABFD652A98F4: change Leader from null to s5 at term 1 for appendEntries, leader elected after 671ms
2022-12-24 08:43:03,541 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-ABFD652A98F4: set configuration 0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,541 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:03,546 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-ABFD652A98F4: set configuration 0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:03,547 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:03,549 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD8454AD8A32->s5: receive RaftClientReply:client-CD8454AD8A32->s5@group-ABFD652A98F4, cid=2, SUCCESS, logIndex=0, commits[s5:c0, s3:c-1, s4:c-1]
2022-12-24 08:43:03,563 [s4@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s4/0e636e9d-d4c0-41db-b560-abfd652a98f4/current/log_inprogress_0
2022-12-24 08:43:03,563 [s3@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc79f634d2/s3/0e636e9d-d4c0-41db-b560-abfd652a98f4/current/log_inprogress_0
2022-12-24 08:43:03,567 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-CD8454AD8A32
2022-12-24 08:43:03,568 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD8454AD8A32->s5: receive RaftClientReply:client-CD8454AD8A32->s5@group-ABFD652A98F4, cid=3, SUCCESS, logIndex=1, commits[s5:c1, s3:c0, s4:c0]
2022-12-24 08:43:03,571 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-CD8454AD8A32
2022-12-24 08:43:03,573 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-CD8454AD8A32
2022-12-24 08:43:03,575 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:03,575 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,576 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,584 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,584 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,588 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,588 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,603 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,603 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,615 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,616 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,619 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,619 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,644 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,645 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,662 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,663 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,670 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,674 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,678 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,679 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,683 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:03,683 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:03,791 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A336D413D5D9->s5: receive RaftClientReply:client-A336D413D5D9->s5@group-ABFD652A98F4, cid=4, SUCCESS, logIndex=2, commits[s5:c2, s3:c1, s4:c1]
2022-12-24 08:43:03,922 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7AF46A222B1F->s5: receive RaftClientReply:client-7AF46A222B1F->s5@group-ABFD652A98F4, cid=18, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,925 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4947EB7A8247->s5: receive RaftClientReply:client-4947EB7A8247->s5@group-ABFD652A98F4, cid=22, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,930 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E37D7778D48F->s5: receive RaftClientReply:client-E37D7778D48F->s5@group-ABFD652A98F4, cid=6, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,961 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0CB51A5C56DD->s5: receive RaftClientReply:client-0CB51A5C56DD->s5@group-ABFD652A98F4, cid=8, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,967 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E67BA210630A->s5: receive RaftClientReply:client-E67BA210630A->s5@group-ABFD652A98F4, cid=12, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,996 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-46A77EE8904A->s5: receive RaftClientReply:client-46A77EE8904A->s5@group-ABFD652A98F4, cid=10, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:03,998 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A23166D3F3E3->s5: receive RaftClientReply:client-A23166D3F3E3->s5@group-ABFD652A98F4, cid=16, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:04,001 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A05D0B38F417->s5: receive RaftClientReply:client-A05D0B38F417->s5@group-ABFD652A98F4, cid=20, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:04,006 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C4CB076D2F77->s5: receive RaftClientReply:client-C4CB076D2F77->s5@group-ABFD652A98F4, cid=14, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:04,020 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9F79C3A6173D->s5: receive RaftClientReply:client-9F79C3A6173D->s5@group-ABFD652A98F4, cid=24, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:04,059 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-ABFD652A98F4: Failed to acquire a pending write request for RaftClientRequest:client-9F79C3A6173D->s5@group-ABFD652A98F4, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-ABFD652A98F4: Failed to acquire a pending write request for RaftClientRequest:client-9F79C3A6173D->s5@group-ABFD652A98F4, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:04,288 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:04,295 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-A336D413D5D9
2022-12-24 08:43:04,297 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A336D413D5D9->s5: receive RaftClientReply:client-A336D413D5D9->s5@group-ABFD652A98F4, cid=5, SUCCESS, logIndex=3, commits[s5:c3, s3:c2, s4:c2]
2022-12-24 08:43:04,298 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-A336D413D5D9
2022-12-24 08:43:04,299 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 8 -> (t:1, i:4), STATEMACHINELOGENTRY, 23@client-4947EB7A8247
2022-12-24 08:43:04,299 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 19@client-7AF46A222B1F
2022-12-24 08:43:04,299 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 7@client-E37D7778D48F
2022-12-24 08:43:04,300 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E67BA210630A
2022-12-24 08:43:04,300 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 9@client-0CB51A5C56DD
2022-12-24 08:43:04,300 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 11@client-46A77EE8904A
2022-12-24 08:43:04,300 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-C4CB076D2F77
2022-12-24 08:43:04,301 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 17@client-A23166D3F3E3
2022-12-24 08:43:04,301 [s5@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-A05D0B38F417
2022-12-24 08:43:04,302 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-A336D413D5D9
2022-12-24 08:43:04,302 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7AF46A222B1F->s5: receive RaftClientReply:client-7AF46A222B1F->s5@group-ABFD652A98F4, cid=19, SUCCESS, logIndex=5, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,303 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4947EB7A8247->s5: receive RaftClientReply:client-4947EB7A8247->s5@group-ABFD652A98F4, cid=23, SUCCESS, logIndex=4, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,304 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E37D7778D48F->s5: receive RaftClientReply:client-E37D7778D48F->s5@group-ABFD652A98F4, cid=7, SUCCESS, logIndex=6, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,304 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-46A77EE8904A->s5: receive RaftClientReply:client-46A77EE8904A->s5@group-ABFD652A98F4, cid=11, SUCCESS, logIndex=9, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,305 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C4CB076D2F77->s5: receive RaftClientReply:client-C4CB076D2F77->s5@group-ABFD652A98F4, cid=15, SUCCESS, logIndex=10, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,305 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A05D0B38F417->s5: receive RaftClientReply:client-A05D0B38F417->s5@group-ABFD652A98F4, cid=21, SUCCESS, logIndex=12, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,305 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0CB51A5C56DD->s5: receive RaftClientReply:client-0CB51A5C56DD->s5@group-ABFD652A98F4, cid=9, SUCCESS, logIndex=8, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,305 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A23166D3F3E3->s5: receive RaftClientReply:client-A23166D3F3E3->s5@group-ABFD652A98F4, cid=17, SUCCESS, logIndex=11, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,307 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 8 -> (t:1, i:4), STATEMACHINELOGENTRY, 23@client-4947EB7A8247
2022-12-24 08:43:04,307 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 19@client-7AF46A222B1F
2022-12-24 08:43:04,307 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 7@client-E37D7778D48F
2022-12-24 08:43:04,307 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 8 -> (t:1, i:4), STATEMACHINELOGENTRY, 23@client-4947EB7A8247
2022-12-24 08:43:04,307 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E67BA210630A
2022-12-24 08:43:04,308 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 6 -> (t:1, i:5), STATEMACHINELOGENTRY, 19@client-7AF46A222B1F
2022-12-24 08:43:04,308 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 9@client-0CB51A5C56DD
2022-12-24 08:43:04,308 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 7@client-E37D7778D48F
2022-12-24 08:43:04,308 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-E67BA210630A
2022-12-24 08:43:04,309 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 9@client-0CB51A5C56DD
2022-12-24 08:43:04,309 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 11@client-46A77EE8904A
2022-12-24 08:43:04,310 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-C4CB076D2F77
2022-12-24 08:43:04,310 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 17@client-A23166D3F3E3
2022-12-24 08:43:04,310 [s3@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-A05D0B38F417
2022-12-24 08:43:04,323 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 11@client-46A77EE8904A
2022-12-24 08:43:04,324 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-C4CB076D2F77
2022-12-24 08:43:04,324 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 17@client-A23166D3F3E3
2022-12-24 08:43:04,324 [s4@group-ABFD652A98F4-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 21@client-A05D0B38F417
2022-12-24 08:43:04,324 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E67BA210630A->s5: receive RaftClientReply:client-E67BA210630A->s5@group-ABFD652A98F4, cid=13, SUCCESS, logIndex=7, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:04,331 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,331 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,366 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA4F634DFDA7->s5: receive RaftClientReply:client-FA4F634DFDA7->s5@group-ABFD652A98F4, cid=26, SUCCESS, logIndex=14, commits[s5:c14, s3:c12, s4:c12]
2022-12-24 08:43:04,400 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-ABFD652A98F4: Failed to acquire a pending write request for RaftClientRequest:client-FA4F634DFDA7->s5@group-ABFD652A98F4, cid=27, seq=2, RW, Message:1266f478bf6ac6804643...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-ABFD652A98F4: Failed to acquire a pending write request for RaftClientRequest:client-FA4F634DFDA7->s5@group-ABFD652A98F4, cid=27, seq=2, RW, Message:1266f478bf6ac6804643...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:04,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-ABFD652A98F4:t1, leader=s5, voted=s3, raftlog=Memoized:s3@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-ABFD652A98F4:t1, leader=s5, voted=s5, raftlog=Memoized:s4@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING    LEADER s5@group-ABFD652A98F4:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-ABFD652A98F4-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36323|admin:localhost:46677|client:localhost:43213|dataStream:localhost:46819|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:37671|admin:localhost:38661|client:localhost:33995|dataStream:localhost:46751|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:43613|admin:localhost:41077|client:localhost:44901|dataStream:localhost:39391|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:04,679 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-12-24 08:43:04,679 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-12-24 08:43:04,682 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:04,682 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-ABFD652A98F4: shutdown
2022-12-24 08:43:04,682 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s3
2022-12-24 08:43:04,682 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:04,682 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-ABFD652A98F4-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:04,682 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2022-12-24 08:43:04,683 [s3@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-ABFD652A98F4-FollowerState was interrupted
2022-12-24 08:43:04,683 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-ABFD652A98F4: applyIndex: 14
2022-12-24 08:43:04,683 [s3@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:04,689 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:04,690 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-ABFD652A98F4: shutdown
2022-12-24 08:43:04,690 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s5
2022-12-24 08:43:04,690 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s5: shutdown s5@group-ABFD652A98F4-LeaderStateImpl
2022-12-24 08:43:04,690 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-24 08:43:04,690 [s5@group-ABFD652A98F4->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s5@group-ABFD652A98F4->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:04,690 [s5-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s5@group-ABFD652A98F4-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:04,691 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:04,691 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-ABFD652A98F4: shutdown
2022-12-24 08:43:04,691 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABFD652A98F4,id=s4
2022-12-24 08:43:04,691 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-ABFD652A98F4-FollowerState
2022-12-24 08:43:04,692 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-ABFD652A98F4-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:04,692 [s4@group-ABFD652A98F4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-ABFD652A98F4-FollowerState was interrupted
2022-12-24 08:43:04,692 [s5@group-ABFD652A98F4->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s5@group-ABFD652A98F4->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:04,692 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-ABFD652A98F4: applyIndex: 14
2022-12-24 08:43:04,692 [s4@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:04,693 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-24 08:43:04,693 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-ABFD652A98F4-SegmentedRaftLogWorker close()
2022-12-24 08:43:04,694 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:04,694 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:04,692 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: s5->s4#52-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-24 08:43:04,693 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s3: Completed APPEND_ENTRIES, lastRequest: s5->s3#42-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-24 08:43:04,696 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s5@group-ABFD652A98F4->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:04,696 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-24 08:43:04,699 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-ABFD652A98F4-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:04,699 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-ABFD652A98F4: applyIndex: 14
2022-12-24 08:43:04,700 [s5@group-ABFD652A98F4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:04,700 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-24 08:43:04,700 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-ABFD652A98F4-SegmentedRaftLogWorker close()
2022-12-24 08:43:04,696 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s5@group-ABFD652A98F4->s4: nextIndex: updateUnconditionally 15 -> 14
2022-12-24 08:43:04,701 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s5@group-ABFD652A98F4->s3-GrpcLogAppender is already stopped
2022-12-24 08:43:04,702 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-24 08:43:04,706 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-ABFD652A98F4-SegmentedRaftLogWorker close()
2022-12-24 08:43:04,707 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:04,707 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:04,707 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:04,708 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-24 08:43:04,708 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-12-24 08:43:04,711 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:04,711 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:04,711 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:04,711 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:04,711 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:04,712 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2022-12-24 08:43:04,712 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:04,712 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:04,713 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:04,713 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:04,713 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:04,714 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-12-24 08:43:04,714 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:04,715 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:04,715 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:04,715 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:04,721 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:04,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:04,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:04,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:04,723 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0
2022-12-24 08:43:04,723 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0 does not exist.
2022-12-24 08:43:04,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0
2022-12-24 08:43:04,724 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43797 (custom)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36777 (custom)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:04,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33333 (custom)
2022-12-24 08:43:04,724 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,725 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:04,725 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:04,725 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:04,725 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:04,726 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:04,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:04,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:04,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0] (custom)
2022-12-24 08:43:04,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] returns group-0E9317BE76EA:java.util.concurrent.CompletableFuture@54802ad7[Not completed]
2022-12-24 08:43:04,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:04,730 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1
2022-12-24 08:43:04,730 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1 does not exist.
2022-12-24 08:43:04,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1
2022-12-24 08:43:04,730 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43749 (custom)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43283 (custom)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:04,730 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45643 (custom)
2022-12-24 08:43:04,730 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,731 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:04,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:04,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:04,731 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1] (custom)
2022-12-24 08:43:04,734 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,734 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,734 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,735 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,736 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:04,736 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0E9317BE76EA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:04,737 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:04,738 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:04,741 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] returns group-0E9317BE76EA:java.util.concurrent.CompletableFuture@612c8df8[Not completed]
2022-12-24 08:43:04,741 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:04,742 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2
2022-12-24 08:43:04,742 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2 does not exist.
2022-12-24 08:43:04,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2
2022-12-24 08:43:04,743 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33051 (custom)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41759 (custom)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37059 (custom)
2022-12-24 08:43:04,743 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:04,743 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:04,744 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:04,744 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:04,744 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:04,744 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:04,744 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:04,744 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:04,745 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0E9317BE76EA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:04,746 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:04,746 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:04,746 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:04,746 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:04,746 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:04,747 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:04,750 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:04,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:04,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:04,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,754 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2] (custom)
2022-12-24 08:43:04,755 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:04,755 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:04,755 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:04,755 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:04,761 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] returns group-0E9317BE76EA:java.util.concurrent.CompletableFuture@7fee050e[Not completed]
2022-12-24 08:43:04,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:04,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:04,762 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0] (custom)
2022-12-24 08:43:04,762 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea does not exist. Creating ...
2022-12-24 08:43:04,763 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,764 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,764 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:04,764 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current
2022-12-24 08:43:04,764 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,765 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/sm
2022-12-24 08:43:04,766 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,766 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-0E9317BE76EA:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,766 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:04,766 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:04,766 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:04,767 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:04,767 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea has been successfully formatted.
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:04,767 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:04,768 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-0E9317BE76EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,769 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:04,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:04,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:04,772 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,772 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,772 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:04,772 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0E9317BE76EA: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:04,772 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:04,773 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:04,773 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:04,773 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:04,773 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:04,774 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:04,775 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:04,776 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:04,776 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:04,776 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:04,776 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-0E9317BE76EA: start as a follower, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:04,776 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0E9317BE76EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:04,776 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:04,777 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s0
2022-12-24 08:43:04,777 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:04,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:04,778 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:04,779 [s0@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:04,779 [s0@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:04,779 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:04,783 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36777
2022-12-24 08:43:04,786 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33333
2022-12-24 08:43:04,786 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43797
2022-12-24 08:43:04,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:04,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:04,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1] (custom)
2022-12-24 08:43:04,787 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea does not exist. Creating ...
2022-12-24 08:43:04,788 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,789 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:04,789 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current
2022-12-24 08:43:04,789 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/sm
2022-12-24 08:43:04,790 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea has been successfully formatted.
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:04,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:04,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:04,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-0E9317BE76EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,807 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,808 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:04,808 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:04,808 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:04,808 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,808 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,809 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-0E9317BE76EA: start as a follower, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:04,809 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0E9317BE76EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:04,809 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:04,809 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s1
2022-12-24 08:43:04,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:04,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:04,810 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:04,818 [s1@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:04,818 [s1@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:04,819 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:04,823 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43283
2022-12-24 08:43:04,823 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 45643
2022-12-24 08:43:04,824 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43749
2022-12-24 08:43:04,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:04,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:04,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2] (custom)
2022-12-24 08:43:04,824 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea does not exist. Creating ...
2022-12-24 08:43:04,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,826 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:04,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current
2022-12-24 08:43:04,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/sm
2022-12-24 08:43:04,828 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea has been successfully formatted.
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:04,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:04,829 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-0E9317BE76EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:04,830 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:04,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:04,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:04,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:04,831 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,831 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:04,838 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-0E9317BE76EA: start as a follower, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:04,838 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0E9317BE76EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:04,838 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:04,838 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s2
2022-12-24 08:43:04,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:04,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:04,839 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:04,839 [s2@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:04,840 [s2@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:04,840 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:04,841 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41759
2022-12-24 08:43:04,842 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37059
2022-12-24 08:43:04,842 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33051
2022-12-24 08:43:04,843 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:04,844 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,844 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,859 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0A0868DF5DC4->s0: receive RaftClientReply:client-0A0868DF5DC4->s0@group-0E9317BE76EA, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0E9317BE76EA is not the leader, logIndex=0, commits[s0:c-1]
2022-12-24 08:43:04,963 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:04,963 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:04,977 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0A0868DF5DC4->s2: receive RaftClientReply:client-0A0868DF5DC4->s2@group-0E9317BE76EA, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-0E9317BE76EA is not the leader, logIndex=0, commits[s2:c-1]
2022-12-24 08:43:05,012 [s0@group-0E9317BE76EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-0E9317BE76EA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235920153ns, electionTimeout:233ms
2022-12-24 08:43:05,013 [s0@group-0E9317BE76EA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,013 [s0@group-0E9317BE76EA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0E9317BE76EA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:05,013 [s0@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:05,013 [s0@group-0E9317BE76EA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0E9317BE76EA-LeaderElection7
2022-12-24 08:43:05,014 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-0E9317BE76EA-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,014 [s0@group-0E9317BE76EA-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:05,014 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:05,015 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:05,015 [s0@group-0E9317BE76EA-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:05,021 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-0E9317BE76EA: receive requestVote(PRE_VOTE, s0, group-0E9317BE76EA, 0, (t:0, i:0))
2022-12-24 08:43:05,022 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0E9317BE76EA-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:05,022 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-0E9317BE76EA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-0E9317BE76EA:t0, leader=null, voted=, raftlog=Memoized:s2@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,024 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-0E9317BE76EA: receive requestVote(PRE_VOTE, s0, group-0E9317BE76EA, 0, (t:0, i:0))
2022-12-24 08:43:05,024 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0E9317BE76EA-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:05,025 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-0E9317BE76EA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-0E9317BE76EA:t0, leader=null, voted=, raftlog=Memoized:s1@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,026 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-0E9317BE76EA-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:05,026 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2022-12-24 08:43:05,026 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-0E9317BE76EA-LeaderElection7 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:05,028 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-0E9317BE76EA-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,029 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-0E9317BE76EA: receive requestVote(ELECTION, s0, group-0E9317BE76EA, 1, (t:0, i:0))
2022-12-24 08:43:05,029 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0E9317BE76EA-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:05,029 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0E9317BE76EA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-12-24 08:43:05,029 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,030 [s1@group-0E9317BE76EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0E9317BE76EA-FollowerState was interrupted
2022-12-24 08:43:05,030 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:05,031 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,031 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:05,033 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-0E9317BE76EA replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-0E9317BE76EA:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,033 [s1@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:05,033 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-0E9317BE76EA: receive requestVote(ELECTION, s0, group-0E9317BE76EA, 1, (t:0, i:0))
2022-12-24 08:43:05,034 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0E9317BE76EA-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-12-24 08:43:05,034 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0E9317BE76EA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-12-24 08:43:05,034 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,034 [s1@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:05,035 [s2@group-0E9317BE76EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0E9317BE76EA-FollowerState was interrupted
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-0E9317BE76EA-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:05,035 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-0E9317BE76EA-LeaderElection7 ELECTION round 0: result PASSED
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0E9317BE76EA-LeaderElection7
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0E9317BE76EA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-0E9317BE76EA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 298ms
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:05,035 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-24 08:43:05,036 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:05,036 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:05,036 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:05,036 [s2@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:05,036 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:05,036 [s2@group-0E9317BE76EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:05,037 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-0E9317BE76EA replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-0E9317BE76EA:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,037 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:05,037 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:05,038 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:05,039 [s0@group-0E9317BE76EA-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0E9317BE76EA-LeaderStateImpl
2022-12-24 08:43:05,039 [s0@group-0E9317BE76EA-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:05,053 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-0E9317BE76EA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 307ms
2022-12-24 08:43:05,053 [s0@group-0E9317BE76EA-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-0E9317BE76EA: set configuration 0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,054 [s0@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s0/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current/log_inprogress_0
2022-12-24 08:43:05,057 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-0E9317BE76EA: set configuration 0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,058 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:05,068 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-0E9317BE76EA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 295ms
2022-12-24 08:43:05,069 [s1@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s1/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current/log_inprogress_0
2022-12-24 08:43:05,069 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-0E9317BE76EA: set configuration 0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,069 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:05,080 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,081 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,082 [s2@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpce7cf42ca/s2/6229f3a5-d82b-4a3a-8d47-0e9317be76ea/current/log_inprogress_0
2022-12-24 08:43:05,094 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0A0868DF5DC4->s1: receive RaftClientReply:client-0A0868DF5DC4->s1@group-0E9317BE76EA, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-0E9317BE76EA is not the leader s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c0, s0:c0, s2:c-1]
2022-12-24 08:43:05,097 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,098 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,105 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0A0868DF5DC4->s0: receive RaftClientReply:client-0A0868DF5DC4->s0@group-0E9317BE76EA, cid=28, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-24 08:43:05,112 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-0A0868DF5DC4
2022-12-24 08:43:05,114 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0A0868DF5DC4->s0: receive RaftClientReply:client-0A0868DF5DC4->s0@group-0E9317BE76EA, cid=29, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-12-24 08:43:05,116 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-0A0868DF5DC4
2022-12-24 08:43:05,118 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-0A0868DF5DC4
2022-12-24 08:43:05,120 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:05,120 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,120 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,124 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,124 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,130 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,131 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,133 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,134 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,137 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,142 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,140 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-24950E041DDC->s0: receive RaftClientReply:client-24950E041DDC->s0@group-0E9317BE76EA, cid=30, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-12-24 08:43:05,146 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,146 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,151 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2E6AB7DD3D8F->s0: receive RaftClientReply:client-2E6AB7DD3D8F->s0@group-0E9317BE76EA, cid=32, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-12-24 08:43:05,153 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9FD337D897C1->s0: receive RaftClientReply:client-9FD337D897C1->s0@group-0E9317BE76EA, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-12-24 08:43:05,159 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,159 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,165 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4A322C75682A->s0: receive RaftClientReply:client-4A322C75682A->s0@group-0E9317BE76EA, cid=36, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-12-24 08:43:05,183 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,183 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,185 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,185 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,191 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,191 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,192 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9841281AA28E->s0: receive RaftClientReply:client-9841281AA28E->s0@group-0E9317BE76EA, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,205 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-25AFE33167EE->s0: receive RaftClientReply:client-25AFE33167EE->s0@group-0E9317BE76EA, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,207 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9B9DFAF6FF55->s0: receive RaftClientReply:client-9B9DFAF6FF55->s0@group-0E9317BE76EA, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,212 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-61379D787202->s0: receive RaftClientReply:client-61379D787202->s0@group-0E9317BE76EA, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,218 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-836C72ED00FE->s0: receive RaftClientReply:client-836C72ED00FE->s0@group-0E9317BE76EA, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,220 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-443B9B1843EA->s0: receive RaftClientReply:client-443B9B1843EA->s0@group-0E9317BE76EA, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,231 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0F7AF15DA1EF->s0: receive RaftClientReply:client-0F7AF15DA1EF->s0@group-0E9317BE76EA, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:05,239 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-0E9317BE76EA: Failed to acquire a pending write request for RaftClientRequest:client-0F7AF15DA1EF->s0@group-0E9317BE76EA, cid=51, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-0E9317BE76EA: Failed to acquire a pending write request for RaftClientRequest:client-0F7AF15DA1EF->s0@group-0E9317BE76EA, cid=51, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:05,502 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:05,504 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-24950E041DDC
2022-12-24 08:43:05,506 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-24950E041DDC->s0: receive RaftClientReply:client-24950E041DDC->s0@group-0E9317BE76EA, cid=31, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-12-24 08:43:05,507 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-9FD337D897C1
2022-12-24 08:43:05,507 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-2E6AB7DD3D8F
2022-12-24 08:43:05,507 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-4A322C75682A
2022-12-24 08:43:05,507 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-9841281AA28E
2022-12-24 08:43:05,508 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-25AFE33167EE
2022-12-24 08:43:05,508 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 41@client-9B9DFAF6FF55
2022-12-24 08:43:05,508 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-61379D787202
2022-12-24 08:43:05,508 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-443B9B1843EA
2022-12-24 08:43:05,508 [s0@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-836C72ED00FE
2022-12-24 08:43:05,508 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-24950E041DDC
2022-12-24 08:43:05,511 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9841281AA28E->s0: receive RaftClientReply:client-9841281AA28E->s0@group-0E9317BE76EA, cid=39, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,513 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-9FD337D897C1
2022-12-24 08:43:05,513 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-2E6AB7DD3D8F
2022-12-24 08:43:05,513 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-4A322C75682A
2022-12-24 08:43:05,513 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4A322C75682A->s0: receive RaftClientReply:client-4A322C75682A->s0@group-0E9317BE76EA, cid=37, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,513 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-9841281AA28E
2022-12-24 08:43:05,514 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-25AFE33167EE
2022-12-24 08:43:05,514 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9FD337D897C1->s0: receive RaftClientReply:client-9FD337D897C1->s0@group-0E9317BE76EA, cid=35, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,514 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 41@client-9B9DFAF6FF55
2022-12-24 08:43:05,514 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-61379D787202
2022-12-24 08:43:05,514 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-443B9B1843EA
2022-12-24 08:43:05,514 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-25AFE33167EE->s0: receive RaftClientReply:client-25AFE33167EE->s0@group-0E9317BE76EA, cid=47, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,514 [s1@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-836C72ED00FE
2022-12-24 08:43:05,515 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2E6AB7DD3D8F->s0: receive RaftClientReply:client-2E6AB7DD3D8F->s0@group-0E9317BE76EA, cid=33, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,515 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-24950E041DDC
2022-12-24 08:43:05,516 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-61379D787202->s0: receive RaftClientReply:client-61379D787202->s0@group-0E9317BE76EA, cid=45, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,517 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9B9DFAF6FF55->s0: receive RaftClientReply:client-9B9DFAF6FF55->s0@group-0E9317BE76EA, cid=41, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,523 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-836C72ED00FE->s0: receive RaftClientReply:client-836C72ED00FE->s0@group-0E9317BE76EA, cid=49, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,523 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-9FD337D897C1
2022-12-24 08:43:05,523 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-443B9B1843EA->s0: receive RaftClientReply:client-443B9B1843EA->s0@group-0E9317BE76EA, cid=43, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-12-24 08:43:05,523 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-2E6AB7DD3D8F
2022-12-24 08:43:05,524 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-4A322C75682A
2022-12-24 08:43:05,524 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-9841281AA28E
2022-12-24 08:43:05,524 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 7 -> (t:1, i:8), STATEMACHINELOGENTRY, 47@client-25AFE33167EE
2022-12-24 08:43:05,525 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 41@client-9B9DFAF6FF55
2022-12-24 08:43:05,525 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-61379D787202
2022-12-24 08:43:05,525 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 43@client-443B9B1843EA
2022-12-24 08:43:05,526 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,527 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,528 [s2@group-0E9317BE76EA-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-836C72ED00FE
2022-12-24 08:43:05,533 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-500269DEB61D->s0: receive RaftClientReply:client-500269DEB61D->s0@group-0E9317BE76EA, cid=52, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-12-24 08:43:05,546 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-0E9317BE76EA: Failed to acquire a pending write request for RaftClientRequest:client-500269DEB61D->s0@group-0E9317BE76EA, cid=53, seq=2, RW, Message:e0b55dae85559a969d06...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-0E9317BE76EA: Failed to acquire a pending write request for RaftClientRequest:client-500269DEB61D->s0@group-0E9317BE76EA, cid=53, seq=2, RW, Message:e0b55dae85559a969d06...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:05,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0E9317BE76EA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0E9317BE76EA:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c12, conf=0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0E9317BE76EA:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-0E9317BE76EA-SegmentedRaftLog:OPENED:c12, conf=0: peers:[s0|rpc:localhost:33333|admin:localhost:43797|client:localhost:36777|dataStream:localhost:33779|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:45643|admin:localhost:43749|client:localhost:43283|dataStream:localhost:33329|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37059|admin:localhost:33051|client:localhost:41759|dataStream:localhost:40227|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:05,573 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:05,573 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:05,578 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:05,578 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:05,578 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-0E9317BE76EA: shutdown
2022-12-24 08:43:05,578 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s0
2022-12-24 08:43:05,578 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0E9317BE76EA-LeaderStateImpl
2022-12-24 08:43:05,578 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:05,579 [s0@group-0E9317BE76EA->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-0E9317BE76EA->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:05,578 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-0E9317BE76EA: shutdown
2022-12-24 08:43:05,580 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s1
2022-12-24 08:43:05,580 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,580 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-0E9317BE76EA-StateMachineUpdater: set stopIndex = 12
2022-12-24 08:43:05,580 [s1@group-0E9317BE76EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0E9317BE76EA-FollowerState was interrupted
2022-12-24 08:43:05,580 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#26-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-24 08:43:05,578 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:05,582 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-0E9317BE76EA: applyIndex: 12
2022-12-24 08:43:05,582 [s1@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:05,581 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-0E9317BE76EA->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:05,582 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0E9317BE76EA->s2: nextIndex: updateUnconditionally 15 -> 14
2022-12-24 08:43:05,578 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0E9317BE76EA-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:05,578 [s0@group-0E9317BE76EA->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-0E9317BE76EA->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:05,584 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-0E9317BE76EA-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:05,588 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#25-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-24 08:43:05,588 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-0E9317BE76EA-SegmentedRaftLogWorker close()
2022-12-24 08:43:05,589 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-0E9317BE76EA: shutdown
2022-12-24 08:43:05,589 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:05,589 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-0E9317BE76EA: applyIndex: 14
2022-12-24 08:43:05,590 [s0@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:05,592 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:05,592 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:05,594 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0E9317BE76EA,id=s2
2022-12-24 08:43:05,594 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0E9317BE76EA-FollowerState
2022-12-24 08:43:05,594 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-0E9317BE76EA-StateMachineUpdater: set stopIndex = 12
2022-12-24 08:43:05,594 [s2@group-0E9317BE76EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0E9317BE76EA-FollowerState was interrupted
2022-12-24 08:43:05,595 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-0E9317BE76EA: applyIndex: 12
2022-12-24 08:43:05,595 [s2@group-0E9317BE76EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:05,596 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-0E9317BE76EA-SegmentedRaftLogWorker close()
2022-12-24 08:43:05,596 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-0E9317BE76EA->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:05,597 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-0E9317BE76EA-SegmentedRaftLogWorker close()
2022-12-24 08:43:05,597 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:05,597 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:05,597 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s0@group-0E9317BE76EA->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:05,598 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:05,600 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:05,600 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:05,600 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:05,604 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:05,605 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:05,600 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:05,609 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:05,604 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:05,610 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:05,611 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:05,611 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:05,611 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:05,611 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:05,611 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:05,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:05,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:05,613 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:05,614 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-76B281571D65:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:05,615 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:05,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:05,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:05,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-76B281571D65:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:05,616 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0
2022-12-24 08:43:05,616 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0 does not exist.
2022-12-24 08:43:05,616 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0
2022-12-24 08:43:05,616 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41869 (custom)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44373 (custom)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:05,617 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41309 (custom)
2022-12-24 08:43:05,617 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:05,617 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:05,617 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:05,618 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:05,618 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:05,618 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:05,618 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:05,619 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:05,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:05,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:05,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:05,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:05,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0] (custom)
2022-12-24 08:43:05,620 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-76B281571D65:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER] returns group-76B281571D65:java.util.concurrent.CompletableFuture@40f745a[Not completed]
2022-12-24 08:43:05,620 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:05,620 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-76B281571D65:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-76B281571D65: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:05,621 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:05,622 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:05,622 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:05,622 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:05,623 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:05,623 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:05,623 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:05,623 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:05,623 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:05,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:05,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:05,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0] (custom)
2022-12-24 08:43:05,623 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65 does not exist. Creating ...
2022-12-24 08:43:05,624 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65
2022-12-24 08:43:05,625 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:05,625 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65/current
2022-12-24 08:43:05,626 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65/sm
2022-12-24 08:43:05,627 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65 has been successfully formatted.
2022-12-24 08:43:05,627 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:05,627 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:05,627 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-76B281571D65-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:05,628 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:05,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:05,630 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-76B281571D65-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:05,630 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-76B281571D65-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:05,633 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-76B281571D65: start as a follower, conf=-1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,633 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-76B281571D65: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:05,633 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76B281571D65-FollowerState
2022-12-24 08:43:05,634 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76B281571D65,id=s0
2022-12-24 08:43:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:05,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:05,634 [s0@group-76B281571D65-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:05,634 [s0@group-76B281571D65-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:05,635 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:05,639 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44373
2022-12-24 08:43:05,639 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41309
2022-12-24 08:43:05,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41869
2022-12-24 08:43:05,640 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:05,640 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:05,641 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76B281571D65:t0, leader=null, voted=, raftlog=Memoized:s0@group-76B281571D65-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:05,641 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76B281571D65:t0, leader=null, voted=, raftlog=Memoized:s0@group-76B281571D65-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76B281571D65:t0, leader=null, voted=, raftlog=Memoized:s0@group-76B281571D65-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:05,799 [s0@group-76B281571D65-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-76B281571D65-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165307928ns, electionTimeout:164ms
2022-12-24 08:43:05,799 [s0@group-76B281571D65-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-76B281571D65-FollowerState
2022-12-24 08:43:05,799 [s0@group-76B281571D65-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-76B281571D65: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:05,799 [s0@group-76B281571D65-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:05,800 [s0@group-76B281571D65-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76B281571D65-LeaderElection8
2022-12-24 08:43:05,802 [s0@group-76B281571D65-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76B281571D65-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,802 [s0@group-76B281571D65-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76B281571D65-LeaderElection8 PRE_VOTE round 0: result PASSED (term=0)
2022-12-24 08:43:05,803 [s0@group-76B281571D65-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-76B281571D65-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,803 [s0@group-76B281571D65-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-76B281571D65-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2022-12-24 08:43:05,803 [s0@group-76B281571D65-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-76B281571D65-LeaderElection8
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-76B281571D65: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-76B281571D65: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 182ms
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:05,804 [s0@group-76B281571D65-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76B281571D65-LeaderStateImpl
2022-12-24 08:43:05,805 [s0@group-76B281571D65-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-76B281571D65-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:05,809 [s0@group-76B281571D65-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-76B281571D65: set configuration 0: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:05,820 [s0@group-76B281571D65-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-76B281571D65-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc48005307/s0/4473a6c8-7d3c-46f4-b94f-76b281571d65/current/log_inprogress_0
2022-12-24 08:43:06,091 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-76B281571D65:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-76B281571D65-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41869 (custom)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44373 (custom)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41309 (custom)
2022-12-24 08:43:06,092 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:06,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:06,094 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-12-24 08:43:06,094 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:06,095 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-12-24 08:43:06,095 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:06,096 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-76B281571D65:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-76B281571D65-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41309|admin:localhost:41869|client:localhost:44373|dataStream:localhost:39753|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:06,097 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:06,097 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-76B281571D65: shutdown
2022-12-24 08:43:06,097 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-76B281571D65,id=s0
2022-12-24 08:43:06,097 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-76B281571D65-LeaderStateImpl
2022-12-24 08:43:06,097 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-76B281571D65-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:06,098 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-76B281571D65-StateMachineUpdater: set stopIndex = 0
2022-12-24 08:43:06,098 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-76B281571D65: applyIndex: 0
2022-12-24 08:43:06,098 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:06,101 [s0@group-76B281571D65-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-76B281571D65-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:06,102 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:06,102 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:06,103 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-76B281571D65-SegmentedRaftLogWorker close()
2022-12-24 08:43:06,103 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:06,103 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:06,103 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:06,104 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:06,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:06,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:06,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:06,105 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:06,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:06,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:06,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:06,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:06,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0
2022-12-24 08:43:06,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0 does not exist.
2022-12-24 08:43:06,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0
2022-12-24 08:43:06,107 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33973 (custom)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44473 (custom)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:06,108 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36279 (custom)
2022-12-24 08:43:06,108 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:06,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,108 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:06,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:06,109 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:06,109 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:06,109 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0] (custom)
2022-12-24 08:43:06,112 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] returns group-B2FB280880D5:java.util.concurrent.CompletableFuture@444891f4[Not completed]
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,112 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B2FB280880D5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:06,113 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:06,114 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:06,114 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:06,115 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:06,115 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:06,115 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:06,115 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:06,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:06,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:06,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0] (custom)
2022-12-24 08:43:06,115 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5 does not exist. Creating ...
2022-12-24 08:43:06,116 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
2022-12-24 08:43:06,117 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:06,117 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/current
2022-12-24 08:43:06,117 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/sm
2022-12-24 08:43:06,119 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5 has been successfully formatted.
2022-12-24 08:43:06,119 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:06,119 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:06,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-B2FB280880D5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:06,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:06,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,123 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-B2FB280880D5: start as a follower, conf=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-B2FB280880D5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:06,124 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B2FB280880D5-FollowerState
2022-12-24 08:43:06,126 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B2FB280880D5,id=s0
2022-12-24 08:43:06,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:06,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:06,126 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:06,126 [s0@group-B2FB280880D5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:06,126 [s0@group-B2FB280880D5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:06,130 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:06,131 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44473
2022-12-24 08:43:06,132 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36279
2022-12-24 08:43:06,133 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33973
2022-12-24 08:43:06,134 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:06,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:06,137 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B2FB280880D5:t0, leader=null, voted=, raftlog=Memoized:s0@group-B2FB280880D5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:06,138 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B2FB280880D5:t0, leader=null, voted=, raftlog=Memoized:s0@group-B2FB280880D5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B2FB280880D5:t0, leader=null, voted=, raftlog=Memoized:s0@group-B2FB280880D5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:06,391 [s0@group-B2FB280880D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B2FB280880D5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267070526ns, electionTimeout:265ms
2022-12-24 08:43:06,392 [s0@group-B2FB280880D5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-B2FB280880D5-FollowerState
2022-12-24 08:43:06,392 [s0@group-B2FB280880D5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-B2FB280880D5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:06,392 [s0@group-B2FB280880D5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:06,392 [s0@group-B2FB280880D5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B2FB280880D5-LeaderElection9
2022-12-24 08:43:06,394 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-B2FB280880D5-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:06,394 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-B2FB280880D5-LeaderElection9 PRE_VOTE round 0: result PASSED (term=0)
2022-12-24 08:43:06,395 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-B2FB280880D5-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:06,395 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-B2FB280880D5-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-B2FB280880D5-LeaderElection9
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-B2FB280880D5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-B2FB280880D5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 282ms
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:06,396 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:06,397 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:06,397 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:06,397 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:06,397 [s0@group-B2FB280880D5-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-B2FB280880D5-LeaderStateImpl
2022-12-24 08:43:06,397 [s0@group-B2FB280880D5-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:06,402 [s0@group-B2FB280880D5-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-B2FB280880D5: set configuration 0: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:06,409 [s0@group-B2FB280880D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/current/log_inprogress_0
2022-12-24 08:43:06,588 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B2FB280880D5:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B2FB280880D5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:06,591 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:06,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33973 (custom)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44473 (custom)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36279 (custom)
2022-12-24 08:43:06,592 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:06,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:06,593 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:06,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:06,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:06,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0] (custom)
2022-12-24 08:43:06,594 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
2022-12-24 08:43:06,595 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] returns group-B2FB280880D5:java.util.concurrent.CompletableFuture@3f248594[Not completed]
2022-12-24 08:43:06,595 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-B2FB280880D5
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B2FB280880D5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:06,595 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:06,596 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:06,596 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:06,596 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:06,596 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:06,596 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:06,596 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:06,596 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:06,596 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:06,597 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:06,597 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:06,597 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-12-24 08:43:06,597 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33973 (custom)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44473 (custom)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36279 (custom)
2022-12-24 08:43:06,598 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:06,598 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:06,599 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:06,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:06,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:06,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,600 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,600 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0] (custom)
2022-12-24 08:43:06,600 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
2022-12-24 08:43:06,600 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] returns group-B2FB280880D5:java.util.concurrent.CompletableFuture@73170456[Not completed]
2022-12-24 08:43:06,600 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-B2FB280880D5:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-B2FB280880D5
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B2FB280880D5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:06,601 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:06,602 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:06,602 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:06,602 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0] (custom)
2022-12-24 08:43:06,602 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:06,603 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:07,603 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:07,604 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:08,605 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:08,605 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:09,606 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:09,606 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:10,607 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:10,608 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc2fe6f824/s0/a25f9189-fc24-4055-8794-b2fb280880d5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33973 (custom)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44473 (custom)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36279 (custom)
2022-12-24 08:43:10,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:10,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:10,610 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:10,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:10,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:10,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:10,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:10,611 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B2FB280880D5:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-B2FB280880D5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36279|admin:localhost:33973|client:localhost:44473|dataStream:localhost:41237|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:10,612 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:10,612 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-B2FB280880D5: shutdown
2022-12-24 08:43:10,612 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B2FB280880D5,id=s0
2022-12-24 08:43:10,612 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-B2FB280880D5-LeaderStateImpl
2022-12-24 08:43:10,612 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-B2FB280880D5-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:10,613 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-B2FB280880D5-StateMachineUpdater: set stopIndex = 0
2022-12-24 08:43:10,613 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-B2FB280880D5: applyIndex: 0
2022-12-24 08:43:10,613 [s0@group-B2FB280880D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:10,614 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-B2FB280880D5-SegmentedRaftLogWorker close()
2022-12-24 08:43:10,618 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:10,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:10,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:10,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:10,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:10,623 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:10,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:10,625 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0
2022-12-24 08:43:10,625 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0 does not exist.
2022-12-24 08:43:10,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0
2022-12-24 08:43:10,626 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:10,626 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,626 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38751 (custom)
2022-12-24 08:43:10,629 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45543 (custom)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34283 (custom)
2022-12-24 08:43:10,630 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:10,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0] (custom)
2022-12-24 08:43:10,633 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] returns group-1ADBE149DBF2:java.util.concurrent.CompletableFuture@5807f4ff[Not completed]
2022-12-24 08:43:10,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:10,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1
2022-12-24 08:43:10,633 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1 does not exist.
2022-12-24 08:43:10,633 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1
2022-12-24 08:43:10,633 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34293 (custom)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43479 (custom)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40259 (custom)
2022-12-24 08:43:10,634 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:10,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:10,636 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:10,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:10,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:10,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1] (custom)
2022-12-24 08:43:10,637 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,641 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,641 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,641 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,642 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:10,638 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,638 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] returns group-1ADBE149DBF2:java.util.concurrent.CompletableFuture@5fefbcbe[Not completed]
2022-12-24 08:43:10,642 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,642 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:10,643 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:10,643 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2
2022-12-24 08:43:10,643 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:10,643 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2 does not exist.
2022-12-24 08:43:10,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2
2022-12-24 08:43:10,643 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,643 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,643 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:10,643 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:10,643 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1ADBE149DBF2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:10,644 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:10,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38277 (custom)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40303 (custom)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40047 (custom)
2022-12-24 08:43:10,645 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:10,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:10,645 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:10,646 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:10,646 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:10,646 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:10,646 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:10,647 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:10,647 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:10,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:10,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:10,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2] (custom)
2022-12-24 08:43:10,644 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,649 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-1ADBE149DBF2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:10,650 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:10,647 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:10,651 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:10,652 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:10,652 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] returns group-1ADBE149DBF2:java.util.concurrent.CompletableFuture@3c66d729[Not completed]
2022-12-24 08:43:10,653 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:10,653 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:10,653 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0] (custom)
2022-12-24 08:43:10,653 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 does not exist. Creating ...
2022-12-24 08:43:10,654 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-1ADBE149DBF2:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:10,654 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-1ADBE149DBF2: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:10,655 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:10,655 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:10,655 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:10,655 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:10,655 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:10,655 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current
2022-12-24 08:43:10,655 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:10,655 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/sm
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 has been successfully formatted.
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:10,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-1ADBE149DBF2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,659 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:10,660 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:10,660 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:10,660 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:10,660 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:10,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:10,661 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:10,661 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:10,661 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,661 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,667 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-1ADBE149DBF2: start as a follower, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,667 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1ADBE149DBF2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:10,667 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,667 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,668 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,668 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s0
2022-12-24 08:43:10,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:10,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:10,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:10,668 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:10,669 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45543
2022-12-24 08:43:10,669 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34283
2022-12-24 08:43:10,670 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38751
2022-12-24 08:43:10,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:10,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:10,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1] (custom)
2022-12-24 08:43:10,670 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 does not exist. Creating ...
2022-12-24 08:43:10,671 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,671 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:10,672 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:10,672 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current
2022-12-24 08:43:10,672 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/sm
2022-12-24 08:43:10,673 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 has been successfully formatted.
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:10,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-1ADBE149DBF2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:10,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:10,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:10,677 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,677 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,681 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-1ADBE149DBF2: start as a follower, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,681 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1ADBE149DBF2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:10,681 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,682 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s1
2022-12-24 08:43:10,682 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:10,682 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:10,682 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:10,682 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:10,682 [s1@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,682 [s1@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,683 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43479
2022-12-24 08:43:10,685 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40259
2022-12-24 08:43:10,685 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34293
2022-12-24 08:43:10,686 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:10,686 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:10,686 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:10,688 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2] (custom)
2022-12-24 08:43:10,688 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 does not exist. Creating ...
2022-12-24 08:43:10,688 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,690 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:10,690 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current
2022-12-24 08:43:10,690 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/sm
2022-12-24 08:43:10,691 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2 has been successfully formatted.
2022-12-24 08:43:10,691 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-1ADBE149DBF2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:10,692 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:10,693 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:10,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:10,694 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:10,695 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,695 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:10,695 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-1ADBE149DBF2: start as a follower, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,695 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1ADBE149DBF2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:10,695 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,696 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s2
2022-12-24 08:43:10,696 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:10,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:10,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:10,696 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,696 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:10,697 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40303
2022-12-24 08:43:10,698 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40047
2022-12-24 08:43:10,698 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38277
2022-12-24 08:43:10,698 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:10,699 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:10,699 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:10,699 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:10,872 [s1@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-1ADBE149DBF2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190316388ns, electionTimeout:189ms
2022-12-24 08:43:10,872 [s1@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,872 [s1@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1ADBE149DBF2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:10,873 [s1@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:10,873 [s1@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1ADBE149DBF2-LeaderElection10
2022-12-24 08:43:10,874 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-1ADBE149DBF2-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,874 [s1@group-1ADBE149DBF2-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:10,880 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,880 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,882 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s1, group-1ADBE149DBF2, 0, (t:0, i:0))
2022-12-24 08:43:10,883 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:10,883 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,885 [s1@group-1ADBE149DBF2-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:10,887 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-1ADBE149DBF2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192334931ns, electionTimeout:191ms
2022-12-24 08:43:10,887 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,887 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1ADBE149DBF2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:10,888 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:10,888 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1ADBE149DBF2-LeaderElection11
2022-12-24 08:43:10,889 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,889 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,890 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-1ADBE149DBF2-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:10,890 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-12-24 08:43:10,890 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-1ADBE149DBF2-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:10,890 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-1ADBE149DBF2-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,891 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s1, group-1ADBE149DBF2, 0, (t:0, i:0))
2022-12-24 08:43:10,891 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1ADBE149DBF2-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:10,891 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,892 [s2@group-1ADBE149DBF2-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:10,893 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,893 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,894 [s2@group-1ADBE149DBF2-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:10,895 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-1ADBE149DBF2-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,896 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s2, group-1ADBE149DBF2, 0, (t:0, i:0))
2022-12-24 08:43:10,897 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:10,897 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-1ADBE149DBF2:t0, leader=null, voted=, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,900 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,900 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,901 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s2, group-1ADBE149DBF2, 0, (t:0, i:0))
2022-12-24 08:43:10,901 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1ADBE149DBF2-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:10,901 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-1ADBE149DBF2:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,902 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1ADBE149DBF2-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:10,902 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-12-24 08:43:10,902 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-1ADBE149DBF2-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:10,903 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-1ADBE149DBF2: receive requestVote(ELECTION, s1, group-1ADBE149DBF2, 1, (t:0, i:0))
2022-12-24 08:43:10,904 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-1ADBE149DBF2-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,904 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-1ADBE149DBF2-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2022-12-24 08:43:10,904 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-1ADBE149DBF2 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-1ADBE149DBF2:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,905 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,905 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,907 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(ELECTION, s1, group-1ADBE149DBF2, 1, (t:0, i:0))
2022-12-24 08:43:10,907 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:10,907 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1ADBE149DBF2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-24 08:43:10,907 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,907 [s0@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1ADBE149DBF2-FollowerState was interrupted
2022-12-24 08:43:10,907 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,908 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(ELECTION, s2, group-1ADBE149DBF2, 1, (t:0, i:0))
2022-12-24 08:43:10,908 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-1ADBE149DBF2: receive requestVote(ELECTION, s2, group-1ADBE149DBF2, 1, (t:0, i:0))
2022-12-24 08:43:10,908 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1ADBE149DBF2-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2022-12-24 08:43:10,908 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-1ADBE149DBF2 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-1ADBE149DBF2:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,910 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,910 [s0@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,911 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-1ADBE149DBF2:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,911 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: reject ELECTION from s2: already has voted for s1 at current term 1
2022-12-24 08:43:10,911 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-1ADBE149DBF2:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-1ADBE149DBF2-LeaderElection10: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-1ADBE149DBF2-LeaderElection10 ELECTION round 0: result PASSED
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-1ADBE149DBF2-LeaderElection10
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1ADBE149DBF2: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-1ADBE149DBF2: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 262ms
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:10,912 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:10,913 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1ADBE149DBF2-LeaderStateImpl
2022-12-24 08:43:10,914 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1ADBE149DBF2-LeaderElection11: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-1ADBE149DBF2-LeaderElection11 ELECTION round 0: result REJECTED
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1ADBE149DBF2: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-1ADBE149DBF2-LeaderElection11
2022-12-24 08:43:10,917 [s2@group-1ADBE149DBF2-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:10,922 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:10,922 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:10,931 [s1@group-1ADBE149DBF2-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-1ADBE149DBF2: set configuration 0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,931 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0
2022-12-24 08:43:10,933 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1ADBE149DBF2: change Leader from null to s1 at term 1 for appendEntries, leader elected after 289ms
2022-12-24 08:43:10,936 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-1ADBE149DBF2: change Leader from null to s1 at term 1 for appendEntries, leader elected after 281ms
2022-12-24 08:43:10,945 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-1ADBE149DBF2: set configuration 0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,945 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-1ADBE149DBF2: set configuration 0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:10,945 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:10,947 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:10,965 [s2@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0
2022-12-24 08:43:10,966 [s0@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0
2022-12-24 08:43:11,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,151 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:11,151 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:11,161 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3216C0EE2BB7->s0: receive RaftClientReply:client-3216C0EE2BB7->s0@group-1ADBE149DBF2, cid=54, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-1ADBE149DBF2 is not the leader s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-24 08:43:11,163 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:11,163 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:11,175 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3216C0EE2BB7->s1: receive RaftClientReply:client-3216C0EE2BB7->s1@group-1ADBE149DBF2, cid=54, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-12-24 08:43:11,180 [s1@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-3216C0EE2BB7
2022-12-24 08:43:11,182 [s2@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-3216C0EE2BB7
2022-12-24 08:43:11,183 [s0@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-3216C0EE2BB7
2022-12-24 08:43:11,183 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3216C0EE2BB7->s1: receive RaftClientReply:client-3216C0EE2BB7->s1@group-1ADBE149DBF2, cid=55, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-12-24 08:43:11,187 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:11,187 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:11,194 [s1@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-B0944A3164C4
2022-12-24 08:43:11,196 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B0944A3164C4->s1: receive RaftClientReply:client-B0944A3164C4->s1@group-1ADBE149DBF2, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2022-12-24 08:43:11,196 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2022-12-24 08:43:11,198 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-12-24 08:43:11,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:11,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,199 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-12-24 08:43:11,202 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-12-24 08:43:11,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,204 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:11,305 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:11,306 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,306 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,306 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:11,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:11,407 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,407 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1ADBE149DBF2:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,407 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:11,428 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-1ADBE149DBF2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233650560ns, electionTimeout:206ms
2022-12-24 08:43:11,428 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:11,428 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1ADBE149DBF2: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-12-24 08:43:11,428 [s2@group-1ADBE149DBF2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:11,428 [s2@group-1ADBE149DBF2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1ADBE149DBF2-LeaderElection12
2022-12-24 08:43:11,431 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-1ADBE149DBF2: change Leader from s1 to null at term 1 for PRE_VOTE
2022-12-24 08:43:11,431 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-1ADBE149DBF2-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,434 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s2, group-1ADBE149DBF2, 1, (t:1, i:3))
2022-12-24 08:43:11,434 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-1ADBE149DBF2: receive requestVote(PRE_VOTE, s2, group-1ADBE149DBF2, 1, (t:1, i:3))
2022-12-24 08:43:11,435 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:11,435 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,435 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1ADBE149DBF2-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-12-24 08:43:11,437 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-1ADBE149DBF2 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-1ADBE149DBF2:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,438 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1ADBE149DBF2-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:11,438 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-24 08:43:11,438 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-1ADBE149DBF2-LeaderElection12 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:11,440 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-1ADBE149DBF2-LeaderElection12 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-1ADBE149DBF2: receive requestVote(ELECTION, s2, group-1ADBE149DBF2, 2, (t:1, i:3))
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1ADBE149DBF2-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1ADBE149DBF2: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-1ADBE149DBF2: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:11,447 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:11,447 [s0@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1ADBE149DBF2-FollowerState was interrupted
2022-12-24 08:43:11,452 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-1ADBE149DBF2: receive requestVote(ELECTION, s2, group-1ADBE149DBF2, 2, (t:1, i:3))
2022-12-24 08:43:11,452 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1ADBE149DBF2-LEADER: reject ELECTION from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2022-12-24 08:43:11,453 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-1ADBE149DBF2: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-24 08:43:11,453 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-1ADBE149DBF2: changes role from    LEADER to FOLLOWER at term 2 for candidate:s2
2022-12-24 08:43:11,453 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-1ADBE149DBF2-LeaderStateImpl
2022-12-24 08:43:11,453 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-1ADBE149DBF2 replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-1ADBE149DBF2:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,453 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-1ADBE149DBF2-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:11,454 [s1@group-1ADBE149DBF2->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-1ADBE149DBF2->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:11,454 [s1@group-1ADBE149DBF2->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-1ADBE149DBF2->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1ADBE149DBF2-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-1ADBE149DBF2-LeaderElection12 ELECTION round 0: result PASSED
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-1ADBE149DBF2-LeaderElection12
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-1ADBE149DBF2: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-1ADBE149DBF2: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 23ms
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:11,455 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-24 08:43:11,456 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:11,457 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1ADBE149DBF2-LeaderStateImpl
2022-12-24 08:43:11,457 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2022-12-24 08:43:11,460 [s2@group-1ADBE149DBF2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,460 [s2@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,468 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:11,471 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1ADBE149DBF2: change Leader from null to s2 at term 2 for appendEntries, leader elected after 23ms
2022-12-24 08:43:11,472 [s2@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s2/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_4
2022-12-24 08:43:11,472 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-1ADBE149DBF2 replies to ELECTION vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-1ADBE149DBF2:t2, leader=null, voted=null, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,477 [s2@group-1ADBE149DBF2-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-1ADBE149DBF2: set configuration 4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,488 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-1ADBE149DBF2: set configuration 4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,489 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2022-12-24 08:43:11,490 [s0@group-1ADBE149DBF2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,490 [s0@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,502 [s0@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s0/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_4
2022-12-24 08:43:11,502 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-1ADBE149DBF2: change Leader from null to s2 at term 2 for appendEntries, leader elected after 49ms
2022-12-24 08:43:11,503 [s2@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-B0944A3164C4
2022-12-24 08:43:11,505 [s0@group-1ADBE149DBF2-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-B0944A3164C4
2022-12-24 08:43:11,507 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:11,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:11,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-12-24 08:43:11,508 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-12-24 08:43:11,508 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-12-24 08:43:11,508 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-B0944A3164C4->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-B0944A3164C4->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-12-24 08:43:11,513 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2022-12-24 08:43:11,513 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-1ADBE149DBF2: set configuration 4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:11,515 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(447)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 4) isOpen? true, length=377, newEndIndex=3
  toDelete: [], start index 4
2022-12-24 08:43:11,517 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 length: 356 -> 377
2022-12-24 08:43:11,517 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,517 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(675)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_0 to length 377 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_0-3
2022-12-24 08:43:11,518 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2022-12-24 08:43:11,518 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 3
2022-12-24 08:43:11,518 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: Starting segment from index:4
2022-12-24 08:43:11,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:11,519 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:11,522 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-12-24 08:43:11,537 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpca3ea32ef/s1/9eb96e7e-f2b3-4eca-b185-1adbe149dbf2/current/log_inprogress_4
2022-12-24 08:43:11,802 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-12-24 08:43:11,803 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-12-24 08:43:11,807 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#10-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-24 08:43:11,808 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-1ADBE149DBF2->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:11,808 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-1ADBE149DBF2->s2: nextIndex: updateUnconditionally 5 -> 4
2022-12-24 08:43:11,809 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#10-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-24 08:43:11,810 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-1ADBE149DBF2->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:11,810 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-1ADBE149DBF2->s0: nextIndex: updateUnconditionally 5 -> 4
2022-12-24 08:43:12,521 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-B0944A3164C4->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-B0944A3164C4->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-12-24 08:43:12,530 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B0944A3164C4->s1: receive RaftClientReply:client-B0944A3164C4->s1@group-1ADBE149DBF2, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-12-24 08:43:15,522 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=479, target=localhost:43479}}. 
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:15,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1ADBE149DBF2:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1ADBE149DBF2:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-1ADBE149DBF2-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:34283|admin:localhost:38751|client:localhost:45543|dataStream:localhost:45663|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40259|admin:localhost:34293|client:localhost:43479|dataStream:localhost:45465|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40047|admin:localhost:38277|client:localhost:40303|dataStream:localhost:42575|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:15,528 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:15,528 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-1ADBE149DBF2: shutdown
2022-12-24 08:43:15,529 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s0
2022-12-24 08:43:15,529 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:15,529 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-1ADBE149DBF2-StateMachineUpdater: set stopIndex = 5
2022-12-24 08:43:15,529 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:15,529 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:15,529 [s0@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1ADBE149DBF2-FollowerState was interrupted
2022-12-24 08:43:15,529 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:15,530 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-1ADBE149DBF2: shutdown
2022-12-24 08:43:15,533 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s2
2022-12-24 08:43:15,533 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-1ADBE149DBF2-LeaderStateImpl
2022-12-24 08:43:15,533 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-1ADBE149DBF2-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:15,529 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-1ADBE149DBF2: applyIndex: 5
2022-12-24 08:43:15,534 [s0@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:15,529 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-1ADBE149DBF2: shutdown
2022-12-24 08:43:15,533 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:15,534 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1ADBE149DBF2,id=s1
2022-12-24 08:43:15,534 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1ADBE149DBF2-FollowerState
2022-12-24 08:43:15,534 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-1ADBE149DBF2-StateMachineUpdater: set stopIndex = 5
2022-12-24 08:43:15,534 [s1@group-1ADBE149DBF2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-1ADBE149DBF2-FollowerState was interrupted
2022-12-24 08:43:15,532 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:15,534 [s2@group-1ADBE149DBF2->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-1ADBE149DBF2->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:15,534 [s2@group-1ADBE149DBF2->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-1ADBE149DBF2->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:15,535 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#6-t2,previous=(t:2, i:4),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2022-12-24 08:43:15,535 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2022-12-24 08:43:15,536 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-1ADBE149DBF2: applyIndex: 5
2022-12-24 08:43:15,536 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-1ADBE149DBF2->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:15,536 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-1ADBE149DBF2->s0: nextIndex: updateUnconditionally 6 -> 5
2022-12-24 08:43:15,536 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-1ADBE149DBF2->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:15,536 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-1ADBE149DBF2->s1: nextIndex: updateUnconditionally 6 -> 5
2022-12-24 08:43:15,536 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:15,539 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:15,539 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:15,539 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-1ADBE149DBF2-StateMachineUpdater: set stopIndex = 5
2022-12-24 08:43:15,539 [s1@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:15,540 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:15,540 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-1ADBE149DBF2-SegmentedRaftLogWorker close()
2022-12-24 08:43:15,541 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:15,541 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:15,541 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-1ADBE149DBF2: applyIndex: 5
2022-12-24 08:43:15,542 [s2@group-1ADBE149DBF2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:15,543 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-1ADBE149DBF2-SegmentedRaftLogWorker close()
2022-12-24 08:43:15,544 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-1ADBE149DBF2-SegmentedRaftLogWorker close()
2022-12-24 08:43:15,545 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:15,545 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:15,545 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:15,545 [MiniRaftCluster-14] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:15,546 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:15,546 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:15,546 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:15,547 [MiniRaftCluster-14] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:15,547 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:15,547 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:15,547 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:15,547 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:15,548 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:15,548 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:15,548 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:15,548 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:15,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:15,550 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:15,550 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:15,550 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:15,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:15,551 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:15,551 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0
2022-12-24 08:43:15,552 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0 does not exist.
2022-12-24 08:43:15,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0
2022-12-24 08:43:15,552 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:15,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39477 (custom)
2022-12-24 08:43:15,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40241 (custom)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37037 (custom)
2022-12-24 08:43:15,553 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:15,553 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,555 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0] (custom)
2022-12-24 08:43:15,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] returns group-F4E2BD70C7F0:java.util.concurrent.CompletableFuture@67a39cbd[Not completed]
2022-12-24 08:43:15,556 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:15,556 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1
2022-12-24 08:43:15,556 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1 does not exist.
2022-12-24 08:43:15,556 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1
2022-12-24 08:43:15,556 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34639 (custom)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43623 (custom)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:15,556 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37603 (custom)
2022-12-24 08:43:15,557 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:15,557 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:15,558 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:15,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:15,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:15,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,559 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,559 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1] (custom)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:15,559 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F4E2BD70C7F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:15,560 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:15,561 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:15,561 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:15,561 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] returns group-F4E2BD70C7F0:java.util.concurrent.CompletableFuture@13496a97[Not completed]
2022-12-24 08:43:15,561 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:15,561 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2
2022-12-24 08:43:15,562 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2 does not exist.
2022-12-24 08:43:15,562 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2
2022-12-24 08:43:15,562 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:15,562 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,562 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,562 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,562 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,562 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41841 (custom)
2022-12-24 08:43:15,562 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:15,562 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39243 (custom)
2022-12-24 08:43:15,562 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33675 (custom)
2022-12-24 08:43:15,563 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:15,563 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:15,562 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,563 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:15,563 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:15,563 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:15,563 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,564 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,564 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:15,564 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:15,565 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-F4E2BD70C7F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:15,565 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:15,565 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:15,565 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:15,565 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:15,565 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:15,565 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,565 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,565 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:15,566 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2] (custom)
2022-12-24 08:43:15,569 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:15,570 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:15,570 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] returns group-F4E2BD70C7F0:java.util.concurrent.CompletableFuture@61da3620[Not completed]
2022-12-24 08:43:15,571 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,571 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:15,571 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:15,571 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:15,571 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0] (custom)
2022-12-24 08:43:15,571 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 does not exist. Creating ...
2022-12-24 08:43:15,571 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,572 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:15,572 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-F4E2BD70C7F0:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,572 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:15,572 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:15,573 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-F4E2BD70C7F0: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:15,573 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:15,573 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:15,574 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:15,574 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current
2022-12-24 08:43:15,574 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/sm
2022-12-24 08:43:15,574 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:15,574 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:15,574 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:15,575 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:15,575 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:15,575 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:15,575 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:15,575 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 has been successfully formatted.
2022-12-24 08:43:15,577 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,577 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:15,577 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:15,577 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:15,578 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,578 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:15,578 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:15,578 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:15,579 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:15,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:15,582 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,582 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:15,597 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-F4E2BD70C7F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F4E2BD70C7F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:15,598 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,599 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s0
2022-12-24 08:43:15,599 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:15,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:15,600 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:15,604 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,604 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:15,605 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40241
2022-12-24 08:43:15,605 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37037
2022-12-24 08:43:15,606 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39477
2022-12-24 08:43:15,607 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:15,607 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:15,607 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:15,607 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1] (custom)
2022-12-24 08:43:15,607 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 does not exist. Creating ...
2022-12-24 08:43:15,608 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,630 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:15,631 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current
2022-12-24 08:43:15,631 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/sm
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 has been successfully formatted.
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:15,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:15,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:15,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:15,634 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:15,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:15,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:15,636 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,636 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,641 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-F4E2BD70C7F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,641 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-F4E2BD70C7F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:15,645 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,645 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s1
2022-12-24 08:43:15,645 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:15,645 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:15,645 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:15,646 [s1@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,646 [s1@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,646 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:15,647 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43623
2022-12-24 08:43:15,647 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37603
2022-12-24 08:43:15,647 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34639
2022-12-24 08:43:15,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:15,648 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:15,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:15,649 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2] (custom)
2022-12-24 08:43:15,649 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 does not exist. Creating ...
2022-12-24 08:43:15,650 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,651 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:15,651 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current
2022-12-24 08:43:15,651 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/sm
2022-12-24 08:43:15,652 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0 has been successfully formatted.
2022-12-24 08:43:15,652 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:15,652 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:15,652 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:15,653 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,654 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:15,657 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-F4E2BD70C7F0: start as a follower, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,657 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-F4E2BD70C7F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:15,657 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,661 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s2
2022-12-24 08:43:15,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:15,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:15,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:15,661 [s2@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,661 [s2@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,662 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:15,662 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39243
2022-12-24 08:43:15,662 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33675
2022-12-24 08:43:15,663 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41841
2022-12-24 08:43:15,663 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:15,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:15,663 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s2@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:15,664 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s2@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s2@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:15,812 [s2@group-F4E2BD70C7F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F4E2BD70C7F0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154344839ns, electionTimeout:150ms
2022-12-24 08:43:15,812 [s2@group-F4E2BD70C7F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,812 [s2@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-F4E2BD70C7F0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:15,812 [s2@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:15,812 [s2@group-F4E2BD70C7F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F4E2BD70C7F0-LeaderElection13
2022-12-24 08:43:15,813 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-F4E2BD70C7F0-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,814 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,814 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,814 [s2@group-F4E2BD70C7F0-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:15,814 [s2@group-F4E2BD70C7F0-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:15,827 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-F4E2BD70C7F0: receive requestVote(PRE_VOTE, s2, group-F4E2BD70C7F0, 0, (t:0, i:0))
2022-12-24 08:43:15,827 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F4E2BD70C7F0-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:15,827 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-F4E2BD70C7F0 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,828 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-F4E2BD70C7F0: receive requestVote(PRE_VOTE, s2, group-F4E2BD70C7F0, 0, (t:0, i:0))
2022-12-24 08:43:15,829 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F4E2BD70C7F0-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:15,829 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-F4E2BD70C7F0 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-F4E2BD70C7F0:t0, leader=null, voted=, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,830 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-F4E2BD70C7F0-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:15,830 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-12-24 08:43:15,830 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-F4E2BD70C7F0-LeaderElection13 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:15,831 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,831 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,832 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-F4E2BD70C7F0-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,833 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,834 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,834 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-F4E2BD70C7F0: receive requestVote(ELECTION, s2, group-F4E2BD70C7F0, 1, (t:0, i:0))
2022-12-24 08:43:15,834 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F4E2BD70C7F0-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:15,835 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F4E2BD70C7F0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:15,835 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,835 [s0@group-F4E2BD70C7F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F4E2BD70C7F0-FollowerState was interrupted
2022-12-24 08:43:15,835 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,836 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,836 [s0@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,837 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-F4E2BD70C7F0: receive requestVote(ELECTION, s2, group-F4E2BD70C7F0, 1, (t:0, i:0))
2022-12-24 08:43:15,837 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F4E2BD70C7F0-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:15,837 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-F4E2BD70C7F0 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-F4E2BD70C7F0:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,837 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-F4E2BD70C7F0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:15,837 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,837 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:15,838 [s1@group-F4E2BD70C7F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F4E2BD70C7F0-FollowerState was interrupted
2022-12-24 08:43:15,838 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-F4E2BD70C7F0-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:15,838 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-24 08:43:15,838 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-F4E2BD70C7F0-LeaderElection13 ELECTION round 0: result PASSED
2022-12-24 08:43:15,838 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F4E2BD70C7F0-LeaderElection13
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-F4E2BD70C7F0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-F4E2BD70C7F0: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 265ms
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:15,839 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:15,840 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F4E2BD70C7F0-LeaderStateImpl
2022-12-24 08:43:15,841 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:15,842 [s1@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:15,842 [s1@group-F4E2BD70C7F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:15,842 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-F4E2BD70C7F0 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-F4E2BD70C7F0:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,854 [s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s2/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current/log_inprogress_0
2022-12-24 08:43:15,854 [s2@group-F4E2BD70C7F0-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-F4E2BD70C7F0: set configuration 0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,861 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-F4E2BD70C7F0: change Leader from null to s2 at term 1 for appendEntries, leader elected after 301ms
2022-12-24 08:43:15,862 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-F4E2BD70C7F0: change Leader from null to s2 at term 1 for appendEntries, leader elected after 297ms
2022-12-24 08:43:15,863 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-F4E2BD70C7F0: set configuration 0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,863 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:15,869 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-F4E2BD70C7F0: set configuration 0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:15,869 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:15,882 [s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s0/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current/log_inprogress_0
2022-12-24 08:43:15,883 [s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc62dc704/s1/9b6f0e70-35d8-4546-985f-f4e2bd70c7f0/current/log_inprogress_0
2022-12-24 08:43:16,115 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:16,115 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:16,115 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:16,123 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s0: receive RaftClientReply:client-A3389081C108->s0@group-F4E2BD70C7F0, cid=56, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F4E2BD70C7F0 is not the leader s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-24 08:43:16,128 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:16,128 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:16,138 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=56, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-12-24 08:43:16,143 [s2@group-F4E2BD70C7F0-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A3389081C108
2022-12-24 08:43:16,145 [s0@group-F4E2BD70C7F0-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A3389081C108
2022-12-24 08:43:16,146 [s1@group-F4E2BD70C7F0-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A3389081C108
2022-12-24 08:43:16,147 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=57, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-12-24 08:43:16,148 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2022-12-24 08:43:16,149 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=58, SUCCESS, logIndex=0, commits[s2:c2, s0:c1, s1:c1]
2022-12-24 08:43:20,151 [timer6] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=540, target=localhost:39243}}. 
2022-12-24 08:43:20,254 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,254 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,260 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2022-12-24 08:43:20,261 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=59, SUCCESS, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:20,263 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,263 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,269 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-A3389081C108->s0@group-F4E2BD70C7F0, cid=60, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-A3389081C108->s0@group-F4E2BD70C7F0, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F4E2BD70C7F0 is not the leader s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:20,271 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s0: receive RaftClientReply:client-A3389081C108->s0@group-F4E2BD70C7F0, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F4E2BD70C7F0 is not the leader s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-12-24 08:43:20,286 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=60, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:20,290 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3389081C108->s2: receive RaftClientReply:client-A3389081C108->s2@group-F4E2BD70C7F0, cid=61, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:20,297 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F4E2BD70C7F0:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-F4E2BD70C7F0-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37037|admin:localhost:39477|client:localhost:40241|dataStream:localhost:37695|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37603|admin:localhost:34639|client:localhost:43623|dataStream:localhost:45567|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:33675|admin:localhost:41841|client:localhost:39243|dataStream:localhost:35821|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:20,300 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:20,304 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:20,304 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-F4E2BD70C7F0: shutdown
2022-12-24 08:43:20,305 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s0
2022-12-24 08:43:20,305 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:20,305 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-F4E2BD70C7F0-StateMachineUpdater: set stopIndex = 2
2022-12-24 08:43:20,305 [s0@group-F4E2BD70C7F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F4E2BD70C7F0-FollowerState was interrupted
2022-12-24 08:43:20,305 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-F4E2BD70C7F0: applyIndex: 2
2022-12-24 08:43:20,305 [s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:20,306 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:20,306 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:20,307 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:20,307 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-F4E2BD70C7F0: shutdown
2022-12-24 08:43:20,307 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s2
2022-12-24 08:43:20,307 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-F4E2BD70C7F0-LeaderStateImpl
2022-12-24 08:43:20,307 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-F4E2BD70C7F0-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:20,307 [s2@group-F4E2BD70C7F0->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-F4E2BD70C7F0->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:20,308 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-F4E2BD70C7F0-SegmentedRaftLogWorker close()
2022-12-24 08:43:20,308 [s2@group-F4E2BD70C7F0->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-F4E2BD70C7F0->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:20,308 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:20,308 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-24 08:43:20,309 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:20,310 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-F4E2BD70C7F0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:20,310 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-F4E2BD70C7F0->s1: nextIndex: updateUnconditionally 3 -> 2
2022-12-24 08:43:20,311 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#20-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-24 08:43:20,311 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-F4E2BD70C7F0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:20,311 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-F4E2BD70C7F0->s1: nextIndex: updateUnconditionally 2 -> 1
2022-12-24 08:43:20,312 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:20,312 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:20,313 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-F4E2BD70C7F0->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:20,313 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-F4E2BD70C7F0->s0: nextIndex: updateUnconditionally 3 -> 2
2022-12-24 08:43:20,313 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:20,313 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:20,314 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:20,314 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-F4E2BD70C7F0->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:20,314 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-F4E2BD70C7F0->s0: nextIndex: updateUnconditionally 2 -> 1
2022-12-24 08:43:20,314 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:20,315 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-F4E2BD70C7F0-StateMachineUpdater: set stopIndex = 2
2022-12-24 08:43:20,315 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-F4E2BD70C7F0: applyIndex: 2
2022-12-24 08:43:20,315 [s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:20,314 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:20,314 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-F4E2BD70C7F0: shutdown
2022-12-24 08:43:20,316 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F4E2BD70C7F0,id=s1
2022-12-24 08:43:20,316 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F4E2BD70C7F0-FollowerState
2022-12-24 08:43:20,316 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-F4E2BD70C7F0-StateMachineUpdater: set stopIndex = 2
2022-12-24 08:43:20,316 [s1@group-F4E2BD70C7F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F4E2BD70C7F0-FollowerState was interrupted
2022-12-24 08:43:20,316 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:20,316 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-F4E2BD70C7F0: applyIndex: 2
2022-12-24 08:43:20,316 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:20,316 [s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:20,318 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:20,318 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:20,318 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:20,320 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-F4E2BD70C7F0-SegmentedRaftLogWorker close()
2022-12-24 08:43:20,322 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-F4E2BD70C7F0-SegmentedRaftLogWorker close()
2022-12-24 08:43:20,323 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:20,324 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:20,324 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:20,324 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:20,325 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:20,328 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:20,328 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:20,328 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:20,329 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:20,329 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:20,329 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:20,329 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:20,330 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:20,330 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2022-12-24 08:43:20,334 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2022-12-24 08:43:20,388 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-24 08:43:20,391 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2022-12-24 08:43:20,392 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2022-12-24 08:43:20,427 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:20,431 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:20,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:20,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3
2022-12-24 08:43:20,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3 does not exist.
2022-12-24 08:43:20,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3
2022-12-24 08:43:20,432 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43513 (custom)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37493 (custom)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:20,433 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36547 (custom)
2022-12-24 08:43:20,433 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:20,434 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:20,439 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:20,439 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:20,440 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:20,440 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,440 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,441 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3] (custom)
2022-12-24 08:43:20,441 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] returns group-3EC06938F557:java.util.concurrent.CompletableFuture@253974a[Not completed]
2022-12-24 08:43:20,441 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:20,441 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4
2022-12-24 08:43:20,442 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4 does not exist.
2022-12-24 08:43:20,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4
2022-12-24 08:43:20,442 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33037 (custom)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44191 (custom)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:20,442 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41011 (custom)
2022-12-24 08:43:20,442 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,442 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,442 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,442 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:20,443 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:20,443 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:20,443 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,445 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4] (custom)
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:20,446 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-3EC06938F557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:20,447 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:20,448 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:20,448 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:20,448 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:20,448 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:20,448 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:20,453 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] returns group-3EC06938F557:java.util.concurrent.CompletableFuture@76dce835[Not completed]
2022-12-24 08:43:20,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:20,453 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5
2022-12-24 08:43:20,453 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5 does not exist.
2022-12-24 08:43:20,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5
2022-12-24 08:43:20,454 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43979 (custom)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35281 (custom)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33335 (custom)
2022-12-24 08:43:20,454 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:20,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:20,456 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:20,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:20,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:20,457 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,457 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,457 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5] (custom)
2022-12-24 08:43:20,457 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,457 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,457 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,457 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,457 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-3EC06938F557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:20,458 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:20,459 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:20,460 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:20,460 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:20,460 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:20,460 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:20,460 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:20,461 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] returns group-3EC06938F557:java.util.concurrent.CompletableFuture@547db5eb[Not completed]
2022-12-24 08:43:20,461 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:20,461 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:20,461 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3] (custom)
2022-12-24 08:43:20,462 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557 does not exist. Creating ...
2022-12-24 08:43:20,462 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,462 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,462 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,463 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,463 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-3EC06938F557:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,463 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:20,463 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:20,463 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557/current
2022-12-24 08:43:20,463 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557/sm
2022-12-24 08:43:20,464 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:20,464 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:20,464 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:20,464 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:20,464 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557 has been successfully formatted.
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:20,465 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-3EC06938F557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,466 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,467 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:20,468 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:20,468 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:20,468 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-3EC06938F557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,468 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-3EC06938F557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-3EC06938F557: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:20,470 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:20,471 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:20,471 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:20,471 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:20,471 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:20,471 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:20,471 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-3EC06938F557: start as a follower, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,471 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3EC06938F557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:20,471 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,472 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s3
2022-12-24 08:43:20,472 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:20,472 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:20,472 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:20,472 [s3@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,472 [s3@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,472 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-12-24 08:43:20,473 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 37493
2022-12-24 08:43:20,473 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 36547
2022-12-24 08:43:20,474 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 43513
2022-12-24 08:43:20,477 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-12-24 08:43:20,477 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:20,477 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:20,478 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4] (custom)
2022-12-24 08:43:20,478 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557 does not exist. Creating ...
2022-12-24 08:43:20,478 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,479 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:20,479 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557/current
2022-12-24 08:43:20,479 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557/sm
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557 has been successfully formatted.
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:20,481 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-3EC06938F557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,482 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-3EC06938F557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-3EC06938F557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-3EC06938F557: start as a follower, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3EC06938F557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:20,483 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,485 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s4
2022-12-24 08:43:20,485 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:20,485 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:20,485 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:20,486 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,486 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,489 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-12-24 08:43:20,490 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 44191
2022-12-24 08:43:20,490 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 41011
2022-12-24 08:43:20,491 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 33037
2022-12-24 08:43:20,491 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:20,491 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:20,491 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5] (custom)
2022-12-24 08:43:20,491 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557 does not exist. Creating ...
2022-12-24 08:43:20,492 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,492 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-12-24 08:43:20,493 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:20,493 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557/current
2022-12-24 08:43:20,493 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557/sm
2022-12-24 08:43:20,494 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557 has been successfully formatted.
2022-12-24 08:43:20,494 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-3EC06938F557-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:20,495 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,496 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:20,497 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:20,497 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:20,497 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-3EC06938F557-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,497 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-3EC06938F557-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:20,500 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-3EC06938F557: start as a follower, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,500 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-3EC06938F557: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:20,500 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,504 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s5
2022-12-24 08:43:20,505 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:20,505 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:20,505 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:20,505 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2022-12-24 08:43:20,505 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 35281
2022-12-24 08:43:20,506 [s5@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,506 [s5@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,507 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 33335
2022-12-24 08:43:20,507 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 43979
2022-12-24 08:43:20,507 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2022-12-24 08:43:20,508 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,508 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,544 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F4F23C308C0->s3: receive RaftClientReply:client-2F4F23C308C0->s3@group-3EC06938F557, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-3EC06938F557 is not the leader, logIndex=0, commits[s3:c-1]
2022-12-24 08:43:20,647 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,647 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,667 [s5@group-3EC06938F557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-3EC06938F557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:166817493ns, electionTimeout:161ms
2022-12-24 08:43:20,667 [s5@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,667 [s5@group-3EC06938F557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-3EC06938F557: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:20,668 [s5@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:20,668 [s5@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-3EC06938F557-LeaderElection14
2022-12-24 08:43:20,681 [s3@group-3EC06938F557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-3EC06938F557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:209675573ns, electionTimeout:208ms
2022-12-24 08:43:20,681 [s3@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,681 [s3@group-3EC06938F557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3EC06938F557: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:20,682 [s3@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:20,682 [s3@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3EC06938F557-LeaderElection15
2022-12-24 08:43:20,690 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-3EC06938F557-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,690 [s5@group-3EC06938F557-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-24 08:43:20,690 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,691 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,692 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-3EC06938F557-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,695 [s3@group-3EC06938F557-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-24 08:43:20,696 [s3@group-3EC06938F557-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,697 [s3@group-3EC06938F557-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,697 [s3@group-3EC06938F557-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-24 08:43:20,707 [s5@group-3EC06938F557-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-24 08:43:20,708 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F4F23C308C0->s4: receive RaftClientReply:client-2F4F23C308C0->s4@group-3EC06938F557, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-3EC06938F557 is not the leader, logIndex=0, commits[s4:c-1]
2022-12-24 08:43:20,729 [s4@group-3EC06938F557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-3EC06938F557-FollowerState: change to CANDIDATE, lastRpcElapsedTime:245498948ns, electionTimeout:243ms
2022-12-24 08:43:20,729 [s4@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,729 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3EC06938F557: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:20,729 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:20,729 [s4@group-3EC06938F557-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3EC06938F557-LeaderElection16
2022-12-24 08:43:20,737 [s4@group-3EC06938F557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-3EC06938F557-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,753 [s4@group-3EC06938F557-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,753 [s4@group-3EC06938F557-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,756 [s4@group-3EC06938F557-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-24 08:43:20,760 [s4@group-3EC06938F557-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-24 08:43:20,796 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-3EC06938F557: receive requestVote(PRE_VOTE, s5, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,796 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3EC06938F557-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,796 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-3EC06938F557 replies to PRE_VOTE vote request: s5<-s4#0:OK-t0. Peer's state: s4@group-3EC06938F557:t0, leader=null, voted=, raftlog=Memoized:s4@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,801 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-3EC06938F557: receive requestVote(PRE_VOTE, s3, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,801 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-3EC06938F557-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,802 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-3EC06938F557 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-3EC06938F557:t0, leader=null, voted=, raftlog=Memoized:s5@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,803 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-3EC06938F557: receive requestVote(PRE_VOTE, s3, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,803 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3EC06938F557-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,803 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-3EC06938F557 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-3EC06938F557:t0, leader=null, voted=, raftlog=Memoized:s4@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,803 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-3EC06938F557-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:20,804 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2022-12-24 08:43:20,804 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-3EC06938F557-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:20,806 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-3EC06938F557-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,820 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-3EC06938F557-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:20,820 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s4#0:OK-t0
2022-12-24 08:43:20,820 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-3EC06938F557-LeaderElection14 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:20,821 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-3EC06938F557: receive requestVote(PRE_VOTE, s5, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,821 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-3EC06938F557-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,821 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-3EC06938F557 replies to PRE_VOTE vote request: s5<-s3#0:OK-t1. Peer's state: s3@group-3EC06938F557:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,821 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-3EC06938F557-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,824 [s3@group-3EC06938F557-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,825 [s3@group-3EC06938F557-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,834 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,835 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,836 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-3EC06938F557: receive requestVote(ELECTION, s5, group-3EC06938F557, 1, (t:0, i:0))
2022-12-24 08:43:20,836 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3EC06938F557-CANDIDATE: accept ELECTION from s5: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,837 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-3EC06938F557: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s5
2022-12-24 08:43:20,837 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-3EC06938F557-LeaderElection16
2022-12-24 08:43:20,837 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,839 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-3EC06938F557 replies to ELECTION vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-3EC06938F557:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,839 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s4@group-3EC06938F557: receive requestVote(ELECTION, s3, group-3EC06938F557, 1, (t:0, i:0))
2022-12-24 08:43:20,839 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-3EC06938F557-FOLLOWER: reject ELECTION from s3: already has voted for s5 at current term 1
2022-12-24 08:43:20,839 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s4@group-3EC06938F557 replies to ELECTION vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-3EC06938F557:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,840 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-3EC06938F557: receive requestVote(ELECTION, s5, group-3EC06938F557, 1, (t:0, i:0))
2022-12-24 08:43:20,840 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-3EC06938F557-CANDIDATE: reject ELECTION from s5: already has voted for s3 at current term 1
2022-12-24 08:43:20,840 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-3EC06938F557 replies to ELECTION vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-3EC06938F557:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-3EC06938F557-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s4#0:OK-t1
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-3EC06938F557-LeaderElection14 ELECTION round 0: result PASSED
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-3EC06938F557-LeaderElection14
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-3EC06938F557: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-3EC06938F557: change Leader from null to s5 at term 1 for becomeLeader, leader elected after 371ms
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:20,841 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:20,842 [s5@group-3EC06938F557-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:20,843 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:20,843 [s5@group-3EC06938F557-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-3EC06938F557-LeaderStateImpl
2022-12-24 08:43:20,843 [s5@group-3EC06938F557-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-3EC06938F557-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:20,843 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:20,843 [s4@group-3EC06938F557-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:20,849 [s5@group-3EC06938F557-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-3EC06938F557: set configuration 0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,850 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-3EC06938F557: receive requestVote(ELECTION, s3, group-3EC06938F557, 1, (t:0, i:0))
2022-12-24 08:43:20,850 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-3EC06938F557-LEADER: reject ELECTION from s3: already has voted for s5 at current term 1
2022-12-24 08:43:20,850 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-3EC06938F557 replies to ELECTION vote request: s3<-s5#0:FAIL-t1. Peer's state: s5@group-3EC06938F557:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,851 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s5@group-3EC06938F557: receive requestVote(PRE_VOTE, s4, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,851 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-3EC06938F557-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-12-24 08:43:20,851 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s5@group-3EC06938F557 replies to PRE_VOTE vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-3EC06938F557:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,854 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,854 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,856 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s3@group-3EC06938F557: receive requestVote(PRE_VOTE, s4, group-3EC06938F557, 0, (t:0, i:0))
2022-12-24 08:43:20,856 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-3EC06938F557-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-24 08:43:20,857 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s3@group-3EC06938F557 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-3EC06938F557:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-3EC06938F557-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,860 [s4@group-3EC06938F557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-3EC06938F557-LeaderElection16: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-24 08:43:20,860 [s4@group-3EC06938F557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t1
2022-12-24 08:43:20,860 [s4@group-3EC06938F557-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-3EC06938F557-LeaderElection16 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:20,860 [s5@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-3EC06938F557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s5/9b8b275e-669b-43b0-baa5-3ec06938f557/current/log_inprogress_0
2022-12-24 08:43:20,862 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-3EC06938F557-LeaderElection15: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:20,863 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-3EC06938F557: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-12-24 08:43:20,863 [s3-server-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-3EC06938F557-LeaderElection15
2022-12-24 08:43:20,863 [s3-server-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-3EC06938F557-FollowerState
2022-12-24 08:43:20,864 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:FAIL-t1
2022-12-24 08:43:20,864 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s5#0:FAIL-t1
2022-12-24 08:43:20,864 [s3@group-3EC06938F557-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-3EC06938F557-LeaderElection15 ELECTION round 0: result REJECTED
2022-12-24 08:43:20,866 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-3EC06938F557: change Leader from null to s5 at term 1 for appendEntries, leader elected after 418ms
2022-12-24 08:43:20,869 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-3EC06938F557: change Leader from null to s5 at term 1 for appendEntries, leader elected after 411ms
2022-12-24 08:43:20,874 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-3EC06938F557: set configuration 0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,874 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-3EC06938F557-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:20,877 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-3EC06938F557: set configuration 0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:20,877 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-3EC06938F557-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:20,891 [s3@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-3EC06938F557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s3/9b8b275e-669b-43b0-baa5-3ec06938f557/current/log_inprogress_0
2022-12-24 08:43:20,894 [s4@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-3EC06938F557-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcc76f0729/s4/9b8b275e-669b-43b0-baa5-3ec06938f557/current/log_inprogress_0
2022-12-24 08:43:20,941 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F4F23C308C0->s5: receive RaftClientReply:client-2F4F23C308C0->s5@group-3EC06938F557, cid=62, SUCCESS, logIndex=0, commits[s5:c0, s3:c-1, s4:c0]
2022-12-24 08:43:20,952 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-2F4F23C308C0
2022-12-24 08:43:20,953 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F4F23C308C0->s5: receive RaftClientReply:client-2F4F23C308C0->s5@group-3EC06938F557, cid=63, SUCCESS, logIndex=1, commits[s5:c1, s3:c0, s4:c0]
2022-12-24 08:43:20,956 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-2F4F23C308C0
2022-12-24 08:43:20,956 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-2F4F23C308C0
2022-12-24 08:43:20,962 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:20,963 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,963 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,968 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,968 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,975 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,975 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,982 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,982 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,985 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,985 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,990 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,991 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,995 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:20,996 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:20,998 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,003 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,007 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,007 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,009 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,010 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,012 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,015 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,070 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6FC6B7F029F0->s5: receive RaftClientReply:client-6FC6B7F029F0->s5@group-3EC06938F557, cid=64, SUCCESS, logIndex=2, commits[s5:c2, s3:c1, s4:c1]
2022-12-24 08:43:21,139 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E8BAFDB9E3DA->s5: receive RaftClientReply:client-E8BAFDB9E3DA->s5@group-3EC06938F557, cid=74, SUCCESS, logIndex=2, commits[s5:c2, s3:c1, s4:c2]
2022-12-24 08:43:21,202 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0AA5FE3670EE->s5: receive RaftClientReply:client-0AA5FE3670EE->s5@group-3EC06938F557, cid=70, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,203 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6779185FB8FD->s5: receive RaftClientReply:client-6779185FB8FD->s5@group-3EC06938F557, cid=66, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,205 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E8C5E6EA641A->s5: receive RaftClientReply:client-E8C5E6EA641A->s5@group-3EC06938F557, cid=68, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,212 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-005178948410->s5: receive RaftClientReply:client-005178948410->s5@group-3EC06938F557, cid=78, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,213 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6873E94115CE->s5: receive RaftClientReply:client-6873E94115CE->s5@group-3EC06938F557, cid=72, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,219 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BD747BDAF0E8->s5: receive RaftClientReply:client-BD747BDAF0E8->s5@group-3EC06938F557, cid=82, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,225 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-90F6A6F59508->s5: receive RaftClientReply:client-90F6A6F59508->s5@group-3EC06938F557, cid=76, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,235 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9F1262A91A60->s5: receive RaftClientReply:client-9F1262A91A60->s5@group-3EC06938F557, cid=80, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,236 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E3D04A5415E8->s5: receive RaftClientReply:client-E3D04A5415E8->s5@group-3EC06938F557, cid=84, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2022-12-24 08:43:21,254 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 7
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-3EC06938F557: Failed to acquire a pending write request for RaftClientRequest:client-9F1262A91A60->s5@group-3EC06938F557, cid=81, seq=2, RW, Message:6d6573736167652037
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-3EC06938F557: Failed to acquire a pending write request for RaftClientRequest:client-9F1262A91A60->s5@group-3EC06938F557, cid=81, seq=2, RW, Message:6d6573736167652037
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:21,318 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:21,320 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, message 4 -> (t:1, i:3), STATEMACHINELOGENTRY, 75@client-E8BAFDB9E3DA
2022-12-24 08:43:21,321 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 65@client-6FC6B7F029F0
2022-12-24 08:43:21,322 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, message 4 -> (t:1, i:3), STATEMACHINELOGENTRY, 75@client-E8BAFDB9E3DA
2022-12-24 08:43:21,322 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 69@client-E8C5E6EA641A
2022-12-24 08:43:21,322 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 71@client-0AA5FE3670EE
2022-12-24 08:43:21,322 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 73@client-6873E94115CE
2022-12-24 08:43:21,322 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 0 -> (t:1, i:8), STATEMACHINELOGENTRY, 67@client-6779185FB8FD
2022-12-24 08:43:21,323 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 79@client-005178948410
2022-12-24 08:43:21,323 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E8BAFDB9E3DA->s5: receive RaftClientReply:client-E8BAFDB9E3DA->s5@group-3EC06938F557, cid=75, SUCCESS, logIndex=3, commits[s5:c3, s3:c2, s4:c2]
2022-12-24 08:43:21,324 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E8C5E6EA641A->s5: receive RaftClientReply:client-E8C5E6EA641A->s5@group-3EC06938F557, cid=69, SUCCESS, logIndex=5, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,325 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 65@client-6FC6B7F029F0
2022-12-24 08:43:21,325 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 69@client-E8C5E6EA641A
2022-12-24 08:43:21,325 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 71@client-0AA5FE3670EE
2022-12-24 08:43:21,326 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 73@client-6873E94115CE
2022-12-24 08:43:21,326 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 0 -> (t:1, i:8), STATEMACHINELOGENTRY, 67@client-6779185FB8FD
2022-12-24 08:43:21,326 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 79@client-005178948410
2022-12-24 08:43:21,326 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-BD747BDAF0E8
2022-12-24 08:43:21,326 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 77@client-90F6A6F59508
2022-12-24 08:43:21,327 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6779185FB8FD->s5: receive RaftClientReply:client-6779185FB8FD->s5@group-3EC06938F557, cid=67, SUCCESS, logIndex=8, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,327 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-005178948410->s5: receive RaftClientReply:client-005178948410->s5@group-3EC06938F557, cid=79, SUCCESS, logIndex=9, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,327 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6873E94115CE->s5: receive RaftClientReply:client-6873E94115CE->s5@group-3EC06938F557, cid=73, SUCCESS, logIndex=7, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,323 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-BD747BDAF0E8
2022-12-24 08:43:21,328 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 77@client-90F6A6F59508
2022-12-24 08:43:21,328 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6FC6B7F029F0->s5: receive RaftClientReply:client-6FC6B7F029F0->s5@group-3EC06938F557, cid=65, SUCCESS, logIndex=4, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,328 [s5@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 85@client-E3D04A5415E8
2022-12-24 08:43:21,326 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0AA5FE3670EE->s5: receive RaftClientReply:client-0AA5FE3670EE->s5@group-3EC06938F557, cid=71, SUCCESS, logIndex=6, commits[s5:c12, s3:c2, s4:c2]
2022-12-24 08:43:21,325 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, message 4 -> (t:1, i:3), STATEMACHINELOGENTRY, 75@client-E8BAFDB9E3DA
2022-12-24 08:43:21,328 [s4@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 85@client-E3D04A5415E8
2022-12-24 08:43:21,329 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 65@client-6FC6B7F029F0
2022-12-24 08:43:21,329 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 69@client-E8C5E6EA641A
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 71@client-0AA5FE3670EE
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 73@client-6873E94115CE
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 0 -> (t:1, i:8), STATEMACHINELOGENTRY, 67@client-6779185FB8FD
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 79@client-005178948410
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-BD747BDAF0E8
2022-12-24 08:43:21,330 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 5 -> (t:1, i:11), STATEMACHINELOGENTRY, 77@client-90F6A6F59508
2022-12-24 08:43:21,331 [s3@group-3EC06938F557-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 85@client-E3D04A5415E8
2022-12-24 08:43:21,331 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E3D04A5415E8->s5: receive RaftClientReply:client-E3D04A5415E8->s5@group-3EC06938F557, cid=85, SUCCESS, logIndex=12, commits[s5:c14, s3:c12, s4:c12]
2022-12-24 08:43:21,331 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-90F6A6F59508->s5: receive RaftClientReply:client-90F6A6F59508->s5@group-3EC06938F557, cid=77, SUCCESS, logIndex=11, commits[s5:c14, s3:c12, s4:c12]
2022-12-24 08:43:21,332 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BD747BDAF0E8->s5: receive RaftClientReply:client-BD747BDAF0E8->s5@group-3EC06938F557, cid=83, SUCCESS, logIndex=10, commits[s5:c14, s3:c12, s4:c12]
2022-12-24 08:43:21,334 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,334 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,361 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-04AE91E91840->s5: receive RaftClientReply:client-04AE91E91840->s5@group-3EC06938F557, cid=86, SUCCESS, logIndex=14, commits[s5:c14, s3:c12, s4:c12]
2022-12-24 08:43:21,376 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-3EC06938F557: Failed to acquire a pending write request for RaftClientRequest:client-04AE91E91840->s5@group-3EC06938F557, cid=87, seq=2, RW, Message:2152097475958e711370...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-3EC06938F557: Failed to acquire a pending write request for RaftClientRequest:client-04AE91E91840->s5@group-3EC06938F557, cid=87, seq=2, RW, Message:2152097475958e711370...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:21,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:21,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:21,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:21,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:21,663 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:21,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-3EC06938F557:t1, leader=s5, voted=s3, raftlog=Memoized:s3@group-3EC06938F557-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-3EC06938F557:t1, leader=s5, voted=s5, raftlog=Memoized:s4@group-3EC06938F557-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING    LEADER s5@group-3EC06938F557:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-3EC06938F557-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:36547|admin:localhost:43513|client:localhost:37493|dataStream:localhost:43549|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41011|admin:localhost:33037|client:localhost:44191|dataStream:localhost:39421|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:33335|admin:localhost:43979|client:localhost:35281|dataStream:localhost:37055|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:21,665 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-12-24 08:43:21,665 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-12-24 08:43:21,665 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:21,665 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-3EC06938F557: shutdown
2022-12-24 08:43:21,666 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s3
2022-12-24 08:43:21,666 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-3EC06938F557-FollowerState
2022-12-24 08:43:21,666 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-3EC06938F557-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:21,666 [s3@group-3EC06938F557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-3EC06938F557-FollowerState was interrupted
2022-12-24 08:43:21,666 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-3EC06938F557: shutdown
2022-12-24 08:43:21,666 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s4
2022-12-24 08:43:21,666 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-3EC06938F557-FollowerState
2022-12-24 08:43:21,666 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-3EC06938F557-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:21,666 [s4@group-3EC06938F557-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-3EC06938F557-FollowerState was interrupted
2022-12-24 08:43:21,667 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-24 08:43:21,667 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-3EC06938F557: applyIndex: 14
2022-12-24 08:43:21,667 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-24 08:43:21,668 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:21,668 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:21,668 [s4@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-3EC06938F557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:21,668 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-3EC06938F557: applyIndex: 14
2022-12-24 08:43:21,669 [s3@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-3EC06938F557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:21,669 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:21,671 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s3: installSnapshot onError, lastRequest: s5->s3#41-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:21,671 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s3: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:21,672 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-3EC06938F557-SegmentedRaftLogWorker close()
2022-12-24 08:43:21,672 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-3EC06938F557-SegmentedRaftLogWorker close()
2022-12-24 08:43:21,673 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:21,674 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:21,674 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s5@group-3EC06938F557->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-24 08:43:21,674 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s5@group-3EC06938F557->s3: nextIndex: updateUnconditionally 15 -> 14
2022-12-24 08:43:21,675 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s5@group-3EC06938F557->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-24 08:43:21,675 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s5@group-3EC06938F557->s3: nextIndex: updateUnconditionally 14 -> 13
2022-12-24 08:43:21,679 [MiniRaftCluster-19] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-24 08:43:21,679 [MiniRaftCluster-19] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-24 08:43:21,680 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2022-12-24 08:43:21,682 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-3EC06938F557: shutdown
2022-12-24 08:43:21,682 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3EC06938F557,id=s5
2022-12-24 08:43:21,682 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s5: shutdown s5@group-3EC06938F557-LeaderStateImpl
2022-12-24 08:43:21,682 [s5-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s5@group-3EC06938F557-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:21,682 [s5@group-3EC06938F557->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s5@group-3EC06938F557->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:21,682 [s5@group-3EC06938F557->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s5@group-3EC06938F557->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:21,682 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:21,682 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:21,683 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:21,683 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-12-24 08:43:21,683 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:21,684 [MiniRaftCluster-20] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-24 08:43:21,684 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-3EC06938F557-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:21,685 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-3EC06938F557: applyIndex: 14
2022-12-24 08:43:21,685 [s5@group-3EC06938F557-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-3EC06938F557-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:21,686 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-3EC06938F557-SegmentedRaftLogWorker close()
2022-12-24 08:43:21,686 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s5@group-3EC06938F557->s3-GrpcLogAppender is already stopped
2022-12-24 08:43:21,687 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s5@group-3EC06938F557->s3-GrpcLogAppender is already stopped
2022-12-24 08:43:21,688 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s4: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:21,688 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s5@group-3EC06938F557->s4-GrpcLogAppender is already stopped
2022-12-24 08:43:21,689 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s4: installSnapshot onError, lastRequest: s5->s4#34-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:21,690 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:21,690 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:21,690 [MiniRaftCluster-20] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-24 08:43:21,691 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:21,692 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:21,691 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s5@group-3EC06938F557->s4-GrpcLogAppender is already stopped
2022-12-24 08:43:21,692 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-12-24 08:43:21,692 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:21,692 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:21,692 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:21,693 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:21,693 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2022-12-24 08:43:21,693 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:21,694 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:21,694 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:21,694 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:21,697 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:21,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:21,698 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0
2022-12-24 08:43:21,699 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0 does not exist.
2022-12-24 08:43:21,699 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0
2022-12-24 08:43:21,699 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42137 (custom)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37213 (custom)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:21,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40653 (custom)
2022-12-24 08:43:21,699 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,700 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:21,700 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:21,701 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:21,701 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:21,702 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:21,702 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:21,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:21,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0] (custom)
2022-12-24 08:43:21,708 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] returns group-A275DA164BE8:java.util.concurrent.CompletableFuture@4de951bd[Not completed]
2022-12-24 08:43:21,708 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:21,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1
2022-12-24 08:43:21,709 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1 does not exist.
2022-12-24 08:43:21,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1
2022-12-24 08:43:21,709 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46143 (custom)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43781 (custom)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:21,709 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36065 (custom)
2022-12-24 08:43:21,709 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,709 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,709 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:21,710 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:21,710 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:21,710 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1] (custom)
2022-12-24 08:43:21,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] returns group-A275DA164BE8:java.util.concurrent.CompletableFuture@3929ca51[Not completed]
2022-12-24 08:43:21,712 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:21,712 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2
2022-12-24 08:43:21,712 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2 does not exist.
2022-12-24 08:43:21,712 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2
2022-12-24 08:43:21,712 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35223 (custom)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39259 (custom)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:21,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34141 (custom)
2022-12-24 08:43:21,712 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:21,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:21,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:21,714 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,714 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,714 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2] (custom)
2022-12-24 08:43:21,712 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,714 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,714 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,714 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] returns group-A275DA164BE8:java.util.concurrent.CompletableFuture@3c65b3a7[Not completed]
2022-12-24 08:43:21,714 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A275DA164BE8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:21,715 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:21,715 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:21,715 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:21,715 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:21,715 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:21,716 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:21,716 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:21,716 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:21,716 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:21,716 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:21,714 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A275DA164BE8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:21,717 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:21,718 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:21,718 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:21,718 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:21,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,718 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,719 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,718 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:21,719 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-A275DA164BE8:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,719 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:21,719 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:21,719 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:21,719 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:21,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:21,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:21,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0] (custom)
2022-12-24 08:43:21,720 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8 does not exist. Creating ...
2022-12-24 08:43:21,720 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,720 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A275DA164BE8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:21,721 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:21,722 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:21,722 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8/current
2022-12-24 08:43:21,722 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8/sm
2022-12-24 08:43:21,722 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:21,723 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:21,723 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:21,723 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:21,723 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:21,723 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8 has been successfully formatted.
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:21,724 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-A275DA164BE8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:21,725 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:21,726 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,726 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,726 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-A275DA164BE8: start as a follower, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A275DA164BE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:21,727 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,728 [s0@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,728 [s0@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,728 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s0
2022-12-24 08:43:21,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:21,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:21,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:21,728 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:21,729 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37213
2022-12-24 08:43:21,729 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40653
2022-12-24 08:43:21,729 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42137
2022-12-24 08:43:21,730 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:21,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:21,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:21,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1] (custom)
2022-12-24 08:43:21,733 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8 does not exist. Creating ...
2022-12-24 08:43:21,733 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,735 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:21,735 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8/current
2022-12-24 08:43:21,735 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8/sm
2022-12-24 08:43:21,736 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8 has been successfully formatted.
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-A275DA164BE8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:21,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:21,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:21,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,740 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-A275DA164BE8: start as a follower, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,740 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A275DA164BE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:21,740 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,741 [s1@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,741 [s1@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,741 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s1
2022-12-24 08:43:21,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:21,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:21,742 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:21,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:21,743 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43781
2022-12-24 08:43:21,743 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36065
2022-12-24 08:43:21,743 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46143
2022-12-24 08:43:21,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:21,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:21,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2] (custom)
2022-12-24 08:43:21,745 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8 does not exist. Creating ...
2022-12-24 08:43:21,745 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,745 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:21,747 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:21,747 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8/current
2022-12-24 08:43:21,747 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8/sm
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8 has been successfully formatted.
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:21,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-A275DA164BE8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:21,750 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:21,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:21,752 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:21,753 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,753 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:21,753 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-A275DA164BE8: start as a follower, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,753 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A275DA164BE8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:21,753 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,754 [s2@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,754 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s2
2022-12-24 08:43:21,754 [s2@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:21,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:21,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:21,754 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:21,755 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39259
2022-12-24 08:43:21,755 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34141
2022-12-24 08:43:21,755 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35223
2022-12-24 08:43:21,755 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:21,756 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,756 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,765 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D14E58E39B43->s0: receive RaftClientReply:client-D14E58E39B43->s0@group-A275DA164BE8, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A275DA164BE8 is not the leader, logIndex=0, commits[s0:c-1]
2022-12-24 08:43:21,867 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,867 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,875 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D14E58E39B43->s2: receive RaftClientReply:client-D14E58E39B43->s2@group-A275DA164BE8, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-A275DA164BE8 is not the leader, logIndex=0, commits[s2:c-1]
2022-12-24 08:43:21,947 [s2@group-A275DA164BE8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A275DA164BE8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193651821ns, electionTimeout:193ms
2022-12-24 08:43:21,947 [s2@group-A275DA164BE8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,947 [s2@group-A275DA164BE8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A275DA164BE8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:21,947 [s2@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:21,948 [s2@group-A275DA164BE8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A275DA164BE8-LeaderElection17
2022-12-24 08:43:21,950 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-A275DA164BE8-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,950 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,950 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,950 [s2@group-A275DA164BE8-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:21,950 [s2@group-A275DA164BE8-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:21,961 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-A275DA164BE8: receive requestVote(PRE_VOTE, s2, group-A275DA164BE8, 0, (t:0, i:0))
2022-12-24 08:43:21,962 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A275DA164BE8-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:21,962 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-A275DA164BE8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-A275DA164BE8:t0, leader=null, voted=, raftlog=Memoized:s1@group-A275DA164BE8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,963 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A275DA164BE8-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:21,963 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-12-24 08:43:21,963 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-A275DA164BE8-LeaderElection17 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:21,965 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-A275DA164BE8-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,965 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-A275DA164BE8: receive requestVote(PRE_VOTE, s2, group-A275DA164BE8, 0, (t:0, i:0))
2022-12-24 08:43:21,966 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A275DA164BE8-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:21,966 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-A275DA164BE8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-A275DA164BE8:t0, leader=null, voted=, raftlog=Memoized:s0@group-A275DA164BE8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,968 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-A275DA164BE8: receive requestVote(ELECTION, s2, group-A275DA164BE8, 1, (t:0, i:0))
2022-12-24 08:43:21,968 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A275DA164BE8-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:21,969 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A275DA164BE8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:21,969 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,969 [s0@group-A275DA164BE8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A275DA164BE8-FollowerState was interrupted
2022-12-24 08:43:21,969 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,969 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,975 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,977 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:21,977 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:21,978 [s0@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:21,978 [s0@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:21,980 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-A275DA164BE8: receive requestVote(ELECTION, s2, group-A275DA164BE8, 1, (t:0, i:0))
2022-12-24 08:43:21,981 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-A275DA164BE8 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A275DA164BE8:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-A275DA164BE8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:21,982 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A275DA164BE8-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:21,982 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-A275DA164BE8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:21,982 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,982 [s1@group-A275DA164BE8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A275DA164BE8-FollowerState was interrupted
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A275DA164BE8-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-A275DA164BE8-LeaderElection17 ELECTION round 0: result PASSED
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-A275DA164BE8-LeaderElection17
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-A275DA164BE8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-A275DA164BE8: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 262ms
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:21,983 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:21,984 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A275DA164BE8-LeaderStateImpl
2022-12-24 08:43:21,985 [s2@group-A275DA164BE8-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:21,994 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A275DA164BE8-FollowerState
2022-12-24 08:43:21,997 [s2@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s2/31518a40-ec53-4a28-a365-a275da164be8/current/log_inprogress_0
2022-12-24 08:43:22,001 [s2@group-A275DA164BE8-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-A275DA164BE8: set configuration 0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:22,002 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-A275DA164BE8 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-A275DA164BE8:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-A275DA164BE8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:22,005 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D14E58E39B43->s1: receive RaftClientReply:client-D14E58E39B43->s1@group-A275DA164BE8, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-A275DA164BE8 is not the leader, logIndex=0, commits[s1:c-1]
2022-12-24 08:43:22,009 [s1@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:22,009 [s1@group-A275DA164BE8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:22,013 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A275DA164BE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 298ms
2022-12-24 08:43:22,020 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A275DA164BE8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 302ms
2022-12-24 08:43:22,020 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-A275DA164BE8: set configuration 0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:22,020 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-A275DA164BE8: set configuration 0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:22,021 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:22,021 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:22,039 [s1@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s1/31518a40-ec53-4a28-a365-a275da164be8/current/log_inprogress_0
2022-12-24 08:43:22,042 [s0@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcf7850b46/s0/31518a40-ec53-4a28-a365-a275da164be8/current/log_inprogress_0
2022-12-24 08:43:22,110 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,111 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,117 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D14E58E39B43->s2: receive RaftClientReply:client-D14E58E39B43->s2@group-A275DA164BE8, cid=88, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-12-24 08:43:22,123 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-D14E58E39B43
2022-12-24 08:43:22,124 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D14E58E39B43->s2: receive RaftClientReply:client-D14E58E39B43->s2@group-A275DA164BE8, cid=89, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-12-24 08:43:22,124 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-D14E58E39B43
2022-12-24 08:43:22,126 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:22,126 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,127 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,129 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,129 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,131 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-D14E58E39B43
2022-12-24 08:43:22,132 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,132 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,137 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,139 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-993811ED67F1->s2: receive RaftClientReply:client-993811ED67F1->s2@group-A275DA164BE8, cid=92, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-12-24 08:43:22,140 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-98ADE9973C9F->s2: receive RaftClientReply:client-98ADE9973C9F->s2@group-A275DA164BE8, cid=94, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-12-24 08:43:22,138 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-60E933FE1334->s2: receive RaftClientReply:client-60E933FE1334->s2@group-A275DA164BE8, cid=90, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-12-24 08:43:22,140 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,152 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA814D2EAFDE->s2: receive RaftClientReply:client-FA814D2EAFDE->s2@group-A275DA164BE8, cid=96, SUCCESS, logIndex=2, commits[s2:c2, s0:c1, s1:c2]
2022-12-24 08:43:22,154 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,155 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,159 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,159 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,163 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DAE0686BFA76->s2: receive RaftClientReply:client-DAE0686BFA76->s2@group-A275DA164BE8, cid=98, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,164 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7DD33EB6A11E->s2: receive RaftClientReply:client-7DD33EB6A11E->s2@group-A275DA164BE8, cid=100, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,165 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,168 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,173 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,173 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,173 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B9C7EBD08EE->s2: receive RaftClientReply:client-3B9C7EBD08EE->s2@group-A275DA164BE8, cid=102, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,180 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,183 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D181038C87DF->s2: receive RaftClientReply:client-D181038C87DF->s2@group-A275DA164BE8, cid=104, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,183 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,189 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-11253FC86AE0->s2: receive RaftClientReply:client-11253FC86AE0->s2@group-A275DA164BE8, cid=106, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,190 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,192 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,196 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0561FC67118C->s2: receive RaftClientReply:client-0561FC67118C->s2@group-A275DA164BE8, cid=108, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,197 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,197 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,203 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-99E6DB173A31->s2: receive RaftClientReply:client-99E6DB173A31->s2@group-A275DA164BE8, cid=110, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-24 08:43:22,207 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-A275DA164BE8: Failed to acquire a pending write request for RaftClientRequest:client-99E6DB173A31->s2@group-A275DA164BE8, cid=111, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-A275DA164BE8: Failed to acquire a pending write request for RaftClientRequest:client-99E6DB173A31->s2@group-A275DA164BE8, cid=111, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:22,504 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-24 08:43:22,505 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-993811ED67F1
2022-12-24 08:43:22,507 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-993811ED67F1->s2: receive RaftClientReply:client-993811ED67F1->s2@group-A275DA164BE8, cid=93, SUCCESS, logIndex=3, commits[s2:c3, s0:c2, s1:c2]
2022-12-24 08:43:22,507 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-993811ED67F1
2022-12-24 08:43:22,508 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-98ADE9973C9F
2022-12-24 08:43:22,508 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 93@client-993811ED67F1
2022-12-24 08:43:22,508 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 91@client-60E933FE1334
2022-12-24 08:43:22,509 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-FA814D2EAFDE
2022-12-24 08:43:22,509 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7DD33EB6A11E
2022-12-24 08:43:22,510 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 99@client-DAE0686BFA76
2022-12-24 08:43:22,510 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-98ADE9973C9F
2022-12-24 08:43:22,510 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-3B9C7EBD08EE
2022-12-24 08:43:22,510 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 91@client-60E933FE1334
2022-12-24 08:43:22,510 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-D181038C87DF
2022-12-24 08:43:22,510 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-11253FC86AE0
2022-12-24 08:43:22,510 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-FA814D2EAFDE
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7DD33EB6A11E
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 99@client-DAE0686BFA76
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-3B9C7EBD08EE
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-D181038C87DF
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-11253FC86AE0
2022-12-24 08:43:22,511 [s1@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-0561FC67118C
2022-12-24 08:43:22,510 [s2@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-0561FC67118C
2022-12-24 08:43:22,512 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-11253FC86AE0->s2: receive RaftClientReply:client-11253FC86AE0->s2@group-A275DA164BE8, cid=107, SUCCESS, logIndex=11, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,513 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DAE0686BFA76->s2: receive RaftClientReply:client-DAE0686BFA76->s2@group-A275DA164BE8, cid=99, SUCCESS, logIndex=8, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,513 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B9C7EBD08EE->s2: receive RaftClientReply:client-3B9C7EBD08EE->s2@group-A275DA164BE8, cid=103, SUCCESS, logIndex=9, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,513 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,513 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,516 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-60E933FE1334->s2: receive RaftClientReply:client-60E933FE1334->s2@group-A275DA164BE8, cid=91, SUCCESS, logIndex=5, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,516 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA814D2EAFDE->s2: receive RaftClientReply:client-FA814D2EAFDE->s2@group-A275DA164BE8, cid=97, SUCCESS, logIndex=6, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,516 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D181038C87DF->s2: receive RaftClientReply:client-D181038C87DF->s2@group-A275DA164BE8, cid=105, SUCCESS, logIndex=10, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,517 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0561FC67118C->s2: receive RaftClientReply:client-0561FC67118C->s2@group-A275DA164BE8, cid=109, SUCCESS, logIndex=12, commits[s2:c12, s0:c3, s1:c12]
2022-12-24 08:43:22,517 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7DD33EB6A11E->s2: receive RaftClientReply:client-7DD33EB6A11E->s2@group-A275DA164BE8, cid=101, SUCCESS, logIndex=7, commits[s2:c12, s0:c3, s1:c3]
2022-12-24 08:43:22,517 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-98ADE9973C9F->s2: receive RaftClientReply:client-98ADE9973C9F->s2@group-A275DA164BE8, cid=95, SUCCESS, logIndex=4, commits[s2:c12, s0:c2, s1:c2]
2022-12-24 08:43:22,519 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 95@client-98ADE9973C9F
2022-12-24 08:43:22,519 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, 2nd Messag... -> (t:1, i:5), STATEMACHINELOGENTRY, 91@client-60E933FE1334
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-FA814D2EAFDE
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-7DD33EB6A11E
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 99@client-DAE0686BFA76
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-3B9C7EBD08EE
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-D181038C87DF
2022-12-24 08:43:22,520 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-11253FC86AE0
2022-12-24 08:43:22,521 [s0@group-A275DA164BE8-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-0561FC67118C
2022-12-24 08:43:22,522 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BBFFC863222B->s2: receive RaftClientReply:client-BBFFC863222B->s2@group-A275DA164BE8, cid=112, SUCCESS, logIndex=14, commits[s2:c14, s0:c3, s1:c12]
2022-12-24 08:43:22,531 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-A275DA164BE8: Failed to acquire a pending write request for RaftClientRequest:client-BBFFC863222B->s2@group-A275DA164BE8, cid=113, seq=2, RW, Message:69045b36ae60d19df9dd...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s2@group-A275DA164BE8: Failed to acquire a pending write request for RaftClientRequest:client-BBFFC863222B->s2@group-A275DA164BE8, cid=113, seq=2, RW, Message:69045b36ae60d19df9dd...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2022-12-24 08:43:22,828 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:22,828 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:22,828 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:22,828 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:22,828 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:22,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A275DA164BE8:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A275DA164BE8-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A275DA164BE8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-A275DA164BE8-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A275DA164BE8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A275DA164BE8-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40653|admin:localhost:42137|client:localhost:37213|dataStream:localhost:41061|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36065|admin:localhost:46143|client:localhost:43781|dataStream:localhost:35751|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34141|admin:localhost:35223|client:localhost:39259|dataStream:localhost:39023|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:22,831 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:22,831 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-A275DA164BE8: shutdown
2022-12-24 08:43:22,831 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s0
2022-12-24 08:43:22,831 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A275DA164BE8-FollowerState
2022-12-24 08:43:22,831 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A275DA164BE8-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:22,832 [s0@group-A275DA164BE8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A275DA164BE8-FollowerState was interrupted
2022-12-24 08:43:22,832 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-A275DA164BE8: applyIndex: 14
2022-12-24 08:43:22,832 [s0@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:22,833 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:22,835 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-A275DA164BE8-SegmentedRaftLogWorker close()
2022-12-24 08:43:22,835 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:22,835 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:22,836 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:22,836 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s2->s0#23-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-24 08:43:22,836 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:22,836 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:22,836 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-A275DA164BE8->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-24 08:43:22,837 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A275DA164BE8->s0: nextIndex: updateUnconditionally 15 -> 14
2022-12-24 08:43:22,837 [grpc-default-executor-7] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-A275DA164BE8->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-24 08:43:22,837 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A275DA164BE8->s0: nextIndex: updateUnconditionally 14 -> 13
2022-12-24 08:43:22,837 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:22,839 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:22,839 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:22,840 [grpc-default-executor-8] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-A275DA164BE8->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2022-12-24 08:43:22,839 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:22,840 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A275DA164BE8->s0: nextIndex: updateUnconditionally 15 -> 14
2022-12-24 08:43:22,839 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-A275DA164BE8: shutdown
2022-12-24 08:43:22,839 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:22,841 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s1
2022-12-24 08:43:22,841 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A275DA164BE8-FollowerState
2022-12-24 08:43:22,841 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-A275DA164BE8-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:22,841 [s1@group-A275DA164BE8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A275DA164BE8-FollowerState was interrupted
2022-12-24 08:43:22,842 [grpc-default-executor-8] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-A275DA164BE8->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2022-12-24 08:43:22,843 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-A275DA164BE8->s0: nextIndex: updateUnconditionally 14 -> 13
2022-12-24 08:43:22,843 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-A275DA164BE8: applyIndex: 14
2022-12-24 08:43:22,843 [s1@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:22,848 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-A275DA164BE8-SegmentedRaftLogWorker close()
2022-12-24 08:43:22,848 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:22,848 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-A275DA164BE8: shutdown
2022-12-24 08:43:22,848 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A275DA164BE8,id=s2
2022-12-24 08:43:22,848 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-A275DA164BE8-LeaderStateImpl
2022-12-24 08:43:22,849 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-A275DA164BE8-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:22,849 [s2@group-A275DA164BE8->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-A275DA164BE8->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:22,849 [s2@group-A275DA164BE8->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-A275DA164BE8->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:22,850 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-A275DA164BE8-StateMachineUpdater: set stopIndex = 14
2022-12-24 08:43:22,850 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-A275DA164BE8: applyIndex: 14
2022-12-24 08:43:22,850 [s2@group-A275DA164BE8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:22,850 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:22,851 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:22,851 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:22,851 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#20-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-12-24 08:43:22,852 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-A275DA164BE8->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:22,852 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s2@group-A275DA164BE8->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:22,852 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-A275DA164BE8->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:22,852 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s2@group-A275DA164BE8->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:22,853 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:22,853 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:22,853 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-A275DA164BE8-SegmentedRaftLogWorker close()
2022-12-24 08:43:22,855 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:22,855 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:22,857 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:22,857 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:22,857 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:22,857 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:22,858 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:22,858 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:22,858 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:22,858 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:22,859 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:22,859 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:22,859 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:22,859 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:22,861 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-F2CA3AD8DD0F:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:22,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-F2CA3AD8DD0F:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:22,862 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0
2022-12-24 08:43:22,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0 does not exist.
2022-12-24 08:43:22,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0
2022-12-24 08:43:22,863 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44787 (custom)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44421 (custom)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:22,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37193 (custom)
2022-12-24 08:43:22,863 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:22,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:22,863 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:22,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:22,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:22,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:22,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:22,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0] (custom)
2022-12-24 08:43:22,866 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-F2CA3AD8DD0F:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER] returns group-F2CA3AD8DD0F:java.util.concurrent.CompletableFuture@30e8e555[Not completed]
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-F2CA3AD8DD0F:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F2CA3AD8DD0F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:22,866 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:22,867 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:22,868 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:22,868 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:22,868 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0] (custom)
2022-12-24 08:43:22,868 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f does not exist. Creating ...
2022-12-24 08:43:22,868 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f
2022-12-24 08:43:22,870 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:22,870 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f/current
2022-12-24 08:43:22,870 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f/sm
2022-12-24 08:43:22,871 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f has been successfully formatted.
2022-12-24 08:43:22,871 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:22,871 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:22,871 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:22,872 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:22,873 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:22,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:22,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:22,874 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:22,874 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:22,874 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:22,877 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-F2CA3AD8DD0F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:22,877 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F2CA3AD8DD0F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:22,877 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F2CA3AD8DD0F-FollowerState
2022-12-24 08:43:22,878 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2CA3AD8DD0F,id=s0
2022-12-24 08:43:22,878 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:22,878 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:22,878 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:22,878 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:22,878 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:22,878 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:22,879 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44421
2022-12-24 08:43:22,879 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37193
2022-12-24 08:43:22,881 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44787
2022-12-24 08:43:22,884 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:22,885 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:22,885 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F2CA3AD8DD0F:t0, leader=null, voted=, raftlog=Memoized:s0@group-F2CA3AD8DD0F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:22,885 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F2CA3AD8DD0F:t0, leader=null, voted=, raftlog=Memoized:s0@group-F2CA3AD8DD0F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F2CA3AD8DD0F:t0, leader=null, voted=, raftlog=Memoized:s0@group-F2CA3AD8DD0F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:23,044 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F2CA3AD8DD0F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167112414ns, electionTimeout:166ms
2022-12-24 08:43:23,045 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F2CA3AD8DD0F-FollowerState
2022-12-24 08:43:23,045 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F2CA3AD8DD0F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:23,045 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:23,045 [s0@group-F2CA3AD8DD0F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F2CA3AD8DD0F-LeaderElection18
2022-12-24 08:43:23,050 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-F2CA3AD8DD0F-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,050 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-F2CA3AD8DD0F-LeaderElection18 PRE_VOTE round 0: result PASSED (term=0)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-F2CA3AD8DD0F-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-F2CA3AD8DD0F-LeaderElection18 ELECTION round 0: result PASSED (term=1)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F2CA3AD8DD0F-LeaderElection18
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F2CA3AD8DD0F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-F2CA3AD8DD0F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 185ms
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:23,052 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:23,053 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F2CA3AD8DD0F-LeaderStateImpl
2022-12-24 08:43:23,053 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:23,057 [s0@group-F2CA3AD8DD0F-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-F2CA3AD8DD0F: set configuration 0: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,068 [s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc6a152464/s0/976e354a-88c0-4923-b717-f2ca3ad8dd0f/current/log_inprogress_0
2022-12-24 08:43:23,336 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F2CA3AD8DD0F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F2CA3AD8DD0F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:23,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44787 (custom)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44421 (custom)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37193 (custom)
2022-12-24 08:43:23,337 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:23,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:23,338 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-12-24 08:43:23,338 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:23,339 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-12-24 08:43:23,339 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:23,339 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F2CA3AD8DD0F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F2CA3AD8DD0F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37193|admin:localhost:44787|client:localhost:44421|dataStream:localhost:42295|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:23,339 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:23,340 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-F2CA3AD8DD0F: shutdown
2022-12-24 08:43:23,340 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:23,340 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2CA3AD8DD0F,id=s0
2022-12-24 08:43:23,340 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F2CA3AD8DD0F-LeaderStateImpl
2022-12-24 08:43:23,340 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F2CA3AD8DD0F-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:23,340 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:23,341 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:23,340 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-F2CA3AD8DD0F-StateMachineUpdater: set stopIndex = 0
2022-12-24 08:43:23,341 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-F2CA3AD8DD0F: applyIndex: 0
2022-12-24 08:43:23,341 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:23,341 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:23,341 [s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:23,341 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:23,342 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-F2CA3AD8DD0F-SegmentedRaftLogWorker close()
2022-12-24 08:43:23,343 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:23,343 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:23,344 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:23,344 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:23,344 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:23,344 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:23,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:23,346 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:23,346 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0
2022-12-24 08:43:23,346 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0 does not exist.
2022-12-24 08:43:23,346 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0
2022-12-24 08:43:23,346 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41367 (custom)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43341 (custom)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41179 (custom)
2022-12-24 08:43:23,347 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:23,347 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:23,348 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:23,348 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,349 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0] (custom)
2022-12-24 08:43:23,350 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] returns group-64704031F9B8:java.util.concurrent.CompletableFuture@76939b3d[Not completed]
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:23,350 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-64704031F9B8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:23,351 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:23,352 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:23,352 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:23,352 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:23,352 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:23,352 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:23,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:23,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:23,352 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0] (custom)
2022-12-24 08:43:23,353 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8 does not exist. Creating ...
2022-12-24 08:43:23,353 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
2022-12-24 08:43:23,354 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:23,354 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/current
2022-12-24 08:43:23,354 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/sm
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8 has been successfully formatted.
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:23,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-64704031F9B8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:23,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:23,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:23,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:23,372 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-64704031F9B8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:23,372 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-64704031F9B8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:23,377 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-64704031F9B8: start as a follower, conf=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,378 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-64704031F9B8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:23,378 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64704031F9B8-FollowerState
2022-12-24 08:43:23,389 [s0@group-64704031F9B8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:23,389 [s0@group-64704031F9B8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:23,390 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64704031F9B8,id=s0
2022-12-24 08:43:23,390 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:23,390 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:23,390 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:23,391 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:23,391 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43341
2022-12-24 08:43:23,392 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41179
2022-12-24 08:43:23,392 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41367
2022-12-24 08:43:23,394 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:23,408 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:23,408 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64704031F9B8:t0, leader=null, voted=, raftlog=Memoized:s0@group-64704031F9B8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:23,408 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64704031F9B8:t0, leader=null, voted=, raftlog=Memoized:s0@group-64704031F9B8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64704031F9B8:t0, leader=null, voted=, raftlog=Memoized:s0@group-64704031F9B8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:23,574 [s0@group-64704031F9B8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-64704031F9B8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196049694ns, electionTimeout:184ms
2022-12-24 08:43:23,574 [s0@group-64704031F9B8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64704031F9B8-FollowerState
2022-12-24 08:43:23,574 [s0@group-64704031F9B8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-64704031F9B8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:23,574 [s0@group-64704031F9B8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:23,574 [s0@group-64704031F9B8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64704031F9B8-LeaderElection19
2022-12-24 08:43:23,575 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-64704031F9B8-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,575 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-64704031F9B8-LeaderElection19 PRE_VOTE round 0: result PASSED (term=0)
2022-12-24 08:43:23,576 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-64704031F9B8-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-64704031F9B8-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-64704031F9B8-LeaderElection19
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-64704031F9B8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-64704031F9B8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 225ms
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:23,577 [s0@group-64704031F9B8-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64704031F9B8-LeaderStateImpl
2022-12-24 08:43:23,578 [s0@group-64704031F9B8-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-64704031F9B8-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:23,578 [s0@group-64704031F9B8-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-64704031F9B8: set configuration 0: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:23,590 [s0@group-64704031F9B8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-64704031F9B8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/current/log_inprogress_0
2022-12-24 08:43:23,858 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-64704031F9B8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-64704031F9B8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:23,859 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41367 (custom)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43341 (custom)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:23,859 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41179 (custom)
2022-12-24 08:43:23,859 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:23,860 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0] (custom)
2022-12-24 08:43:23,862 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
2022-12-24 08:43:23,862 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] returns group-64704031F9B8:java.util.concurrent.CompletableFuture@6848e705[Not completed]
2022-12-24 08:43:23,862 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-64704031F9B8
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:23,862 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:23,863 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:23,863 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:23,863 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:23,863 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:23,863 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-12-24 08:43:23,864 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41367 (custom)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43341 (custom)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41179 (custom)
2022-12-24 08:43:23,864 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:23,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0] (custom)
2022-12-24 08:43:23,867 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
2022-12-24 08:43:23,867 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] returns group-64704031F9B8:java.util.concurrent.CompletableFuture@5c13bdf2[Not completed]
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-64704031F9B8:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-64704031F9B8
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:23,867 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-64704031F9B8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:23,868 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:23,868 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:23,869 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:23,869 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0] (custom)
2022-12-24 08:43:23,862 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-64704031F9B8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:23,869 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:23,872 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:23,872 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:23,872 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:23,872 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:23,872 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:23,872 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:23,873 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:23,873 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:23,873 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:23,873 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:23,873 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:24,679 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(311)) - s5@group-3EC06938F557->s3-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=55,entriesCount=2,lastEntry=(t:1, i:14)
2022-12-24 08:43:24,872 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:24,872 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:25,873 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:25,874 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:26,874 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:26,875 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:27,875 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:27,876 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpcbbc6f71/s0/10da262c-d911-4dcc-bafe-64704031f9b8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-24 08:43:27,876 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41367 (custom)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43341 (custom)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41179 (custom)
2022-12-24 08:43:27,877 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:27,877 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:27,879 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-64704031F9B8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-64704031F9B8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41179|admin:localhost:41367|client:localhost:43341|dataStream:localhost:34291|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:27,881 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:27,881 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-64704031F9B8: shutdown
2022-12-24 08:43:27,881 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64704031F9B8,id=s0
2022-12-24 08:43:27,881 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-64704031F9B8-LeaderStateImpl
2022-12-24 08:43:27,881 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-64704031F9B8-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:27,882 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-64704031F9B8-StateMachineUpdater: set stopIndex = 0
2022-12-24 08:43:27,882 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-64704031F9B8: applyIndex: 0
2022-12-24 08:43:27,882 [s0@group-64704031F9B8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-64704031F9B8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:27,883 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-64704031F9B8-SegmentedRaftLogWorker close()
2022-12-24 08:43:27,884 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:27,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-24 08:43:27,886 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-24 08:43:27,886 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-24 08:43:27,887 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-24 08:43:27,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-24 08:43:27,888 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:27,889 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0
2022-12-24 08:43:27,889 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0 does not exist.
2022-12-24 08:43:27,889 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0
2022-12-24 08:43:27,889 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:27,889 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37749 (custom)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42407 (custom)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46025 (custom)
2022-12-24 08:43:27,890 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:27,890 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:27,891 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0] (custom)
2022-12-24 08:43:27,892 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] returns group-7663039E9E2C:java.util.concurrent.CompletableFuture@62c2bccf[Not completed]
2022-12-24 08:43:27,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:27,893 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1
2022-12-24 08:43:27,893 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1 does not exist.
2022-12-24 08:43:27,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1
2022-12-24 08:43:27,893 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:27,893 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,893 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44129 (custom)
2022-12-24 08:43:27,893 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,893 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44027 (custom)
2022-12-24 08:43:27,893 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46475 (custom)
2022-12-24 08:43:27,894 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:27,894 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1] (custom)
2022-12-24 08:43:27,896 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,896 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,896 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7663039E9E2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:27,897 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:27,898 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:27,898 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:27,898 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:27,898 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:27,899 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:27,899 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:27,904 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] returns group-7663039E9E2C:java.util.concurrent.CompletableFuture@162d2e08[Not completed]
2022-12-24 08:43:27,904 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER], format? true
2022-12-24 08:43:27,904 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2
2022-12-24 08:43:27,904 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2 does not exist.
2022-12-24 08:43:27,904 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2
2022-12-24 08:43:27,905 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43179 (custom)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40705 (custom)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-24 08:43:27,905 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34703 (custom)
2022-12-24 08:43:27,905 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,905 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,905 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,905 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:27,905 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,905 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:27,905 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,906 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,906 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:27,906 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7663039E9E2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:27,906 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:27,906 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:27,907 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:27,907 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-24 08:43:27,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-24 08:43:27,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-24 08:43:27,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,907 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:27,908 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:27,908 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:27,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2] (custom)
2022-12-24 08:43:27,908 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:27,908 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:27,908 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] returns group-7663039E9E2C:java.util.concurrent.CompletableFuture@1257fe90[Not completed]
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,909 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,909 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-7663039E9E2C:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-24 08:43:27,909 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0] (custom)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7663039E9E2C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-24 08:43:27,909 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c does not exist. Creating ...
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-24 08:43:27,909 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-24 08:43:27,910 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-24 08:43:27,910 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-24 08:43:27,912 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:27,912 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current
2022-12-24 08:43:27,912 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/sm
2022-12-24 08:43:27,913 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c has been successfully formatted.
2022-12-24 08:43:27,913 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,913 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:27,914 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-7663039E9E2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,915 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:27,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:27,916 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:27,916 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,916 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,928 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-7663039E9E2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:27,928 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-7663039E9E2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:27,928 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:27,928 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s0
2022-12-24 08:43:27,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:27,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:27,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:27,930 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-24 08:43:27,931 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42407
2022-12-24 08:43:27,931 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46025
2022-12-24 08:43:27,932 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37749
2022-12-24 08:43:27,932 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:27,932 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:27,932 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-24 08:43:27,932 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:27,933 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1] (custom)
2022-12-24 08:43:27,933 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c does not exist. Creating ...
2022-12-24 08:43:27,933 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:27,933 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,934 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:27,935 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current
2022-12-24 08:43:27,935 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/sm
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c has been successfully formatted.
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:27,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-7663039E9E2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:27,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:27,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:27,941 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,941 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-7663039E9E2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-7663039E9E2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7663039E9E2C-FollowerState
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s1
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:27,942 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:27,943 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:27,943 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:27,943 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-24 08:43:27,943 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44027
2022-12-24 08:43:27,944 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46475
2022-12-24 08:43:27,944 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44129
2022-12-24 08:43:27,944 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-24 08:43:27,944 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-24 08:43:27,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-24 08:43:27,945 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2] (custom)
2022-12-24 08:43:27,945 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c does not exist. Creating ...
2022-12-24 08:43:27,946 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,946 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/in_use.lock acquired by nodename 2516@fv-az167-329
2022-12-24 08:43:27,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current
2022-12-24 08:43:27,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/sm
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c has been successfully formatted.
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-24 08:43:27,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-7663039E9E2C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-24 08:43:27,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:27,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-24 08:43:27,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-24 08:43:27,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-24 08:43:27,950 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,950 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-24 08:43:27,953 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-7663039E9E2C: start as a follower, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:27,953 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-7663039E9E2C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-24 08:43:27,953 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7663039E9E2C-FollowerState
2022-12-24 08:43:27,954 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s2
2022-12-24 08:43:27,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-24 08:43:27,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-24 08:43:27,954 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-24 08:43:27,954 [s2@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:27,954 [s2@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:27,955 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-24 08:43:27,955 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40705
2022-12-24 08:43:27,955 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34703
2022-12-24 08:43:27,956 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43179
2022-12-24 08:43:27,956 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-24 08:43:27,961 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:27,961 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:27,961 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:28,160 [s2@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7663039E9E2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206493571ns, electionTimeout:205ms
2022-12-24 08:43:28,160 [s2@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,160 [s2@group-7663039E9E2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-7663039E9E2C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:28,161 [s2@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:28,161 [s2@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7663039E9E2C-LeaderElection20
2022-12-24 08:43:28,161 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-7663039E9E2C-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,162 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:28,162 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:28,162 [s2@group-7663039E9E2C-LeaderElection20-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:28,162 [s2@group-7663039E9E2C-LeaderElection20-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:28,168 [s1@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7663039E9E2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225965055ns, electionTimeout:224ms
2022-12-24 08:43:28,168 [s1@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,168 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-7663039E9E2C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-24 08:43:28,168 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:28,168 [s1@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7663039E9E2C-LeaderElection21
2022-12-24 08:43:28,173 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-7663039E9E2C: receive requestVote(PRE_VOTE, s2, group-7663039E9E2C, 0, (t:0, i:0))
2022-12-24 08:43:28,173 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7663039E9E2C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,173 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-7663039E9E2C replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,175 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-7663039E9E2C: receive requestVote(PRE_VOTE, s2, group-7663039E9E2C, 0, (t:0, i:0))
2022-12-24 08:43:28,175 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7663039E9E2C-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,175 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-7663039E9E2C replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-7663039E9E2C:t0, leader=null, voted=, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,176 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7663039E9E2C-LeaderElection20: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:28,176 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-12-24 08:43:28,176 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-7663039E9E2C-LeaderElection20 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:28,177 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-7663039E9E2C-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,179 [s1@group-7663039E9E2C-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7663039E9E2C-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,182 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-7663039E9E2C: receive requestVote(ELECTION, s2, group-7663039E9E2C, 1, (t:0, i:0))
2022-12-24 08:43:28,182 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7663039E9E2C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,182 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-7663039E9E2C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:28,182 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,182 [s0@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7663039E9E2C-FollowerState was interrupted
2022-12-24 08:43:28,182 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:28,183 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:28,183 [s1@group-7663039E9E2C-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:28,183 [s1@group-7663039E9E2C-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:28,183 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,184 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-7663039E9E2C: receive requestVote(ELECTION, s2, group-7663039E9E2C, 1, (t:0, i:0))
2022-12-24 08:43:28,184 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7663039E9E2C-CANDIDATE: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,184 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-7663039E9E2C: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s2
2022-12-24 08:43:28,184 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7663039E9E2C-LeaderElection21
2022-12-24 08:43:28,184 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,184 [s1@group-7663039E9E2C-LeaderElection21-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:28,188 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-7663039E9E2C: receive requestVote(PRE_VOTE, s1, group-7663039E9E2C, 0, (t:0, i:0))
2022-12-24 08:43:28,188 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7663039E9E2C-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,188 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-7663039E9E2C replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,189 [s1@group-7663039E9E2C-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7663039E9E2C-LeaderElection21: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-24 08:43:28,189 [s1@group-7663039E9E2C-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2022-12-24 08:43:28,189 [s1@group-7663039E9E2C-LeaderElection21-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-24 08:43:28,189 [s1@group-7663039E9E2C-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-7663039E9E2C-LeaderElection21 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-24 08:43:28,193 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-7663039E9E2C replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-7663039E9E2C-LeaderElection20: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-7663039E9E2C-LeaderElection20 ELECTION round 0: result PASSED
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7663039E9E2C-LeaderElection20
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-7663039E9E2C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7663039E9E2C: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 284ms
2022-12-24 08:43:28,193 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:28,194 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:28,195 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:28,195 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-7663039E9E2C: receive requestVote(PRE_VOTE, s1, group-7663039E9E2C, 0, (t:0, i:0))
2022-12-24 08:43:28,195 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:28,196 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:28,196 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:28,196 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:28,196 [s2@group-7663039E9E2C-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7663039E9E2C-LeaderStateImpl
2022-12-24 08:43:28,197 [s2@group-7663039E9E2C-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:28,201 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-7663039E9E2C replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,201 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7663039E9E2C-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,201 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-7663039E9E2C replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,202 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-24 08:43:28,202 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-24 08:43:28,213 [s2@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0
2022-12-24 08:43:28,213 [s2@group-7663039E9E2C-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-7663039E9E2C: set configuration 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,220 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7663039E9E2C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 313ms
2022-12-24 08:43:28,220 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7663039E9E2C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 323ms
2022-12-24 08:43:28,222 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7663039E9E2C: set configuration 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,222 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:28,229 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7663039E9E2C: set configuration 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,230 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-24 08:43:28,241 [s0@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0
2022-12-24 08:43:28,242 [s1@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0
2022-12-24 08:43:28,412 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,413 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:28,413 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:28,419 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5869747CCA38->s0: receive RaftClientReply:client-5869747CCA38->s0@group-7663039E9E2C, cid=114, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-7663039E9E2C is not the leader s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-24 08:43:28,422 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:28,422 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:28,427 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5869747CCA38->s2: receive RaftClientReply:client-5869747CCA38->s2@group-7663039E9E2C, cid=114, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-12-24 08:43:28,431 [s2@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-5869747CCA38
2022-12-24 08:43:28,432 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5869747CCA38->s2: receive RaftClientReply:client-5869747CCA38->s2@group-7663039E9E2C, cid=115, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-12-24 08:43:28,433 [s1@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-5869747CCA38
2022-12-24 08:43:28,434 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:28,434 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:28,434 [s0@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-5869747CCA38
2022-12-24 08:43:28,445 [s2@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9EFE1221A01A
2022-12-24 08:43:28,446 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9EFE1221A01A->s2: receive RaftClientReply:client-9EFE1221A01A->s2@group-7663039E9E2C, cid=1, SUCCESS, logIndex=3, commits[s2:c3, s0:c2, s1:c2]
2022-12-24 08:43:28,446 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2022-12-24 08:43:28,447 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2022-12-24 08:43:28,447 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:28,447 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,447 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,447 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:28,448 [s1@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9EFE1221A01A
2022-12-24 08:43:28,449 [s0-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-12-24 08:43:28,517 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-12-24 08:43:28,525 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2022-12-24 08:43:28,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:28,548 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,548 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,548 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7663039E9E2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193305934ns, electionTimeout:166ms
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-7663039E9E2C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7663039E9E2C-LeaderElection22
2022-12-24 08:43:28,634 [s0@group-7663039E9E2C-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7663039E9E2C: change Leader from s2 to null at term 1 for PRE_VOTE
2022-12-24 08:43:28,635 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7663039E9E2C-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,635 [s0@group-7663039E9E2C-LeaderElection22-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-24 08:43:28,635 [s0@group-7663039E9E2C-LeaderElection22-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-24 08:43:28,640 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-7663039E9E2C: receive requestVote(PRE_VOTE, s0, group-7663039E9E2C, 1, (t:1, i:3))
2022-12-24 08:43:28,641 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7663039E9E2C-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-12-24 08:43:28,641 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-7663039E9E2C replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,644 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s1@group-7663039E9E2C: receive requestVote(PRE_VOTE, s0, group-7663039E9E2C, 1, (t:1, i:3))
2022-12-24 08:43:28,645 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7663039E9E2C-FOLLOWER: reject PRE_VOTE from s0: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2022-12-24 08:43:28,645 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s1@group-7663039E9E2C replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,645 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7663039E9E2C-LeaderElection22: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-12-24 08:43:28,645 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-12-24 08:43:28,645 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-12-24 08:43:28,646 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7663039E9E2C-LeaderElection22 PRE_VOTE round 0: result REJECTED
2022-12-24 08:43:28,646 [s0@group-7663039E9E2C-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-7663039E9E2C: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-24 08:43:28,646 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7663039E9E2C-LeaderElection22
2022-12-24 08:43:28,647 [s0@group-7663039E9E2C-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:28,652 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,652 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,652 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:28,696 [s1@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-7663039E9E2C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:248485955ns, electionTimeout:196ms
2022-12-24 08:43:28,696 [s1@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,696 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-7663039E9E2C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-12-24 08:43:28,696 [s1@group-7663039E9E2C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-24 08:43:28,696 [s1@group-7663039E9E2C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7663039E9E2C-LeaderElection23
2022-12-24 08:43:28,697 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7663039E9E2C: change Leader from s2 to null at term 1 for PRE_VOTE
2022-12-24 08:43:28,697 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7663039E9E2C-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,700 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-7663039E9E2C: receive requestVote(PRE_VOTE, s1, group-7663039E9E2C, 1, (t:1, i:4))
2022-12-24 08:43:28,700 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7663039E9E2C-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-12-24 08:43:28,700 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-7663039E9E2C replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-7663039E9E2C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,701 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-7663039E9E2C: receive requestVote(PRE_VOTE, s1, group-7663039E9E2C, 1, (t:1, i:4))
2022-12-24 08:43:28,702 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7663039E9E2C-FOLLOWER: accept PRE_VOTE from s1: our last entry (t:1, i:3) < candidate's last entry (t:1, i:4)
2022-12-24 08:43:28,702 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-7663039E9E2C replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-7663039E9E2C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,702 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7663039E9E2C-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:28,703 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-24 08:43:28,703 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-7663039E9E2C-LeaderElection23 PRE_VOTE round 0: result PASSED
2022-12-24 08:43:28,704 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-7663039E9E2C-LeaderElection23 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s2@group-7663039E9E2C: receive requestVote(ELECTION, s1, group-7663039E9E2C, 2, (t:1, i:4))
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7663039E9E2C-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7663039E9E2C: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-7663039E9E2C: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7663039E9E2C-LeaderStateImpl
2022-12-24 08:43:28,707 [grpc-default-executor-5] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-7663039E9E2C-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:28,707 [s2@group-7663039E9E2C->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-7663039E9E2C->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:28,707 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1297)) - s0@group-7663039E9E2C: receive requestVote(ELECTION, s1, group-7663039E9E2C, 2, (t:1, i:4))
2022-12-24 08:43:28,707 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-7663039E9E2C-FOLLOWER: accept ELECTION from s1: our last entry (t:1, i:3) < candidate's last entry (t:1, i:4)
2022-12-24 08:43:28,709 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-7663039E9E2C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-12-24 08:43:28,709 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,707 [s2@group-7663039E9E2C->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-7663039E9E2C->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:28,709 [s0@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7663039E9E2C-FollowerState was interrupted
2022-12-24 08:43:28,709 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,708 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7663039E9E2C-FollowerState
2022-12-24 08:43:28,716 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#10-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-24 08:43:28,717 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-7663039E9E2C->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:28,717 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-7663039E9E2C->s1: nextIndex: updateUnconditionally 5 -> 4
2022-12-24 08:43:28,718 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s0@group-7663039E9E2C replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-7663039E9E2C:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,718 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1330)) - s2@group-7663039E9E2C replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-7663039E9E2C:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-7663039E9E2C-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-7663039E9E2C-LeaderElection23 ELECTION round 0: result PASSED
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-7663039E9E2C-LeaderElection23
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-7663039E9E2C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7663039E9E2C: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 22ms
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-24 08:43:28,719 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-24 08:43:28,720 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-24 08:43:28,721 [s1@group-7663039E9E2C-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7663039E9E2C-LeaderStateImpl
2022-12-24 08:43:28,721 [s1@group-7663039E9E2C-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-24 08:43:28,722 [s1@group-7663039E9E2C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,722 [s1@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,734 [s1@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s1/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_5
2022-12-24 08:43:28,734 [s1@group-7663039E9E2C-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7663039E9E2C: set configuration 5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,739 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7663039E9E2C: change Leader from null to s1 at term 2 for appendEntries, leader elected after 104ms
2022-12-24 08:43:28,739 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1605)) - s0@group-7663039E9E2C: Failed appendEntries as previous log entry ((t:1, i:4)) is not found
2022-12-24 08:43:28,739 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7663039E9E2C: change Leader from null to s1 at term 2 for appendEntries, leader elected after 32ms
2022-12-24 08:43:28,739 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1575)) - s0@group-7663039E9E2C: inconsistency entries. Reply:s1<-s0#0:FAIL-t2,INCONSISTENCY,nextIndex=4,followerCommit=2,matchIndex=-1
2022-12-24 08:43:28,741 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7663039E9E2C->s0: nextIndex: updateUnconditionally 5 -> 4
2022-12-24 08:43:28,742 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7663039E9E2C: set configuration 5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,742 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-24 08:43:28,744 [s0@group-7663039E9E2C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,744 [s0@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,745 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-7663039E9E2C: set configuration 5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-24 08:43:28,745 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-24 08:43:28,746 [s2@group-7663039E9E2C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,746 [s2@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_0-4
2022-12-24 08:43:28,752 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-24 08:43:28,752 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c2, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c4, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:28,753 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-7663039E9E2C not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-7663039E9E2C not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-24 08:43:28,763 [s0@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s0/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_5
2022-12-24 08:43:28,763 [s2@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7f3cb107/MiniRaftClusterWithGrpc7b7ec992/s2/fa18a615-eebb-4d0c-b3a8-7663039e9e2c/current/log_inprogress_5
2022-12-24 08:43:28,764 [s0@group-7663039E9E2C-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-9EFE1221A01A
2022-12-24 08:43:29,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:29,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-12-24 08:43:29,203 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2022-12-24 08:43:29,203 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-12-24 08:43:29,204 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-9EFE1221A01A->s2: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-9EFE1221A01A->s2: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-12-24 08:43:29,204 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2022-12-24 08:43:29,205 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-24 08:43:29,205 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-24 08:43:29,209 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-12-24 08:43:29,349 [s0-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-12-24 08:43:29,350 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-24 08:43:29,351 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-7663039E9E2C->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:29,351 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-7663039E9E2C->s0: nextIndex: updateUnconditionally 5 -> 4
2022-12-24 08:43:29,418 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-12-24 08:43:29,420 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:29,421 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-7663039E9E2C->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:29,421 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-7663039E9E2C->s0: nextIndex: updateUnconditionally 4 -> 3
2022-12-24 08:43:29,425 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2022-12-24 08:43:29,427 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:29,427 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-7663039E9E2C->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:29,427 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-7663039E9E2C->s1: nextIndex: updateUnconditionally 4 -> 3
2022-12-24 08:43:30,209 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-9EFE1221A01A->s2 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-9EFE1221A01A->s2 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-12-24 08:43:30,213 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9EFE1221A01A->s2: receive RaftClientReply:client-9EFE1221A01A->s2@group-7663039E9E2C, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-12-24 08:43:33,210 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1052, target=localhost:40705}}. 
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-24 08:43:33,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7663039E9E2C:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-7663039E9E2C-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:46025|admin:localhost:37749|client:localhost:42407|dataStream:localhost:37025|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46475|admin:localhost:44129|client:localhost:44027|dataStream:localhost:45647|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34703|admin:localhost:43179|client:localhost:40705|dataStream:localhost:33535|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-24 08:43:33,213 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-24 08:43:33,215 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:33,215 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-7663039E9E2C: shutdown
2022-12-24 08:43:33,215 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s0
2022-12-24 08:43:33,215 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7663039E9E2C-FollowerState
2022-12-24 08:43:33,215 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7663039E9E2C-StateMachineUpdater: set stopIndex = 6
2022-12-24 08:43:33,216 [MiniRaftCluster-26] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:33,216 [s0@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7663039E9E2C-FollowerState was interrupted
2022-12-24 08:43:33,217 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-7663039E9E2C: applyIndex: 6
2022-12-24 08:43:33,217 [s0@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:33,217 [MiniRaftCluster-26] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:33,219 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-24 08:43:33,219 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-7663039E9E2C-SegmentedRaftLogWorker close()
2022-12-24 08:43:33,220 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-7663039E9E2C: shutdown
2022-12-24 08:43:33,220 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s1
2022-12-24 08:43:33,220 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-7663039E9E2C-LeaderStateImpl
2022-12-24 08:43:33,220 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:33,222 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-24 08:43:33,221 [s1@group-7663039E9E2C->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-7663039E9E2C->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:33,221 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:33,223 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:33,221 [s1@group-7663039E9E2C->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-7663039E9E2C->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-24 08:43:33,220 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-7663039E9E2C-PendingRequests: sendNotLeaderResponses
2022-12-24 08:43:33,224 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:33,224 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-12-24 08:43:33,225 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-7663039E9E2C->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:33,225 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#4-t2,previous=(t:2, i:5),leaderCommit=6,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-24 08:43:33,225 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-7663039E9E2C->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:33,226 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7663039E9E2C->s0: nextIndex: updateUnconditionally 7 -> 6
2022-12-24 08:43:33,225 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7663039E9E2C->s2: nextIndex: updateUnconditionally 7 -> 6
2022-12-24 08:43:33,227 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-24 08:43:33,227 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-7663039E9E2C->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:33,227 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7663039E9E2C->s0: nextIndex: updateUnconditionally 6 -> 5
2022-12-24 08:43:33,228 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-7663039E9E2C->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-24 08:43:33,228 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-7663039E9E2C->s2: nextIndex: updateUnconditionally 6 -> 5
2022-12-24 08:43:33,231 [MiniRaftCluster-27] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:33,230 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7663039E9E2C-StateMachineUpdater: set stopIndex = 6
2022-12-24 08:43:33,232 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7663039E9E2C: applyIndex: 6
2022-12-24 08:43:33,232 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:33,232 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:33,232 [s1@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:33,232 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:33,234 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-7663039E9E2C-SegmentedRaftLogWorker close()
2022-12-24 08:43:33,235 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-24 08:43:33,236 [MiniRaftCluster-27] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-24 08:43:33,238 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-24 08:43:33,238 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:33,238 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:33,238 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-7663039E9E2C: shutdown
2022-12-24 08:43:33,238 [MiniRaftCluster-28] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-24 08:43:33,240 [MiniRaftCluster-28] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-24 08:43:33,239 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:33,240 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:33,238 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7663039E9E2C,id=s2
2022-12-24 08:43:33,240 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7663039E9E2C-FollowerState
2022-12-24 08:43:33,240 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7663039E9E2C-StateMachineUpdater: set stopIndex = 6
2022-12-24 08:43:33,240 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-24 08:43:33,240 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-24 08:43:33,240 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:33,240 [s2@group-7663039E9E2C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7663039E9E2C-FollowerState was interrupted
2022-12-24 08:43:33,241 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-24 08:43:33,241 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-24 08:43:33,241 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-24 08:43:33,241 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-7663039E9E2C: applyIndex: 6
2022-12-24 08:43:33,241 [s2@group-7663039E9E2C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-24 08:43:33,242 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-24 08:43:33,243 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-7663039E9E2C-SegmentedRaftLogWorker close()
2022-12-24 08:43:33,243 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-24 08:43:33,243 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
