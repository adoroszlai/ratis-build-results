2022-12-04 13:25:32,784 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:32,795 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:32,798 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:32,817 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:32,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:32,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:32,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:32,867 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:32,868 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:32,868 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:32,868 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:32,873 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:32,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0
2022-12-04 13:25:32,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0 does not exist.
2022-12-04 13:25:32,876 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0
2022-12-04 13:25:32,895 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:32,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:32,947 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36203 (custom)
2022-12-04 13:25:32,948 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:32,948 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34773 (custom)
2022-12-04 13:25:32,949 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:32,949 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40711 (custom)
2022-12-04 13:25:32,949 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:32,952 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:32,952 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:32,953 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:32,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:32,969 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:32,970 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:33,129 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:33,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:33,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:33,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0] (custom)
2022-12-04 13:25:33,144 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] returns group-972AA49E29D3:java.util.concurrent.CompletableFuture@7d4eab6e[Not completed]
2022-12-04 13:25:33,144 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:33,144 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1
2022-12-04 13:25:33,144 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1 does not exist.
2022-12-04 13:25:33,144 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1
2022-12-04 13:25:33,145 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:33,145 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:33,145 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42025 (custom)
2022-12-04 13:25:33,145 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:33,145 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42051 (custom)
2022-12-04 13:25:33,146 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:33,146 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46201 (custom)
2022-12-04 13:25:33,146 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:33,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,146 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:33,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:33,146 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:33,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:33,147 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:33,149 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:33,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:33,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:33,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,153 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,153 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1] (custom)
2022-12-04 13:25:33,161 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] returns group-972AA49E29D3:java.util.concurrent.CompletableFuture@396295d[Not completed]
2022-12-04 13:25:33,161 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:33,161 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2
2022-12-04 13:25:33,161 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2 does not exist.
2022-12-04 13:25:33,161 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2
2022-12-04 13:25:33,162 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:33,162 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:33,162 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37671 (custom)
2022-12-04 13:25:33,162 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:33,163 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43231 (custom)
2022-12-04 13:25:33,163 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:33,163 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44193 (custom)
2022-12-04 13:25:33,163 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:33,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,163 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:33,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:33,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:33,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:33,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:33,172 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:33,173 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:33,173 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:33,173 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,173 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,175 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,175 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,174 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,177 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,178 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,179 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,174 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2] (custom)
2022-12-04 13:25:33,179 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,185 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:33,186 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:33,186 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:33,186 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,186 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,184 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:33,189 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:33,190 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:33,192 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:33,192 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,193 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,195 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:33,216 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] returns group-972AA49E29D3:java.util.concurrent.CompletableFuture@25afb38c[Not completed]
2022-12-04 13:25:33,216 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,216 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,226 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,226 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-972AA49E29D3:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,226 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:33,226 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:33,226 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:33,224 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-972AA49E29D3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:33,221 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-972AA49E29D3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:33,229 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:33,237 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:33,237 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:33,237 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-972AA49E29D3: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:33,237 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:33,240 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:33,237 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:33,240 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:33,240 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:33,241 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:33,243 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:33,244 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:33,243 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:33,245 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:33,243 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:33,245 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:33,258 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:33,258 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:33,268 [pool-3-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-12-04 13:25:33,268 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:33,377 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:33,377 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:33,377 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:33,377 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:33,378 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:33,378 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:33,378 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:33,378 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:33,378 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:33,378 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:33,379 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:33,379 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:33,380 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:33,381 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:33,381 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:33,382 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0] (custom)
2022-12-04 13:25:33,383 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:33,383 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:33,391 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3 does not exist. Creating ...
2022-12-04 13:25:33,395 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,400 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:33,401 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3/current
2022-12-04 13:25:33,401 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3/sm
2022-12-04 13:25:33,411 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3 has been successfully formatted.
2022-12-04 13:25:33,412 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,414 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:33,415 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:33,420 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:33,420 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,421 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:33,426 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:33,434 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,438 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:33,439 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:33,444 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-972AA49E29D3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:33,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:33,445 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,446 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,446 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:33,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:33,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:33,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:33,452 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,453 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:33,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:33,455 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:33,460 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,460 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,461 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-972AA49E29D3: start as a follower, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,461 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-972AA49E29D3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:33,465 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,466 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,470 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s0
2022-12-04 13:25:33,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:33,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:33,473 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:33,475 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,480 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:33,514 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34773
2022-12-04 13:25:33,518 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40711
2022-12-04 13:25:33,519 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36203
2022-12-04 13:25:33,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:33,524 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:33,525 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1] (custom)
2022-12-04 13:25:33,525 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3 does not exist. Creating ...
2022-12-04 13:25:33,529 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,530 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:33,531 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:33,531 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3/current
2022-12-04 13:25:33,531 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3/sm
2022-12-04 13:25:33,532 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3 has been successfully formatted.
2022-12-04 13:25:33,535 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,536 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:33,536 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:33,536 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:33,537 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,537 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:33,537 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:33,539 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,539 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:33,540 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:33,540 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-972AA49E29D3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:33,541 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:33,542 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:33,542 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:33,542 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,542 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,543 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:33,544 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:33,544 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:33,544 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,544 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,547 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-972AA49E29D3: start as a follower, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,547 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-972AA49E29D3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:33,547 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,552 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s1
2022-12-04 13:25:33,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:33,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:33,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:33,556 [s1@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,557 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:25:33,558 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42051
2022-12-04 13:25:33,559 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46201
2022-12-04 13:25:33,559 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42025
2022-12-04 13:25:33,560 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:33,560 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:33,560 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2] (custom)
2022-12-04 13:25:33,560 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3 does not exist. Creating ...
2022-12-04 13:25:33,559 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:25:33,560 [s1@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,560 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,566 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:33,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3/current
2022-12-04 13:25:33,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3/sm
2022-12-04 13:25:33,567 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3 has been successfully formatted.
2022-12-04 13:25:33,567 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:33,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:33,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-972AA49E29D3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:33,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:33,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:33,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:33,577 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:33,578 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:33,578 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:33,579 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,579 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:33,579 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-972AA49E29D3: start as a follower, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,579 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-972AA49E29D3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:33,579 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,580 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s2
2022-12-04 13:25:33,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:33,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:33,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:33,583 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,587 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,587 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:25:33,589 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43231
2022-12-04 13:25:33,589 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44193
2022-12-04 13:25:33,590 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37671
2022-12-04 13:25:33,591 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:25:33,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:33,594 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:33,599 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:33,744 [s0@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-972AA49E29D3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279994628ns, electionTimeout:268ms
2022-12-04 13:25:33,745 [s0@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,745 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-972AA49E29D3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:33,747 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:33,747 [s0@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-972AA49E29D3-LeaderElection1
2022-12-04 13:25:33,753 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-972AA49E29D3-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,763 [s1@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-972AA49E29D3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215465508ns, electionTimeout:198ms
2022-12-04 13:25:33,763 [s1@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,763 [s1@group-972AA49E29D3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-972AA49E29D3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:33,768 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,768 [s1@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:33,769 [s1@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-972AA49E29D3-LeaderElection2
2022-12-04 13:25:33,768 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,769 [s0@group-972AA49E29D3-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:25:33,769 [s0@group-972AA49E29D3-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:33,773 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-972AA49E29D3-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,782 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,782 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,783 [s1@group-972AA49E29D3-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:33,783 [s1@group-972AA49E29D3-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:33,873 [s2@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-972AA49E29D3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:294126852ns, electionTimeout:286ms
2022-12-04 13:25:33,874 [s2@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:33,874 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-972AA49E29D3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:33,874 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:33,874 [s2@group-972AA49E29D3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-972AA49E29D3-LeaderElection3
2022-12-04 13:25:33,878 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-972AA49E29D3-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:33,879 [s2@group-972AA49E29D3-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:33,882 [s2@group-972AA49E29D3-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:33,883 [s2@group-972AA49E29D3-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:33,882 [s2@group-972AA49E29D3-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:25:34,016 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-972AA49E29D3-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-04 13:25:34,016 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-972AA49E29D3-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-12-04 13:25:34,016 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-972AA49E29D3-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,034 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,035 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,052 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:34,075 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-972AA49E29D3-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-04 13:25:34,076 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-972AA49E29D3-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-12-04 13:25:34,076 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-972AA49E29D3-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,078 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-972AA49E29D3: receive requestVote(PRE_VOTE, s2, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,086 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-972AA49E29D3: receive requestVote(PRE_VOTE, s1, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,086 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,079 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(PRE_VOTE, s1, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,081 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,088 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,089 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,089 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,091 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(PRE_VOTE, s1, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,092 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-972AA49E29D3 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,093 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-972AA49E29D3-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-12-04 13:25:34,093 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-972AA49E29D3-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-12-04 13:25:34,093 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,094 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-972AA49E29D3-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,094 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,095 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,099 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-972AA49E29D3 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,105 [s2@group-972AA49E29D3-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,110 [s2@group-972AA49E29D3-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,106 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(PRE_VOTE, s0, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,115 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,115 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,110 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(PRE_VOTE, s0, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,116 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,116 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,117 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-972AA49E29D3: receive requestVote(PRE_VOTE, s2, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,120 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,120 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-972AA49E29D3 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,122 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-972AA49E29D3: receive requestVote(PRE_VOTE, s0, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,122 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,122 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-972AA49E29D3 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,123 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-972AA49E29D3: receive requestVote(PRE_VOTE, s0, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,123 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,123 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-972AA49E29D3 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,125 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-972AA49E29D3-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:34,130 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-12-04 13:25:34,130 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-972AA49E29D3-LeaderElection2 PRE_VOTE round 1: result PASSED
2022-12-04 13:25:34,132 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-972AA49E29D3: receive requestVote(PRE_VOTE, s1, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,134 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-972AA49E29D3-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:34,134 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-972AA49E29D3-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,135 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,135 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-12-04 13:25:34,144 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-972AA49E29D3-LeaderElection1 PRE_VOTE round 1: result PASSED
2022-12-04 13:25:34,144 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-972AA49E29D3: receive requestVote(PRE_VOTE, s2, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,144 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,144 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,144 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,144 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-972AA49E29D3 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-972AA49E29D3:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,136 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-972AA49E29D3 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-972AA49E29D3:t0, leader=null, voted=, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,146 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-972AA49E29D3-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,148 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-972AA49E29D3-LeaderElection3: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-04 13:25:34,153 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2022-12-04 13:25:34,153 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-972AA49E29D3-LeaderElection3 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-04 13:25:34,154 [s2@group-972AA49E29D3-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-972AA49E29D3: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-12-04 13:25:34,154 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-972AA49E29D3-LeaderElection3
2022-12-04 13:25:34,154 [s2@group-972AA49E29D3-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,152 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,159 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,164 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,165 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,170 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-972AA49E29D3: receive requestVote(PRE_VOTE, s2, group-972AA49E29D3, 0, (t:0, i:0))
2022-12-04 13:25:34,170 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-972AA49E29D3-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,170 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-972AA49E29D3 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-972AA49E29D3:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,171 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(ELECTION, s1, group-972AA49E29D3, 1, (t:0, i:0))
2022-12-04 13:25:34,171 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:34,171 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-972AA49E29D3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:34,171 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,171 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,175 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,179 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-972AA49E29D3: receive requestVote(ELECTION, s0, group-972AA49E29D3, 1, (t:0, i:0))
2022-12-04 13:25:34,179 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-972AA49E29D3-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-12-04 13:25:34,179 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-972AA49E29D3 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-972AA49E29D3:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,178 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-972AA49E29D3: receive requestVote(ELECTION, s0, group-972AA49E29D3, 1, (t:0, i:0))
2022-12-04 13:25:34,178 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-972AA49E29D3:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,180 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-972AA49E29D3-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2022-12-04 13:25:34,180 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-972AA49E29D3 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-972AA49E29D3:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,178 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-972AA49E29D3: receive requestVote(ELECTION, s1, group-972AA49E29D3, 1, (t:0, i:0))
2022-12-04 13:25:34,181 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-972AA49E29D3-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-12-04 13:25:34,181 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-972AA49E29D3 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-972AA49E29D3:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,183 [s2@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-972AA49E29D3-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-972AA49E29D3-LeaderElection2 ELECTION round 0: result PASSED
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-972AA49E29D3-LeaderElection2
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-972AA49E29D3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:34,184 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-972AA49E29D3: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 947ms
2022-12-04 13:25:34,183 [s2@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-972AA49E29D3-FollowerState was interrupted
2022-12-04 13:25:34,189 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-972AA49E29D3-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-04 13:25:34,191 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-12-04 13:25:34,191 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-12-04 13:25:34,191 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-972AA49E29D3-LeaderElection1 ELECTION round 0: result REJECTED
2022-12-04 13:25:34,188 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:34,191 [s0@group-972AA49E29D3-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-972AA49E29D3: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-04 13:25:34,192 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-972AA49E29D3-LeaderElection1
2022-12-04 13:25:34,192 [s0@group-972AA49E29D3-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,195 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:34,196 [s0@group-972AA49E29D3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:34,198 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:34,198 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:34,201 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:34,201 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:34,201 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:34,207 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:34,209 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:34,220 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:34,220 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:34,221 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:34,223 [s1@group-972AA49E29D3-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:34,223 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:34,224 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:34,224 [s1@group-972AA49E29D3-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:34,224 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:34,227 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:34,228 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:34,228 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:34,228 [s1@group-972AA49E29D3-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:34,229 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:34,229 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:34,229 [s1@group-972AA49E29D3-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:34,229 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:34,232 [s1@group-972AA49E29D3-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-972AA49E29D3-LeaderStateImpl
2022-12-04 13:25:34,244 [s1@group-972AA49E29D3-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:34,281 [s1@group-972AA49E29D3-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-972AA49E29D3: set configuration 0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,301 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-972AA49E29D3: change Leader from null to s1 at term 1 for appendEntries, leader elected after 1063ms
2022-12-04 13:25:34,305 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-972AA49E29D3: change Leader from null to s1 at term 1 for appendEntries, leader elected after 1064ms
2022-12-04 13:25:34,351 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-972AA49E29D3: set configuration 0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,351 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:34,352 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-972AA49E29D3: set configuration 0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:34,361 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:34,389 [s2@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s2/002905f4-b9f9-423a-acfa-972aa49e29d3/current/log_inprogress_0
2022-12-04 13:25:34,393 [s0@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s0/002905f4-b9f9-423a-acfa-972aa49e29d3/current/log_inprogress_0
2022-12-04 13:25:34,406 [s1@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcdedd8257/s1/002905f4-b9f9-423a-acfa-972aa49e29d3/current/log_inprogress_0
2022-12-04 13:25:34,508 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-972AA49E29D3:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-972AA49E29D3:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-972AA49E29D3:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:34,530 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:34,531 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:34,586 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B043165FFC95->s0: receive RaftClientReply:client-B043165FFC95->s0@group-972AA49E29D3, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-972AA49E29D3 is not the leader s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-04 13:25:34,601 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:34,601 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:34,624 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B043165FFC95->s1: receive RaftClientReply:client-B043165FFC95->s1@group-972AA49E29D3, cid=0, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-12-04 13:25:34,649 [s1@group-972AA49E29D3-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B043165FFC95
2022-12-04 13:25:34,652 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B043165FFC95->s1: receive RaftClientReply:client-B043165FFC95->s1@group-972AA49E29D3, cid=1, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-12-04 13:25:34,657 [s0@group-972AA49E29D3-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B043165FFC95
2022-12-04 13:25:34,658 [s2@group-972AA49E29D3-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-B043165FFC95
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:34,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-972AA49E29D3:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-972AA49E29D3-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-972AA49E29D3:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-972AA49E29D3-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-972AA49E29D3:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-972AA49E29D3-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:40711|admin:localhost:36203|client:localhost:34773|dataStream:localhost:35727|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46201|admin:localhost:42025|client:localhost:42051|dataStream:localhost:36903|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44193|admin:localhost:37671|client:localhost:43231|dataStream:localhost:42371|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:34,670 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:34,671 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:25:34,671 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:25:34,677 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:34,679 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-972AA49E29D3: shutdown
2022-12-04 13:25:34,679 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s0
2022-12-04 13:25:34,679 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,679 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-972AA49E29D3-StateMachineUpdater: set stopIndex = 1
2022-12-04 13:25:34,679 [s0@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-972AA49E29D3-FollowerState was interrupted
2022-12-04 13:25:34,681 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-972AA49E29D3: applyIndex: 1
2022-12-04 13:25:34,681 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-972AA49E29D3: shutdown
2022-12-04 13:25:34,681 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s2
2022-12-04 13:25:34,682 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-972AA49E29D3-FollowerState
2022-12-04 13:25:34,682 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-972AA49E29D3: shutdown
2022-12-04 13:25:34,682 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-972AA49E29D3,id=s1
2022-12-04 13:25:34,682 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-972AA49E29D3-LeaderStateImpl
2022-12-04 13:25:34,682 [s2@group-972AA49E29D3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-972AA49E29D3-FollowerState was interrupted
2022-12-04 13:25:34,682 [s0@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:34,684 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-972AA49E29D3-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:34,684 [s1@group-972AA49E29D3->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-972AA49E29D3->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:34,686 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#13-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-04 13:25:34,687 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:25:34,685 [s1@group-972AA49E29D3->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-972AA49E29D3->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:34,687 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-972AA49E29D3->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:34,694 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-972AA49E29D3->s2: nextIndex: updateUnconditionally 3 -> 2
2022-12-04 13:25:34,682 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-972AA49E29D3-StateMachineUpdater: set stopIndex = 1
2022-12-04 13:25:34,681 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:34,682 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:34,697 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-972AA49E29D3: applyIndex: 1
2022-12-04 13:25:34,698 [s2@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:34,699 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-972AA49E29D3-SegmentedRaftLogWorker close()
2022-12-04 13:25:34,689 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#14-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-04 13:25:34,700 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-972AA49E29D3->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:34,700 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-972AA49E29D3->s0: nextIndex: updateUnconditionally 3 -> 2
2022-12-04 13:25:34,702 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:34,702 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:34,703 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:34,703 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-972AA49E29D3-SegmentedRaftLogWorker close()
2022-12-04 13:25:34,704 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-972AA49E29D3-StateMachineUpdater: set stopIndex = 2
2022-12-04 13:25:34,705 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-972AA49E29D3: applyIndex: 2
2022-12-04 13:25:34,705 [s1@group-972AA49E29D3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:34,705 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:34,706 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:34,706 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:34,706 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:25:34,708 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:34,708 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:34,708 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:34,708 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:34,708 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:34,708 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-972AA49E29D3-SegmentedRaftLogWorker close()
2022-12-04 13:25:34,708 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:34,709 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:34,709 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:34,709 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:34,709 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:34,709 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:34,710 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:34,711 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:25:34,711 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:34,716 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:34,717 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:25:34,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:34,733 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:34,733 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:34,733 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:34,743 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2022-12-04 13:25:34,984 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2022-12-04 13:25:35,180 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-04 13:25:35,186 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2022-12-04 13:25:35,187 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2022-12-04 13:25:35,243 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-04 13:25:35,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:35,249 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3
2022-12-04 13:25:35,249 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3 does not exist.
2022-12-04 13:25:35,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3
2022-12-04 13:25:35,252 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:35,253 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,253 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38191 (custom)
2022-12-04 13:25:35,254 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,254 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44689 (custom)
2022-12-04 13:25:35,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40417 (custom)
2022-12-04 13:25:35,255 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:35,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:35,255 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:35,370 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:35,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:35,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:35,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,371 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3] (custom)
2022-12-04 13:25:35,376 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] returns group-9D2DEC87B66D:java.util.concurrent.CompletableFuture@4b920001[Not completed]
2022-12-04 13:25:35,376 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:35,376 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4
2022-12-04 13:25:35,377 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4 does not exist.
2022-12-04 13:25:35,377 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4
2022-12-04 13:25:35,377 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37039 (custom)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41413 (custom)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:35,377 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39789 (custom)
2022-12-04 13:25:35,377 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:35,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,378 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:35,378 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:35,378 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:35,378 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:35,378 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:35,380 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:35,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:35,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:35,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4] (custom)
2022-12-04 13:25:35,382 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,382 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,382 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,382 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-9D2DEC87B66D: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:35,383 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:35,384 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:35,392 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:35,392 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:35,392 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:35,392 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:35,392 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:35,392 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] returns group-9D2DEC87B66D:java.util.concurrent.CompletableFuture@3eceb23c[Not completed]
2022-12-04 13:25:35,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:35,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5
2022-12-04 13:25:35,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5 does not exist.
2022-12-04 13:25:35,393 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5
2022-12-04 13:25:35,393 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45821 (custom)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42839 (custom)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:35,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39313 (custom)
2022-12-04 13:25:35,393 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:35,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,394 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:35,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:35,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:35,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:35,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,396 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5] (custom)
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:35,397 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-9D2DEC87B66D: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:35,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:35,405 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:35,405 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:35,405 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:35,405 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:35,405 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:35,406 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] returns group-9D2DEC87B66D:java.util.concurrent.CompletableFuture@4b1ccb65[Not completed]
2022-12-04 13:25:35,406 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:35,406 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:35,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,406 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3] (custom)
2022-12-04 13:25:35,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,407 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d does not exist. Creating ...
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-9D2DEC87B66D:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:35,407 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:35,407 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-9D2DEC87B66D: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:35,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:35,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:35,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:35,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:35,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:35,408 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:35,409 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d/current
2022-12-04 13:25:35,409 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d/sm
2022-12-04 13:25:35,410 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d has been successfully formatted.
2022-12-04 13:25:35,410 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,410 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:35,410 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:35,411 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:35,411 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,411 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:35,411 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-9D2DEC87B66D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,417 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:35,418 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:35,418 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:35,418 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:35,418 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,418 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:35,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:35,419 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:35,419 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,419 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,420 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:35,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:35,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:35,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:35,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:35,424 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-9D2DEC87B66D: start as a follower, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,424 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-9D2DEC87B66D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:35,424 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,425 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s3
2022-12-04 13:25:35,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:35,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:35,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:35,427 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,427 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,427 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-12-04 13:25:35,429 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 44689
2022-12-04 13:25:35,429 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 40417
2022-12-04 13:25:35,430 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 38191
2022-12-04 13:25:35,430 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-12-04 13:25:35,431 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:35,431 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:35,432 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4] (custom)
2022-12-04 13:25:35,432 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d does not exist. Creating ...
2022-12-04 13:25:35,432 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,437 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:35,437 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d/current
2022-12-04 13:25:35,437 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d/sm
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d has been successfully formatted.
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:35,439 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-9D2DEC87B66D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,440 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,441 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-9D2DEC87B66D: start as a follower, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-9D2DEC87B66D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:35,442 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,444 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s4
2022-12-04 13:25:35,444 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:35,444 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:35,444 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:35,445 [s4@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,445 [s4@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,445 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-12-04 13:25:35,446 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 41413
2022-12-04 13:25:35,446 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 39789
2022-12-04 13:25:35,447 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 37039
2022-12-04 13:25:35,448 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-12-04 13:25:35,448 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:35,448 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:35,448 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5] (custom)
2022-12-04 13:25:35,448 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d does not exist. Creating ...
2022-12-04 13:25:35,449 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,450 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:35,450 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d/current
2022-12-04 13:25:35,450 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d/sm
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d has been successfully formatted.
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:35,452 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:35,453 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,453 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-9D2DEC87B66D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:35,454 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,456 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:35,456 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:35,456 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:35,456 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,456 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:35,458 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-9D2DEC87B66D: start as a follower, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,458 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-9D2DEC87B66D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:35,458 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,460 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s5
2022-12-04 13:25:35,460 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:35,460 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:35,461 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:35,461 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,461 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,461 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2022-12-04 13:25:35,465 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 42839
2022-12-04 13:25:35,466 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 39313
2022-12-04 13:25:35,467 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 45821
2022-12-04 13:25:35,467 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2022-12-04 13:25:35,467 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:35,468 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:35,583 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-19C26BD95A07->s3: receive RaftClientReply:client-19C26BD95A07->s3@group-9D2DEC87B66D, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-9D2DEC87B66D is not the leader, logIndex=0, commits[s3:c-1]
2022-12-04 13:25:35,655 [s5@group-9D2DEC87B66D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-9D2DEC87B66D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197411314ns, electionTimeout:194ms
2022-12-04 13:25:35,656 [s5@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,656 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-9D2DEC87B66D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:35,656 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:35,656 [s5@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-9D2DEC87B66D-LeaderElection4
2022-12-04 13:25:35,663 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-9D2DEC87B66D-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,664 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,664 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,664 [s5@group-9D2DEC87B66D-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-04 13:25:35,664 [s5@group-9D2DEC87B66D-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-04 13:25:35,696 [s4@group-9D2DEC87B66D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-9D2DEC87B66D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:253946278ns, electionTimeout:251ms
2022-12-04 13:25:35,696 [s4@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,696 [s4@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-9D2DEC87B66D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:35,697 [s4@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:35,697 [s4@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-9D2DEC87B66D-LeaderElection5
2022-12-04 13:25:35,701 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:35,701 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:35,715 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-9D2DEC87B66D-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,720 [s4@group-9D2DEC87B66D-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2022-12-04 13:25:35,722 [s3@group-9D2DEC87B66D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-9D2DEC87B66D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:298272655ns, electionTimeout:295ms
2022-12-04 13:25:35,722 [s3@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,722 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-9D2DEC87B66D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:35,723 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,723 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,723 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:35,723 [s3@group-9D2DEC87B66D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-9D2DEC87B66D-LeaderElection6
2022-12-04 13:25:35,723 [s4@group-9D2DEC87B66D-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-04 13:25:35,737 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-9D2DEC87B66D-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,739 [s3@group-9D2DEC87B66D-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-04 13:25:35,741 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,741 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,743 [s3@group-9D2DEC87B66D-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-04 13:25:35,784 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s5, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,784 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-9D2DEC87B66D-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-04 13:25:35,784 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-9D2DEC87B66D replies to PRE_VOTE vote request: s5<-s4#0:OK-t0. Peer's state: s4@group-9D2DEC87B66D:t0, leader=null, voted=, raftlog=Memoized:s4@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,791 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-9D2DEC87B66D-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:35,791 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s4#0:OK-t0
2022-12-04 13:25:35,791 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-9D2DEC87B66D-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:35,797 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-9D2DEC87B66D-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,798 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,798 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,826 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s5, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,826 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-9D2DEC87B66D-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2022-12-04 13:25:35,826 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-9D2DEC87B66D replies to PRE_VOTE vote request: s5<-s3#0:OK-t0. Peer's state: s3@group-9D2DEC87B66D:t0, leader=null, voted=, raftlog=Memoized:s3@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,828 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s4, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,829 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-9D2DEC87B66D-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-04 13:25:35,829 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-9D2DEC87B66D replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-9D2DEC87B66D:t0, leader=null, voted=, raftlog=Memoized:s3@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,834 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-9D2DEC87B66D-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:35,834 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t0
2022-12-04 13:25:35,834 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-9D2DEC87B66D-LeaderElection5 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:35,835 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-9D2DEC87B66D-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,844 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,845 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,857 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-9D2DEC87B66D: receive requestVote(ELECTION, s4, group-9D2DEC87B66D, 1, (t:0, i:0))
2022-12-04 13:25:35,857 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-9D2DEC87B66D-CANDIDATE: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-12-04 13:25:35,857 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-9D2DEC87B66D: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s4
2022-12-04 13:25:35,857 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-9D2DEC87B66D-LeaderElection6
2022-12-04 13:25:35,857 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,857 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s3@group-9D2DEC87B66D: receive requestVote(ELECTION, s5, group-9D2DEC87B66D, 1, (t:0, i:0))
2022-12-04 13:25:35,857 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-9D2DEC87B66D: receive requestVote(ELECTION, s5, group-9D2DEC87B66D, 1, (t:0, i:0))
2022-12-04 13:25:35,858 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-9D2DEC87B66D-CANDIDATE: reject ELECTION from s5: already has voted for s4 at current term 1
2022-12-04 13:25:35,858 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-9D2DEC87B66D replies to ELECTION vote request: s5<-s4#0:FAIL-t1. Peer's state: s4@group-9D2DEC87B66D:t1, leader=null, voted=s4, raftlog=Memoized:s4@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,858 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,858 [s3@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,859 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-9D2DEC87B66D replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-9D2DEC87B66D:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,860 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-9D2DEC87B66D-FOLLOWER: reject ELECTION from s5: already has voted for s4 at current term 1
2022-12-04 13:25:35,860 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s3@group-9D2DEC87B66D replies to ELECTION vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-9D2DEC87B66D:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-9D2DEC87B66D-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t1
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-9D2DEC87B66D-LeaderElection5 ELECTION round 0: result PASSED
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-9D2DEC87B66D-LeaderElection5
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-9D2DEC87B66D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-9D2DEC87B66D: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 458ms
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:35,861 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:35,865 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:35,866 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:35,867 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-9D2DEC87B66D-LeaderStateImpl
2022-12-04 13:25:35,868 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-9D2DEC87B66D-LeaderElection4: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:FAIL-t1
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s5<-s4#0:FAIL-t1
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-9D2DEC87B66D-LeaderElection4 ELECTION round 0: result REJECTED
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-9D2DEC87B66D: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-9D2DEC87B66D-LeaderElection4
2022-12-04 13:25:35,877 [s5@group-9D2DEC87B66D-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:35,877 [s4@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s4/d83175ad-af73-46fa-97c3-9d2dec87b66d/current/log_inprogress_0
2022-12-04 13:25:35,878 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s5@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s4, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,881 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s3, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,882 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s5@group-9D2DEC87B66D: receive requestVote(ELECTION, s4, group-9D2DEC87B66D, 1, (t:0, i:0))
2022-12-04 13:25:35,891 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-9D2DEC87B66D-FOLLOWER: reject ELECTION from s4: already has voted for s5 at current term 1
2022-12-04 13:25:35,891 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s5@group-9D2DEC87B66D replies to ELECTION vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-9D2DEC87B66D:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,891 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-9D2DEC87B66D-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-12-04 13:25:35,891 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s5@group-9D2DEC87B66D replies to PRE_VOTE vote request: s4<-s5#0:OK-t1. Peer's state: s5@group-9D2DEC87B66D:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,893 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:35,893 [s5@group-9D2DEC87B66D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:35,893 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-9D2DEC87B66D: change Leader from null to s4 at term 1 for appendEntries, leader elected after 485ms
2022-12-04 13:25:35,894 [s4@group-9D2DEC87B66D-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-9D2DEC87B66D: set configuration 0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,895 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-9D2DEC87B66D-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-12-04 13:25:35,895 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-9D2DEC87B66D replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-9D2DEC87B66D:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,912 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-9D2DEC87B66D: change Leader from null to s4 at term 1 for appendEntries, leader elected after 529ms
2022-12-04 13:25:35,913 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-19C26BD95A07->s4: receive RaftClientReply:client-19C26BD95A07->s4@group-9D2DEC87B66D, cid=2, FAILED org.apache.ratis.protocol.exceptions.LeaderNotReadyException: s4@group-9D2DEC87B66D is in LEADER state but not ready yet., logIndex=0, commits[s4:c-1, s3:c-1, s5:c-1]
2022-12-04 13:25:35,920 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-9D2DEC87B66D: set configuration 0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,921 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:35,924 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-9D2DEC87B66D-LeaderElection6: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-04 13:25:35,924 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:FAIL-t1
2022-12-04 13:25:35,924 [s3@group-9D2DEC87B66D-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-9D2DEC87B66D-LeaderElection6 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-04 13:25:35,930 [s5-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s5@group-9D2DEC87B66D: set configuration 0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,930 [s5-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:35,935 [s3@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s3/d83175ad-af73-46fa-97c3-9d2dec87b66d/current/log_inprogress_0
2022-12-04 13:25:35,937 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s5@group-9D2DEC87B66D: receive requestVote(PRE_VOTE, s3, group-9D2DEC87B66D, 0, (t:0, i:0))
2022-12-04 13:25:35,938 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-9D2DEC87B66D-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s4
2022-12-04 13:25:35,938 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s5@group-9D2DEC87B66D replies to PRE_VOTE vote request: s3<-s5#0:FAIL-t1. Peer's state: s5@group-9D2DEC87B66D:t1, leader=s4, voted=s5, raftlog=Memoized:s5@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:35,941 [s5@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc24b170d6/s5/d83175ad-af73-46fa-97c3-9d2dec87b66d/current/log_inprogress_0
2022-12-04 13:25:36,124 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,124 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,157 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-19C26BD95A07->s5: receive RaftClientReply:client-19C26BD95A07->s5@group-9D2DEC87B66D, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-9D2DEC87B66D is not the leader s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s5:c0, s3:c0, s4:c0]
2022-12-04 13:25:36,164 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,165 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,200 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-19C26BD95A07->s4: receive RaftClientReply:client-19C26BD95A07->s4@group-9D2DEC87B66D, cid=2, SUCCESS, logIndex=0, commits[s4:c0, s3:c0, s5:c0]
2022-12-04 13:25:36,207 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-19C26BD95A07
2022-12-04 13:25:36,210 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-19C26BD95A07
2022-12-04 13:25:36,212 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-19C26BD95A07->s4: receive RaftClientReply:client-19C26BD95A07->s4@group-9D2DEC87B66D, cid=3, SUCCESS, logIndex=1, commits[s4:c1, s3:c0, s5:c0]
2022-12-04 13:25:36,214 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-19C26BD95A07
2022-12-04 13:25:36,219 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:36,219 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,219 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,224 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,224 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,250 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,253 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,262 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,262 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,264 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,264 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,275 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,284 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,287 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,287 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,289 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,296 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,301 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,302 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,305 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,306 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,401 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3E6D52CC5A62->s4: receive RaftClientReply:client-3E6D52CC5A62->s4@group-9D2DEC87B66D, cid=4, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,431 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E768DAB9DF0->s4: receive RaftClientReply:client-6E768DAB9DF0->s4@group-9D2DEC87B66D, cid=6, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,442 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-72303AEE3F08->s4: receive RaftClientReply:client-72303AEE3F08->s4@group-9D2DEC87B66D, cid=8, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,451 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-391AD658DE54->s4: receive RaftClientReply:client-391AD658DE54->s4@group-9D2DEC87B66D, cid=12, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,481 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7D1310460F82->s4: receive RaftClientReply:client-7D1310460F82->s4@group-9D2DEC87B66D, cid=10, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,482 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CE150DDCF38D->s4: receive RaftClientReply:client-CE150DDCF38D->s4@group-9D2DEC87B66D, cid=16, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,494 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5A4A164F0A9D->s4: receive RaftClientReply:client-5A4A164F0A9D->s4@group-9D2DEC87B66D, cid=14, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,500 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1BF36893FAA1->s4: receive RaftClientReply:client-1BF36893FAA1->s4@group-9D2DEC87B66D, cid=20, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,500 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C931746E7CFC->s4: receive RaftClientReply:client-C931746E7CFC->s4@group-9D2DEC87B66D, cid=18, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,516 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-75E1AE5E6407->s4: receive RaftClientReply:client-75E1AE5E6407->s4@group-9D2DEC87B66D, cid=24, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,519 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F0890F7CC77B->s4: receive RaftClientReply:client-F0890F7CC77B->s4@group-9D2DEC87B66D, cid=22, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2022-12-04 13:25:36,553 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-9D2DEC87B66D: Failed to acquire a pending write request for RaftClientRequest:client-75E1AE5E6407->s4@group-9D2DEC87B66D, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-9D2DEC87B66D: Failed to acquire a pending write request for RaftClientRequest:client-75E1AE5E6407->s4@group-9D2DEC87B66D, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:36,619 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:36,621 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3E6D52CC5A62
2022-12-04 13:25:36,623 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-6E768DAB9DF0
2022-12-04 13:25:36,623 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-391AD658DE54
2022-12-04 13:25:36,623 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-72303AEE3F08
2022-12-04 13:25:36,624 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-CE150DDCF38D
2022-12-04 13:25:36,624 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-7D1310460F82
2022-12-04 13:25:36,624 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 21@client-1BF36893FAA1
2022-12-04 13:25:36,624 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3E6D52CC5A62
2022-12-04 13:25:36,625 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-6E768DAB9DF0
2022-12-04 13:25:36,625 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-391AD658DE54
2022-12-04 13:25:36,625 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-72303AEE3F08
2022-12-04 13:25:36,625 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-CE150DDCF38D
2022-12-04 13:25:36,625 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-7D1310460F82
2022-12-04 13:25:36,626 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 21@client-1BF36893FAA1
2022-12-04 13:25:36,626 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-5A4A164F0A9D
2022-12-04 13:25:36,626 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-C931746E7CFC
2022-12-04 13:25:36,626 [s3@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-F0890F7CC77B
2022-12-04 13:25:36,626 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-391AD658DE54->s4: receive RaftClientReply:client-391AD658DE54->s4@group-9D2DEC87B66D, cid=13, SUCCESS, logIndex=5, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,627 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3E6D52CC5A62
2022-12-04 13:25:36,628 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-6E768DAB9DF0
2022-12-04 13:25:36,628 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 3 -> (t:1, i:5), STATEMACHINELOGENTRY, 13@client-391AD658DE54
2022-12-04 13:25:36,628 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 1 -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-72303AEE3F08
2022-12-04 13:25:36,629 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-5A4A164F0A9D
2022-12-04 13:25:36,629 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-C931746E7CFC
2022-12-04 13:25:36,629 [s4@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-F0890F7CC77B
2022-12-04 13:25:36,630 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 17@client-CE150DDCF38D
2022-12-04 13:25:36,630 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 11@client-7D1310460F82
2022-12-04 13:25:36,630 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 21@client-1BF36893FAA1
2022-12-04 13:25:36,631 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 15@client-5A4A164F0A9D
2022-12-04 13:25:36,631 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-C931746E7CFC
2022-12-04 13:25:36,631 [s5@group-9D2DEC87B66D-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-F0890F7CC77B
2022-12-04 13:25:36,631 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-72303AEE3F08->s4: receive RaftClientReply:client-72303AEE3F08->s4@group-9D2DEC87B66D, cid=9, SUCCESS, logIndex=6, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,632 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CE150DDCF38D->s4: receive RaftClientReply:client-CE150DDCF38D->s4@group-9D2DEC87B66D, cid=17, SUCCESS, logIndex=7, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,633 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E768DAB9DF0->s4: receive RaftClientReply:client-6E768DAB9DF0->s4@group-9D2DEC87B66D, cid=7, SUCCESS, logIndex=4, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,633 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5A4A164F0A9D->s4: receive RaftClientReply:client-5A4A164F0A9D->s4@group-9D2DEC87B66D, cid=15, SUCCESS, logIndex=10, commits[s4:c14, s3:c12, s5:c12]
2022-12-04 13:25:36,633 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7D1310460F82->s4: receive RaftClientReply:client-7D1310460F82->s4@group-9D2DEC87B66D, cid=11, SUCCESS, logIndex=8, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,633 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F0890F7CC77B->s4: receive RaftClientReply:client-F0890F7CC77B->s4@group-9D2DEC87B66D, cid=23, SUCCESS, logIndex=12, commits[s4:c14, s3:c12, s5:c12]
2022-12-04 13:25:36,634 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3E6D52CC5A62->s4: receive RaftClientReply:client-3E6D52CC5A62->s4@group-9D2DEC87B66D, cid=5, SUCCESS, logIndex=3, commits[s4:c3, s3:c2, s5:c2]
2022-12-04 13:25:36,634 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1BF36893FAA1->s4: receive RaftClientReply:client-1BF36893FAA1->s4@group-9D2DEC87B66D, cid=21, SUCCESS, logIndex=9, commits[s4:c12, s3:c2, s5:c2]
2022-12-04 13:25:36,634 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C931746E7CFC->s4: receive RaftClientReply:client-C931746E7CFC->s4@group-9D2DEC87B66D, cid=19, SUCCESS, logIndex=11, commits[s4:c14, s3:c12, s5:c12]
2022-12-04 13:25:36,648 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:36,648 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:36,679 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5FD6AF255C88->s4: receive RaftClientReply:client-5FD6AF255C88->s4@group-9D2DEC87B66D, cid=26, SUCCESS, logIndex=14, commits[s4:c14, s3:c12, s5:c12]
2022-12-04 13:25:36,705 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-9D2DEC87B66D: Failed to acquire a pending write request for RaftClientRequest:client-5FD6AF255C88->s4@group-9D2DEC87B66D, cid=27, seq=2, RW, Message:cdac4b7c8cd639330bf5...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-9D2DEC87B66D: Failed to acquire a pending write request for RaftClientRequest:client-5FD6AF255C88->s4@group-9D2DEC87B66D, cid=27, seq=2, RW, Message:cdac4b7c8cd639330bf5...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:36,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:36,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:36,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:36,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:36,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:36,997 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-9D2DEC87B66D:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-9D2DEC87B66D:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-9D2DEC87B66D:t1, leader=s4, voted=s5, raftlog=Memoized:s5@group-9D2DEC87B66D-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:40417|admin:localhost:38191|client:localhost:44689|dataStream:localhost:38323|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:39789|admin:localhost:37039|client:localhost:41413|dataStream:localhost:45031|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:39313|admin:localhost:45821|client:localhost:42839|dataStream:localhost:33019|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:36,998 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-12-04 13:25:36,998 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-12-04 13:25:37,005 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-9D2DEC87B66D: shutdown
2022-12-04 13:25:37,005 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s3
2022-12-04 13:25:37,005 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:37,005 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-9D2DEC87B66D-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:37,005 [s3@group-9D2DEC87B66D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-9D2DEC87B66D-FollowerState was interrupted
2022-12-04 13:25:37,006 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2022-12-04 13:25:37,006 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-9D2DEC87B66D: applyIndex: 14
2022-12-04 13:25:37,006 [s3@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:37,006 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:37,007 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-9D2DEC87B66D: shutdown
2022-12-04 13:25:37,007 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s4
2022-12-04 13:25:37,007 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-9D2DEC87B66D-LeaderStateImpl
2022-12-04 13:25:37,007 [s4@group-9D2DEC87B66D->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-9D2DEC87B66D->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:37,008 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#43-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-12-04 13:25:37,008 [s4@group-9D2DEC87B66D->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-9D2DEC87B66D->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:37,009 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s4->s5#35-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-12-04 13:25:37,009 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-9D2DEC87B66D->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:37,010 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-9D2DEC87B66D->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:37,007 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-9D2DEC87B66D-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:37,010 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-9D2DEC87B66D->s5: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:37,010 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-9D2DEC87B66D->s3: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:37,011 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:37,016 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-9D2DEC87B66D-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:37,016 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-9D2DEC87B66D: applyIndex: 14
2022-12-04 13:25:37,016 [s4@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:37,012 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-04 13:25:37,012 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:37,012 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-9D2DEC87B66D: shutdown
2022-12-04 13:25:37,017 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9D2DEC87B66D,id=s5
2022-12-04 13:25:37,017 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-9D2DEC87B66D-FollowerState
2022-12-04 13:25:37,017 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-9D2DEC87B66D-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:37,017 [s5@group-9D2DEC87B66D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-9D2DEC87B66D-FollowerState was interrupted
2022-12-04 13:25:37,012 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-9D2DEC87B66D-SegmentedRaftLogWorker close()
2022-12-04 13:25:37,017 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s5@group-9D2DEC87B66D: applyIndex: 14
2022-12-04 13:25:37,017 [s5@group-9D2DEC87B66D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:37,019 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-04 13:25:37,019 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-9D2DEC87B66D-SegmentedRaftLogWorker close()
2022-12-04 13:25:37,019 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-9D2DEC87B66D-SegmentedRaftLogWorker close()
2022-12-04 13:25:37,021 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:37,021 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:37,028 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-04 13:25:37,028 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:37,028 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2022-12-04 13:25:37,028 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:37,029 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:37,029 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-04 13:25:37,030 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:37,030 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:37,030 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-12-04 13:25:37,031 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:37,031 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:37,031 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:37,032 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2022-12-04 13:25:37,032 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-04 13:25:37,032 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:37,032 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:37,033 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:37,033 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:37,033 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:37,033 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-12-04 13:25:37,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:37,034 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:37,034 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:37,034 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:37,035 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:37,036 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:37,036 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0
2022-12-04 13:25:37,037 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0 does not exist.
2022-12-04 13:25:37,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0
2022-12-04 13:25:37,037 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:37,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39603 (custom)
2022-12-04 13:25:37,037 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,044 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42771 (custom)
2022-12-04 13:25:37,044 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40825 (custom)
2022-12-04 13:25:37,045 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:37,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:37,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:37,046 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:37,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:37,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:37,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0] (custom)
2022-12-04 13:25:37,047 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] returns group-66940FDF3591:java.util.concurrent.CompletableFuture@30259d0b[Not completed]
2022-12-04 13:25:37,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:37,048 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1
2022-12-04 13:25:37,048 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1 does not exist.
2022-12-04 13:25:37,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1
2022-12-04 13:25:37,048 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:37,048 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43163 (custom)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33013 (custom)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40927 (custom)
2022-12-04 13:25:37,049 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:37,049 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1] (custom)
2022-12-04 13:25:37,052 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,052 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,052 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,053 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-66940FDF3591: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:37,054 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:37,057 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] returns group-66940FDF3591:java.util.concurrent.CompletableFuture@4c5b7301[Not completed]
2022-12-04 13:25:37,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:37,057 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2
2022-12-04 13:25:37,057 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2 does not exist.
2022-12-04 13:25:37,057 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2
2022-12-04 13:25:37,057 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:37,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36641 (custom)
2022-12-04 13:25:37,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:37,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42623 (custom)
2022-12-04 13:25:37,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46585 (custom)
2022-12-04 13:25:37,058 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:37,058 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:37,058 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:37,058 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:37,059 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:37,059 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:37,059 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:37,060 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:37,059 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,059 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:37,060 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:37,060 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:37,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2] (custom)
2022-12-04 13:25:37,065 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,065 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:37,065 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:37,065 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-66940FDF3591: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:37,066 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:37,067 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:37,068 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:37,069 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:37,069 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:37,069 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:37,069 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:37,071 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] returns group-66940FDF3591:java.util.concurrent.CompletableFuture@408bbe71[Not completed]
2022-12-04 13:25:37,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:37,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:37,071 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0] (custom)
2022-12-04 13:25:37,071 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591 does not exist. Creating ...
2022-12-04 13:25:37,072 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,072 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,072 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-66940FDF3591:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:37,073 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:37,073 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:37,073 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591/current
2022-12-04 13:25:37,074 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591/sm
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591 has been successfully formatted.
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:37,076 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:37,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:37,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:37,077 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-66940FDF3591-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:37,079 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:37,080 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:37,080 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:37,080 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,080 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,081 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:37,081 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:37,082 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:37,082 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-66940FDF3591-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,082 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-66940FDF3591-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,082 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:37,083 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-66940FDF3591: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:37,083 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:37,083 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:37,083 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:37,083 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:37,084 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:37,087 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:37,088 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:37,088 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:37,088 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-66940FDF3591: start as a follower, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,088 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-66940FDF3591: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:37,088 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:37,088 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,088 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:37,089 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,089 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s0
2022-12-04 13:25:37,089 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:37,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:37,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:37,089 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:37,090 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42771
2022-12-04 13:25:37,092 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40825
2022-12-04 13:25:37,093 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39603
2022-12-04 13:25:37,093 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:37,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:37,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:37,094 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1] (custom)
2022-12-04 13:25:37,094 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591 does not exist. Creating ...
2022-12-04 13:25:37,094 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,096 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:37,096 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591/current
2022-12-04 13:25:37,096 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591/sm
2022-12-04 13:25:37,097 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591 has been successfully formatted.
2022-12-04 13:25:37,097 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,097 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-66940FDF3591-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,099 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-66940FDF3591-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-66940FDF3591-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-66940FDF3591: start as a follower, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-66940FDF3591: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:37,101 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,104 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s1
2022-12-04 13:25:37,104 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:37,104 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:37,105 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:37,105 [s1@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,105 [s1@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,105 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:25:37,106 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33013
2022-12-04 13:25:37,106 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40927
2022-12-04 13:25:37,107 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43163
2022-12-04 13:25:37,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:37,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:37,107 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2] (custom)
2022-12-04 13:25:37,107 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591 does not exist. Creating ...
2022-12-04 13:25:37,108 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,108 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:25:37,109 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:37,109 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591/current
2022-12-04 13:25:37,109 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591/sm
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591 has been successfully formatted.
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,110 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:37,111 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-66940FDF3591-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:37,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:37,113 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-66940FDF3591-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-66940FDF3591-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-66940FDF3591: start as a follower, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-66940FDF3591: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:37,114 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,115 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s2
2022-12-04 13:25:37,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:37,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:37,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:37,115 [s2@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,115 [s2@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,116 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:25:37,117 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42623
2022-12-04 13:25:37,117 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46585
2022-12-04 13:25:37,118 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36641
2022-12-04 13:25:37,118 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:25:37,123 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,123 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,139 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-751460F24B19->s0: receive RaftClientReply:client-751460F24B19->s0@group-66940FDF3591, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-66940FDF3591 is not the leader, logIndex=0, commits[s0:c-1]
2022-12-04 13:25:37,244 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,244 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,262 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-751460F24B19->s1: receive RaftClientReply:client-751460F24B19->s1@group-66940FDF3591, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-66940FDF3591 is not the leader, logIndex=0, commits[s1:c-1]
2022-12-04 13:25:37,269 [s1@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-66940FDF3591-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167685360ns, electionTimeout:164ms
2022-12-04 13:25:37,269 [s1@group-66940FDF3591-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,269 [s1@group-66940FDF3591-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-66940FDF3591: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:37,270 [s1@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:37,270 [s1@group-66940FDF3591-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-66940FDF3591-LeaderElection7
2022-12-04 13:25:37,273 [s0@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-66940FDF3591-FollowerState: change to CANDIDATE, lastRpcElapsedTime:184494317ns, electionTimeout:183ms
2022-12-04 13:25:37,273 [s0@group-66940FDF3591-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,273 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-66940FDF3591: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:37,273 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:37,273 [s0@group-66940FDF3591-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-66940FDF3591-LeaderElection8
2022-12-04 13:25:37,277 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-66940FDF3591-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,280 [s1@group-66940FDF3591-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:37,284 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,287 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,287 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-66940FDF3591-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,287 [s1@group-66940FDF3591-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:37,293 [s0@group-66940FDF3591-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:25:37,296 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-66940FDF3591: receive requestVote(PRE_VOTE, s1, group-66940FDF3591, 0, (t:0, i:0))
2022-12-04 13:25:37,297 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-66940FDF3591-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,297 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-66940FDF3591 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-66940FDF3591:t0, leader=null, voted=, raftlog=Memoized:s2@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,298 [s0@group-66940FDF3591-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,299 [s0@group-66940FDF3591-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,301 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-66940FDF3591-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:37,301 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-12-04 13:25:37,301 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-66940FDF3591-LeaderElection7 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:37,301 [s0@group-66940FDF3591-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:37,302 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-66940FDF3591-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,303 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-66940FDF3591: receive requestVote(PRE_VOTE, s0, group-66940FDF3591, 0, (t:0, i:0))
2022-12-04 13:25:37,304 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-66940FDF3591-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,304 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-66940FDF3591 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-66940FDF3591:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,305 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-66940FDF3591: receive requestVote(PRE_VOTE, s1, group-66940FDF3591, 0, (t:0, i:0))
2022-12-04 13:25:37,305 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-66940FDF3591-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,305 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-66940FDF3591 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-66940FDF3591:t0, leader=null, voted=, raftlog=Memoized:s0@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,306 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,306 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,310 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-66940FDF3591-LeaderElection8: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-12-04 13:25:37,311 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-12-04 13:25:37,311 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-66940FDF3591-LeaderElection8 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-12-04 13:25:37,311 [s0@group-66940FDF3591-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-66940FDF3591: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-12-04 13:25:37,311 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-66940FDF3591-LeaderElection8
2022-12-04 13:25:37,311 [s0@group-66940FDF3591-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,311 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-66940FDF3591: receive requestVote(ELECTION, s1, group-66940FDF3591, 1, (t:0, i:0))
2022-12-04 13:25:37,313 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,314 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,314 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-66940FDF3591-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,314 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-66940FDF3591: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:37,314 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,315 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,315 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-66940FDF3591: receive requestVote(PRE_VOTE, s0, group-66940FDF3591, 0, (t:0, i:0))
2022-12-04 13:25:37,315 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-66940FDF3591: receive requestVote(ELECTION, s1, group-66940FDF3591, 1, (t:0, i:0))
2022-12-04 13:25:37,315 [s0@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-66940FDF3591-FollowerState was interrupted
2022-12-04 13:25:37,316 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,316 [s0@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,317 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-66940FDF3591-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,317 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-66940FDF3591 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-66940FDF3591:t0, leader=null, voted=, raftlog=Memoized:s2@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,317 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-66940FDF3591-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:37,317 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-66940FDF3591: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:37,317 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,317 [s2@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-66940FDF3591-FollowerState was interrupted
2022-12-04 13:25:37,318 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-66940FDF3591-FollowerState
2022-12-04 13:25:37,318 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-66940FDF3591 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-66940FDF3591:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-66940FDF3591-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-66940FDF3591-LeaderElection7 ELECTION round 0: result PASSED
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-66940FDF3591-LeaderElection7
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-66940FDF3591: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-66940FDF3591: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 253ms
2022-12-04 13:25:37,319 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:37,320 [s1@group-66940FDF3591-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:37,321 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:37,322 [s1@group-66940FDF3591-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-66940FDF3591-LeaderStateImpl
2022-12-04 13:25:37,322 [s1@group-66940FDF3591-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-66940FDF3591-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:37,325 [s2@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:37,325 [s2@group-66940FDF3591-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:37,326 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-66940FDF3591 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-66940FDF3591:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-66940FDF3591-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,328 [s1@group-66940FDF3591-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-66940FDF3591: set configuration 0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,330 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-66940FDF3591: change Leader from null to s1 at term 1 for appendEntries, leader elected after 276ms
2022-12-04 13:25:37,331 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-66940FDF3591: change Leader from null to s1 at term 1 for appendEntries, leader elected after 247ms
2022-12-04 13:25:37,333 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-66940FDF3591: set configuration 0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,333 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-66940FDF3591-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:37,338 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-66940FDF3591: set configuration 0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:37,338 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-66940FDF3591-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:37,342 [s1@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-66940FDF3591-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s1/18925a23-a5c8-421e-8a0a-66940fdf3591/current/log_inprogress_0
2022-12-04 13:25:37,348 [s0@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-66940FDF3591-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s0/18925a23-a5c8-421e-8a0a-66940fdf3591/current/log_inprogress_0
2022-12-04 13:25:37,349 [s2@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-66940FDF3591-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcaf975de5/s2/18925a23-a5c8-421e-8a0a-66940fdf3591/current/log_inprogress_0
2022-12-04 13:25:37,366 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,366 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,373 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-751460F24B19->s0: receive RaftClientReply:client-751460F24B19->s0@group-66940FDF3591, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-66940FDF3591 is not the leader s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2022-12-04 13:25:37,376 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,376 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,382 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-751460F24B19->s1: receive RaftClientReply:client-751460F24B19->s1@group-66940FDF3591, cid=28, SUCCESS, logIndex=0, commits[s1:c0, s0:c-1, s2:c-1]
2022-12-04 13:25:37,388 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-751460F24B19
2022-12-04 13:25:37,391 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-751460F24B19->s1: receive RaftClientReply:client-751460F24B19->s1@group-66940FDF3591, cid=29, SUCCESS, logIndex=1, commits[s1:c1, s0:c-1, s2:c0]
2022-12-04 13:25:37,392 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-751460F24B19
2022-12-04 13:25:37,398 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:37,398 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-751460F24B19
2022-12-04 13:25:37,398 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,398 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,400 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,401 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,408 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-39953FF95699->s1: receive RaftClientReply:client-39953FF95699->s1@group-66940FDF3591, cid=30, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2022-12-04 13:25:37,410 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,410 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,412 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,420 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,423 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E5E74304412->s1: receive RaftClientReply:client-6E5E74304412->s1@group-66940FDF3591, cid=34, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c2]
2022-12-04 13:25:37,425 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CB7373C5E192->s1: receive RaftClientReply:client-CB7373C5E192->s1@group-66940FDF3591, cid=32, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c2]
2022-12-04 13:25:37,426 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,426 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,433 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,435 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,440 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B00DB3F0455B->s1: receive RaftClientReply:client-B00DB3F0455B->s1@group-66940FDF3591, cid=36, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,442 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,444 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,453 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-963A96929B00->s1: receive RaftClientReply:client-963A96929B00->s1@group-66940FDF3591, cid=38, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,458 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1C9F67F36253->s1: receive RaftClientReply:client-1C9F67F36253->s1@group-66940FDF3591, cid=40, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,468 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,469 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2D4D167B948B->s1: receive RaftClientReply:client-2D4D167B948B->s1@group-66940FDF3591, cid=42, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,471 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,478 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,478 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,484 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DA8D72CBD35E->s1: receive RaftClientReply:client-DA8D72CBD35E->s1@group-66940FDF3591, cid=44, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,491 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,491 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,493 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B8FC4C0E0376->s1: receive RaftClientReply:client-B8FC4C0E0376->s1@group-66940FDF3591, cid=46, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,498 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,498 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,503 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0032145E08A9->s1: receive RaftClientReply:client-0032145E08A9->s1@group-66940FDF3591, cid=48, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,512 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BB408B8DB5AE->s1: receive RaftClientReply:client-BB408B8DB5AE->s1@group-66940FDF3591, cid=50, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:37,518 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-66940FDF3591: Failed to acquire a pending write request for RaftClientRequest:client-BB408B8DB5AE->s1@group-66940FDF3591, cid=51, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-66940FDF3591: Failed to acquire a pending write request for RaftClientRequest:client-BB408B8DB5AE->s1@group-66940FDF3591, cid=51, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:37,811 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:37,812 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-39953FF95699
2022-12-04 13:25:37,814 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-39953FF95699->s1: receive RaftClientReply:client-39953FF95699->s1@group-66940FDF3591, cid=31, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-12-04 13:25:37,814 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-6E5E74304412
2022-12-04 13:25:37,814 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-CB7373C5E192
2022-12-04 13:25:37,814 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-B00DB3F0455B
2022-12-04 13:25:37,815 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-963A96929B00
2022-12-04 13:25:37,815 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-1C9F67F36253
2022-12-04 13:25:37,815 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 43@client-2D4D167B948B
2022-12-04 13:25:37,815 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-DA8D72CBD35E
2022-12-04 13:25:37,815 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-B8FC4C0E0376
2022-12-04 13:25:37,816 [s1@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-0032145E08A9
2022-12-04 13:25:37,817 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-39953FF95699
2022-12-04 13:25:37,817 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-6E5E74304412
2022-12-04 13:25:37,817 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-CB7373C5E192
2022-12-04 13:25:37,817 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-B00DB3F0455B
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-963A96929B00
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-1C9F67F36253
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 43@client-2D4D167B948B
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-DA8D72CBD35E
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-B8FC4C0E0376
2022-12-04 13:25:37,818 [s2@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-0032145E08A9
2022-12-04 13:25:37,819 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-39953FF95699
2022-12-04 13:25:37,820 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CB7373C5E192->s1: receive RaftClientReply:client-CB7373C5E192->s1@group-66940FDF3591, cid=33, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,820 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B8FC4C0E0376->s1: receive RaftClientReply:client-B8FC4C0E0376->s1@group-66940FDF3591, cid=47, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,820 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2D4D167B948B->s1: receive RaftClientReply:client-2D4D167B948B->s1@group-66940FDF3591, cid=43, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,821 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-963A96929B00->s1: receive RaftClientReply:client-963A96929B00->s1@group-66940FDF3591, cid=39, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,821 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E5E74304412->s1: receive RaftClientReply:client-6E5E74304412->s1@group-66940FDF3591, cid=35, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,822 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 35@client-6E5E74304412
2022-12-04 13:25:37,822 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 33@client-CB7373C5E192
2022-12-04 13:25:37,822 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 37@client-B00DB3F0455B
2022-12-04 13:25:37,822 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 39@client-963A96929B00
2022-12-04 13:25:37,822 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-1C9F67F36253
2022-12-04 13:25:37,823 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 43@client-2D4D167B948B
2022-12-04 13:25:37,823 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-DA8D72CBD35E
2022-12-04 13:25:37,823 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-B8FC4C0E0376
2022-12-04 13:25:37,823 [s0@group-66940FDF3591-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-0032145E08A9
2022-12-04 13:25:37,824 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B00DB3F0455B->s1: receive RaftClientReply:client-B00DB3F0455B->s1@group-66940FDF3591, cid=37, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,825 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DA8D72CBD35E->s1: receive RaftClientReply:client-DA8D72CBD35E->s1@group-66940FDF3591, cid=45, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,825 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0032145E08A9->s1: receive RaftClientReply:client-0032145E08A9->s1@group-66940FDF3591, cid=49, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,828 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1C9F67F36253->s1: receive RaftClientReply:client-1C9F67F36253->s1@group-66940FDF3591, cid=41, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:37,832 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:37,832 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:37,840 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-21CC7C1A83EB->s1: receive RaftClientReply:client-21CC7C1A83EB->s1@group-66940FDF3591, cid=52, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2022-12-04 13:25:37,852 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-66940FDF3591: Failed to acquire a pending write request for RaftClientRequest:client-21CC7C1A83EB->s1@group-66940FDF3591, cid=53, seq=2, RW, Message:8ad255ec0ea7ee74972d...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-66940FDF3591: Failed to acquire a pending write request for RaftClientRequest:client-21CC7C1A83EB->s1@group-66940FDF3591, cid=53, seq=2, RW, Message:8ad255ec0ea7ee74972d...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-66940FDF3591:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-66940FDF3591-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-66940FDF3591:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-66940FDF3591-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-66940FDF3591:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-66940FDF3591-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:40825|admin:localhost:39603|client:localhost:42771|dataStream:localhost:33545|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40927|admin:localhost:43163|client:localhost:33013|dataStream:localhost:41873|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46585|admin:localhost:36641|client:localhost:42623|dataStream:localhost:46413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:38,166 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:38,166 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:25:38,172 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:38,172 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-66940FDF3591: shutdown
2022-12-04 13:25:38,172 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s0
2022-12-04 13:25:38,172 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-66940FDF3591-FollowerState
2022-12-04 13:25:38,172 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-66940FDF3591-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:38,172 [s0@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-66940FDF3591-FollowerState was interrupted
2022-12-04 13:25:38,172 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-66940FDF3591: applyIndex: 14
2022-12-04 13:25:38,172 [s0@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-66940FDF3591-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:38,174 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-66940FDF3591: shutdown
2022-12-04 13:25:38,174 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s1
2022-12-04 13:25:38,174 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-66940FDF3591-LeaderStateImpl
2022-12-04 13:25:38,175 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:25:38,175 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:25:38,175 [s1@group-66940FDF3591->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-66940FDF3591->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:38,176 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-66940FDF3591: shutdown
2022-12-04 13:25:38,176 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66940FDF3591,id=s2
2022-12-04 13:25:38,176 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-66940FDF3591-FollowerState
2022-12-04 13:25:38,176 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-66940FDF3591-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:38,176 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#26-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-12-04 13:25:38,175 [s1@group-66940FDF3591->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-66940FDF3591->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:38,176 [s2@group-66940FDF3591-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-66940FDF3591-FollowerState was interrupted
2022-12-04 13:25:38,177 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-66940FDF3591: applyIndex: 14
2022-12-04 13:25:38,177 [s2@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-66940FDF3591-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:38,175 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-66940FDF3591-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:38,175 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:38,178 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#28-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-04 13:25:38,179 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-66940FDF3591->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:38,179 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-66940FDF3591->s2: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:38,179 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-66940FDF3591->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:38,179 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-66940FDF3591->s0: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:38,179 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-66940FDF3591-SegmentedRaftLogWorker close()
2022-12-04 13:25:38,179 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:38,179 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:38,184 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:38,183 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-66940FDF3591-SegmentedRaftLogWorker close()
2022-12-04 13:25:38,183 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:38,185 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:38,186 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-66940FDF3591-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:38,187 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-66940FDF3591: applyIndex: 14
2022-12-04 13:25:38,187 [s1@group-66940FDF3591-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-66940FDF3591-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:38,189 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:38,189 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:38,190 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:38,190 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:38,191 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-66940FDF3591-SegmentedRaftLogWorker close()
2022-12-04 13:25:38,191 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:38,192 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:38,192 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:38,193 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:38,193 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:38,193 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:38,193 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:38,194 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:25:38,194 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:38,194 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:38,194 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:38,195 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:38,195 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:25:38,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:38,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:38,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:38,196 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:38,197 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-F03A968F7EDB:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-F03A968F7EDB:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:38,198 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0
2022-12-04 13:25:38,198 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0 does not exist.
2022-12-04 13:25:38,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0
2022-12-04 13:25:38,199 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38463 (custom)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44991 (custom)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38881 (custom)
2022-12-04 13:25:38,199 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:38,199 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:38,200 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:38,200 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:38,201 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0] (custom)
2022-12-04 13:25:38,202 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-F03A968F7EDB:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER] returns group-F03A968F7EDB:java.util.concurrent.CompletableFuture@66a5dbe5[Not completed]
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-F03A968F7EDB:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:38,203 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F03A968F7EDB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:38,204 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:38,209 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:38,209 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:38,209 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:38,209 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:38,209 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:38,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:38,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:38,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0] (custom)
2022-12-04 13:25:38,209 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb does not exist. Creating ...
2022-12-04 13:25:38,210 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb
2022-12-04 13:25:38,211 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:38,211 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb/current
2022-12-04 13:25:38,211 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb/sm
2022-12-04 13:25:38,212 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb has been successfully formatted.
2022-12-04 13:25:38,212 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:38,212 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:38,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-F03A968F7EDB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,215 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:38,215 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:38,215 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:38,216 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:38,216 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:38,220 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-F03A968F7EDB: start as a follower, conf=-1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,220 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F03A968F7EDB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:38,220 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F03A968F7EDB-FollowerState
2022-12-04 13:25:38,224 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F03A968F7EDB,id=s0
2022-12-04 13:25:38,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:38,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:38,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:38,226 [s0@group-F03A968F7EDB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:38,226 [s0@group-F03A968F7EDB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:38,227 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:38,228 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44991
2022-12-04 13:25:38,228 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38881
2022-12-04 13:25:38,229 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38463
2022-12-04 13:25:38,230 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:38,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:38,231 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F03A968F7EDB:t0, leader=null, voted=, raftlog=Memoized:s0@group-F03A968F7EDB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:38,231 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F03A968F7EDB:t0, leader=null, voted=, raftlog=Memoized:s0@group-F03A968F7EDB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F03A968F7EDB:t0, leader=null, voted=, raftlog=Memoized:s0@group-F03A968F7EDB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:38,484 [s0@group-F03A968F7EDB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F03A968F7EDB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263491424ns, electionTimeout:258ms
2022-12-04 13:25:38,484 [s0@group-F03A968F7EDB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F03A968F7EDB-FollowerState
2022-12-04 13:25:38,484 [s0@group-F03A968F7EDB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F03A968F7EDB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:38,485 [s0@group-F03A968F7EDB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:38,485 [s0@group-F03A968F7EDB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F03A968F7EDB-LeaderElection9
2022-12-04 13:25:38,486 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-F03A968F7EDB-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,486 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-F03A968F7EDB-LeaderElection9 PRE_VOTE round 0: result PASSED (term=0)
2022-12-04 13:25:38,488 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-F03A968F7EDB-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,488 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-F03A968F7EDB-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2022-12-04 13:25:38,488 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F03A968F7EDB-LeaderElection9
2022-12-04 13:25:38,488 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F03A968F7EDB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-F03A968F7EDB: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 284ms
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:38,489 [s0@group-F03A968F7EDB-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F03A968F7EDB-LeaderStateImpl
2022-12-04 13:25:38,490 [s0@group-F03A968F7EDB-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:38,494 [s0@group-F03A968F7EDB-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-F03A968F7EDB: set configuration 0: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,500 [s0@group-F03A968F7EDB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccf622a3c/s0/5cfad6ee-75db-4678-a9fd-f03a968f7edb/current/log_inprogress_0
2022-12-04 13:25:38,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F03A968F7EDB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F03A968F7EDB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38463 (custom)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44991 (custom)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38881 (custom)
2022-12-04 13:25:38,682 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:38,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:38,684 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-12-04 13:25:38,684 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:38,685 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-12-04 13:25:38,685 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:38,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F03A968F7EDB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F03A968F7EDB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38881|admin:localhost:38463|client:localhost:44991|dataStream:localhost:33251|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:38,686 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:38,687 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:38,687 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-F03A968F7EDB: shutdown
2022-12-04 13:25:38,687 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F03A968F7EDB,id=s0
2022-12-04 13:25:38,687 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F03A968F7EDB-LeaderStateImpl
2022-12-04 13:25:38,687 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F03A968F7EDB-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:38,687 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-F03A968F7EDB-StateMachineUpdater: set stopIndex = 0
2022-12-04 13:25:38,688 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-F03A968F7EDB: applyIndex: 0
2022-12-04 13:25:38,688 [s0@group-F03A968F7EDB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:38,688 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:38,688 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:38,689 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:38,689 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:38,689 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-F03A968F7EDB-SegmentedRaftLogWorker close()
2022-12-04 13:25:38,689 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:38,690 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:38,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:38,690 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:38,690 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:38,690 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:38,691 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:38,692 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0
2022-12-04 13:25:38,692 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0 does not exist.
2022-12-04 13:25:38,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0
2022-12-04 13:25:38,693 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35729 (custom)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39895 (custom)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:38,693 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45423 (custom)
2022-12-04 13:25:38,693 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:38,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,694 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:38,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:38,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:38,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:38,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:38,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0] (custom)
2022-12-04 13:25:38,697 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] returns group-43D4768029E8:java.util.concurrent.CompletableFuture@28757dd2[Not completed]
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:38,698 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:38,699 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:38,699 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-43D4768029E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:38,700 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:38,701 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:38,702 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:38,702 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:38,702 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:38,702 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:38,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:38,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:38,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0] (custom)
2022-12-04 13:25:38,702 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8 does not exist. Creating ...
2022-12-04 13:25:38,702 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
2022-12-04 13:25:38,704 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:38,704 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/current
2022-12-04 13:25:38,704 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/sm
2022-12-04 13:25:38,705 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8 has been successfully formatted.
2022-12-04 13:25:38,705 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:38,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-43D4768029E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:38,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:38,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:38,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:38,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:38,732 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43D4768029E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:38,732 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43D4768029E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:38,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-43D4768029E8: start as a follower, conf=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,734 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-43D4768029E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:38,734 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-43D4768029E8-FollowerState
2022-12-04 13:25:38,734 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D4768029E8,id=s0
2022-12-04 13:25:38,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:38,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:38,735 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:38,744 [s0@group-43D4768029E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:38,744 [s0@group-43D4768029E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:38,745 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:38,745 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39895
2022-12-04 13:25:38,747 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45423
2022-12-04 13:25:38,748 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35729
2022-12-04 13:25:38,748 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:38,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:38,749 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D4768029E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D4768029E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:38,749 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D4768029E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D4768029E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43D4768029E8:t0, leader=null, voted=, raftlog=Memoized:s0@group-43D4768029E8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:38,989 [s0@group-43D4768029E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-43D4768029E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:255014295ns, electionTimeout:244ms
2022-12-04 13:25:38,989 [s0@group-43D4768029E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-43D4768029E8-FollowerState
2022-12-04 13:25:38,989 [s0@group-43D4768029E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-43D4768029E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:38,989 [s0@group-43D4768029E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:38,989 [s0@group-43D4768029E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-43D4768029E8-LeaderElection10
2022-12-04 13:25:38,993 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-43D4768029E8-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,993 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-43D4768029E8-LeaderElection10 PRE_VOTE round 0: result PASSED (term=0)
2022-12-04 13:25:38,995 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-43D4768029E8-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-43D4768029E8-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-43D4768029E8-LeaderElection10
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-43D4768029E8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-43D4768029E8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 295ms
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:38,996 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:38,997 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:38,997 [s0@group-43D4768029E8-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-43D4768029E8-LeaderStateImpl
2022-12-04 13:25:38,997 [s0@group-43D4768029E8-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-43D4768029E8-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:39,001 [s0@group-43D4768029E8-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-43D4768029E8: set configuration 0: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:39,011 [s0@group-43D4768029E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-43D4768029E8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/current/log_inprogress_0
2022-12-04 13:25:39,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-43D4768029E8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-43D4768029E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:39,202 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:39,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:39,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35729 (custom)
2022-12-04 13:25:39,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39895 (custom)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45423 (custom)
2022-12-04 13:25:39,203 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:39,203 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:39,204 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:39,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:39,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:39,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:39,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:39,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0] (custom)
2022-12-04 13:25:39,205 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
2022-12-04 13:25:39,205 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] returns group-43D4768029E8:java.util.concurrent.CompletableFuture@50461089[Not completed]
2022-12-04 13:25:39,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:39,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:39,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:39,206 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-43D4768029E8
2022-12-04 13:25:39,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:39,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:39,207 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:39,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-12-04 13:25:39,207 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:39,207 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:39,207 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35729 (custom)
2022-12-04 13:25:39,207 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:39,207 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39895 (custom)
2022-12-04 13:25:39,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45423 (custom)
2022-12-04 13:25:39,208 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:39,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:39,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:39,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0] (custom)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-43D4768029E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:39,210 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:39,211 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:39,211 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:39,211 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:39,211 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:39,211 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
2022-12-04 13:25:39,211 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] returns group-43D4768029E8:java.util.concurrent.CompletableFuture@5b139341[Not completed]
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-43D4768029E8:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-43D4768029E8
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-43D4768029E8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:39,212 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:39,213 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:39,213 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:39,213 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:39,213 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:39,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:39,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:39,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0] (custom)
2022-12-04 13:25:39,214 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:39,214 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:40,215 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:40,215 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:41,216 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:41,216 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:42,218 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:42,218 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:43,219 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:43,219 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpccedbd199/s0/9781df63-4643-4c14-9d26-43d4768029e8. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35729 (custom)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39895 (custom)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45423 (custom)
2022-12-04 13:25:43,221 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:43,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:43,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-43D4768029E8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-43D4768029E8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45423|admin:localhost:35729|client:localhost:39895|dataStream:localhost:37693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,223 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-43D4768029E8: shutdown
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43D4768029E8,id=s0
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-43D4768029E8-LeaderStateImpl
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-43D4768029E8-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-43D4768029E8-StateMachineUpdater: set stopIndex = 0
2022-12-04 13:25:43,225 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-43D4768029E8: applyIndex: 0
2022-12-04 13:25:43,226 [s0@group-43D4768029E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-43D4768029E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:43,226 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-43D4768029E8-SegmentedRaftLogWorker close()
2022-12-04 13:25:43,228 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:43,228 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:43,229 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:43,229 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:43,230 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:43,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:43,232 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:43,232 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0
2022-12-04 13:25:43,233 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0 does not exist.
2022-12-04 13:25:43,233 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0
2022-12-04 13:25:43,234 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:43,234 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43381 (custom)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39475 (custom)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33747 (custom)
2022-12-04 13:25:43,235 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:43,235 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:43,237 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:43,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:43,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:43,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0] (custom)
2022-12-04 13:25:43,238 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] returns group-8A5A5907808B:java.util.concurrent.CompletableFuture@7904d8fa[Not completed]
2022-12-04 13:25:43,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:43,239 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1
2022-12-04 13:25:43,239 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1 does not exist.
2022-12-04 13:25:43,239 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1
2022-12-04 13:25:43,239 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36167 (custom)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44749 (custom)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:43,239 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38939 (custom)
2022-12-04 13:25:43,243 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,243 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,243 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,244 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:43,244 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1] (custom)
2022-12-04 13:25:43,239 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,245 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,245 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,245 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,245 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8A5A5907808B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:43,246 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:43,247 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:43,247 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:43,248 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:43,248 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:43,248 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:43,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] returns group-8A5A5907808B:java.util.concurrent.CompletableFuture@4637f481[Not completed]
2022-12-04 13:25:43,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:43,249 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,249 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,250 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2 does not exist.
2022-12-04 13:25:43,250 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:43,250 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-8A5A5907808B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:43,250 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:43,250 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45805 (custom)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:43,250 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:43,251 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:43,250 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:43,251 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45435 (custom)
2022-12-04 13:25:43,251 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:43,251 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36703 (custom)
2022-12-04 13:25:43,251 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,251 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,252 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,252 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:43,252 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:43,252 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:43,252 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:43,252 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:43,252 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:43,252 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:43,253 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:43,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:43,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:43,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,254 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,254 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2] (custom)
2022-12-04 13:25:43,255 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] returns group-8A5A5907808B:java.util.concurrent.CompletableFuture@1d655a2f[Not completed]
2022-12-04 13:25:43,255 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:43,255 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,256 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0] (custom)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-8A5A5907808B:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,256 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b does not exist. Creating ...
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-8A5A5907808B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:43,256 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:43,256 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:43,258 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:43,258 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current
2022-12-04 13:25:43,258 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/sm
2022-12-04 13:25:43,258 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:43,258 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:43,258 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:43,258 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:43,258 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:43,260 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b has been successfully formatted.
2022-12-04 13:25:43,260 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,260 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:43,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:43,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-8A5A5907808B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,261 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,262 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,263 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:43,263 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:43,263 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:43,263 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,263 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,267 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-8A5A5907808B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,267 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8A5A5907808B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:43,267 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,268 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,268 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,268 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s0
2022-12-04 13:25:43,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:43,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:43,268 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:43,268 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:43,269 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39475
2022-12-04 13:25:43,269 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33747
2022-12-04 13:25:43,270 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43381
2022-12-04 13:25:43,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:43,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:43,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1] (custom)
2022-12-04 13:25:43,271 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b does not exist. Creating ...
2022-12-04 13:25:43,271 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,272 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:43,272 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:43,273 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current
2022-12-04 13:25:43,273 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/sm
2022-12-04 13:25:43,274 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b has been successfully formatted.
2022-12-04 13:25:43,274 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,274 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:43,274 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:43,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-8A5A5907808B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-8A5A5907808B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8A5A5907808B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:43,277 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,278 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s1
2022-12-04 13:25:43,278 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:43,278 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:43,278 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:43,278 [s1@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,278 [s1@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,278 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:25:43,279 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44749
2022-12-04 13:25:43,280 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38939
2022-12-04 13:25:43,281 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36167
2022-12-04 13:25:43,284 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:43,284 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:43,285 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2] (custom)
2022-12-04 13:25:43,285 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b does not exist. Creating ...
2022-12-04 13:25:43,285 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,285 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:25:43,286 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:43,286 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current
2022-12-04 13:25:43,286 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/sm
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b has been successfully formatted.
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:43,287 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-8A5A5907808B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:43,288 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,289 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-8A5A5907808B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-8A5A5907808B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s2
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:43,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:43,295 [s2@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,295 [s2@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,296 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:25:43,296 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45435
2022-12-04 13:25:43,297 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36703
2022-12-04 13:25:43,297 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45805
2022-12-04 13:25:43,297 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:25:43,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,298 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:43,445 [s1@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-8A5A5907808B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168179719ns, electionTimeout:167ms
2022-12-04 13:25:43,446 [s1@group-8A5A5907808B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,446 [s1@group-8A5A5907808B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8A5A5907808B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:43,446 [s1@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:43,446 [s1@group-8A5A5907808B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8A5A5907808B-LeaderElection11
2022-12-04 13:25:43,449 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-8A5A5907808B-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,450 [s1@group-8A5A5907808B-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:43,450 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,450 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,457 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-8A5A5907808B: receive requestVote(PRE_VOTE, s1, group-8A5A5907808B, 0, (t:0, i:0))
2022-12-04 13:25:43,457 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8A5A5907808B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:43,457 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-8A5A5907808B replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-8A5A5907808B:t0, leader=null, voted=, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,458 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8A5A5907808B-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:43,458 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-12-04 13:25:43,458 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-8A5A5907808B-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:43,458 [s1@group-8A5A5907808B-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:43,460 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-8A5A5907808B-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,469 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,469 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,470 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-8A5A5907808B: receive requestVote(ELECTION, s1, group-8A5A5907808B, 1, (t:0, i:0))
2022-12-04 13:25:43,470 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8A5A5907808B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:43,470 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8A5A5907808B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:43,470 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,470 [s0@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:43,473 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,475 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8A5A5907808B: receive requestVote(ELECTION, s1, group-8A5A5907808B, 1, (t:0, i:0))
2022-12-04 13:25:43,475 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8A5A5907808B-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:43,475 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-8A5A5907808B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:43,475 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,475 [s2@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:43,478 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:43,479 [s2@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,479 [s2@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,479 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8A5A5907808B: receive requestVote(PRE_VOTE, s1, group-8A5A5907808B, 0, (t:0, i:0))
2022-12-04 13:25:43,480 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-8A5A5907808B replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-8A5A5907808B:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,480 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8A5A5907808B replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-8A5A5907808B:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,480 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8A5A5907808B-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:43,481 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8A5A5907808B replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-8A5A5907808B:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8A5A5907808B-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-8A5A5907808B-LeaderElection11 ELECTION round 0: result PASSED
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-8A5A5907808B-LeaderElection11
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8A5A5907808B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-8A5A5907808B: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 231ms
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:43,481 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:43,482 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:43,482 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,482 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8A5A5907808B-LeaderStateImpl
2022-12-04 13:25:43,483 [s1@group-8A5A5907808B-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:43,492 [s1@group-8A5A5907808B-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-8A5A5907808B: set configuration 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,493 [s1@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0
2022-12-04 13:25:43,499 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-8A5A5907808B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 253ms
2022-12-04 13:25:43,504 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-8A5A5907808B: set configuration 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,504 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:43,509 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-8A5A5907808B: change Leader from null to s1 at term 1 for appendEntries, leader elected after 252ms
2022-12-04 13:25:43,513 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-8A5A5907808B: set configuration 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:43,513 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:43,517 [s0@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0
2022-12-04 13:25:43,526 [s2@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0
2022-12-04 13:25:43,749 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,749 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,749 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,762 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D2EDF5FE3520->s0: receive RaftClientReply:client-D2EDF5FE3520->s0@group-8A5A5907808B, cid=54, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-8A5A5907808B is not the leader s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-04 13:25:43,764 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,764 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,769 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D2EDF5FE3520->s1: receive RaftClientReply:client-D2EDF5FE3520->s1@group-8A5A5907808B, cid=54, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-12-04 13:25:43,776 [s1@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-D2EDF5FE3520
2022-12-04 13:25:43,778 [s0@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-D2EDF5FE3520
2022-12-04 13:25:43,778 [s2@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-D2EDF5FE3520
2022-12-04 13:25:43,779 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D2EDF5FE3520->s1: receive RaftClientReply:client-D2EDF5FE3520->s1@group-8A5A5907808B, cid=55, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-12-04 13:25:43,782 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:43,782 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:43,790 [s1@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5C7469B7C50A
2022-12-04 13:25:43,792 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C7469B7C50A->s1: receive RaftClientReply:client-5C7469B7C50A->s1@group-8A5A5907808B, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2022-12-04 13:25:43,793 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2022-12-04 13:25:43,793 [s0@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5C7469B7C50A
2022-12-04 13:25:43,794 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-12-04 13:25:43,796 [s2@group-8A5A5907808B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5C7469B7C50A
2022-12-04 13:25:43,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,797 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,798 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,799 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:43,872 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-12-04 13:25:43,873 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-12-04 13:25:43,900 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:43,900 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,900 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:43,900 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:44,001 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:44,001 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,001 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,001 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:44,102 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:44,102 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,102 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,102 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:44,164 [s0@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8A5A5907808B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:371582287ns, electionTimeout:266ms
2022-12-04 13:25:44,164 [s0@group-8A5A5907808B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,165 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8A5A5907808B: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-12-04 13:25:44,165 [s0@group-8A5A5907808B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:44,165 [s0@group-8A5A5907808B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A5A5907808B-LeaderElection12
2022-12-04 13:25:44,167 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-8A5A5907808B: change Leader from s1 to null at term 1 for PRE_VOTE
2022-12-04 13:25:44,167 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8A5A5907808B-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,168 [s0@group-8A5A5907808B-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:25:44,168 [s0@group-8A5A5907808B-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:44,176 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8A5A5907808B: receive requestVote(PRE_VOTE, s0, group-8A5A5907808B, 1, (t:1, i:4))
2022-12-04 13:25:44,176 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8A5A5907808B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:44,177 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8A5A5907808B replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,181 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-8A5A5907808B: receive requestVote(PRE_VOTE, s0, group-8A5A5907808B, 1, (t:1, i:4))
2022-12-04 13:25:44,181 [grpc-default-executor-6] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-8A5A5907808B-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 700ms. Conf: 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,182 [grpc-default-executor-6] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-8A5A5907808B->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=7, lastRpcResponseTime=387)
2022-12-04 13:25:44,182 [grpc-default-executor-6] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-8A5A5907808B->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=6, lastRpcResponseTime=385)
2022-12-04 13:25:44,182 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8A5A5907808B: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-12-04 13:25:44,182 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-8A5A5907808B-LeaderStateImpl
2022-12-04 13:25:44,182 [s1@group-8A5A5907808B->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-8A5A5907808B->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:44,182 [s1@group-8A5A5907808B->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-8A5A5907808B->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:44,182 [grpc-default-executor-6] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-8A5A5907808B-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:44,183 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,184 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8A5A5907808B-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:44,184 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-12-04 13:25:44,184 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8A5A5907808B-LeaderElection12 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:44,184 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8A5A5907808B-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-12-04 13:25:44,184 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-8A5A5907808B replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-8A5A5907808B:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,189 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-8A5A5907808B-LeaderElection12 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-8A5A5907808B: receive requestVote(ELECTION, s0, group-8A5A5907808B, 2, (t:1, i:4))
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8A5A5907808B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-8A5A5907808B: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-8A5A5907808B: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,190 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,191 [s1@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-8A5A5907808B: receive requestVote(ELECTION, s0, group-8A5A5907808B, 2, (t:1, i:4))
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8A5A5907808B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-8A5A5907808B: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-8A5A5907808B: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,193 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-8A5A5907808B replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-8A5A5907808B:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,193 [s2@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:44,193 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8A5A5907808B-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-8A5A5907808B-LeaderElection12 ELECTION round 0: result PASSED
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-8A5A5907808B-LeaderElection12
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-8A5A5907808B: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-8A5A5907808B: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 27ms
2022-12-04 13:25:44,194 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:44,195 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:44,195 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:44,195 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:44,195 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:44,195 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-8A5A5907808B replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-8A5A5907808B:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,195 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:44,196 [s0@group-8A5A5907808B-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:44,197 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-8A5A5907808B-LeaderStateImpl
2022-12-04 13:25:44,198 [s0@group-8A5A5907808B-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:25:44,201 [s0@group-8A5A5907808B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,201 [s0@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:44,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,203 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-8A5A5907808B not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-8A5A5907808B not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:44,212 [s0@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s0/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_5
2022-12-04 13:25:44,215 [s0@group-8A5A5907808B-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-8A5A5907808B: set configuration 5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,215 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-8A5A5907808B: change Leader from null to s0 at term 2 for appendEntries, leader elected after 25ms
2022-12-04 13:25:44,220 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-8A5A5907808B: change Leader from null to s0 at term 2 for appendEntries, leader elected after 26ms
2022-12-04 13:25:44,227 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-8A5A5907808B: set configuration 5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,227 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:25:44,228 [s2@group-8A5A5907808B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,228 [s2@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,235 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-8A5A5907808B: set configuration 5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:44,235 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:25:44,236 [s1@group-8A5A5907808B-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,236 [s1@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_0-4
2022-12-04 13:25:44,245 [s2@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s2/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_5
2022-12-04 13:25:44,245 [s1@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc55b7b755/s1/01e77ee4-8963-41b9-a23e-8a5a5907808b/current/log_inprogress_5
2022-12-04 13:25:44,654 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:44,654 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-12-04 13:25:44,654 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-12-04 13:25:44,654 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-12-04 13:25:44,654 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-5C7469B7C50A->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-5C7469B7C50A->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-12-04 13:25:44,655 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2022-12-04 13:25:44,656 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:44,657 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:44,661 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-12-04 13:25:44,773 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-12-04 13:25:44,774 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-12-04 13:25:44,781 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-04 13:25:44,782 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-8A5A5907808B->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:44,782 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-8A5A5907808B->s0: nextIndex: updateUnconditionally 5 -> 4
2022-12-04 13:25:44,784 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-04 13:25:44,784 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-8A5A5907808B->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:44,784 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-8A5A5907808B->s2: nextIndex: updateUnconditionally 5 -> 4
2022-12-04 13:25:45,661 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-5C7469B7C50A->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-5C7469B7C50A->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-12-04 13:25:45,674 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C7469B7C50A->s1: receive RaftClientReply:client-5C7469B7C50A->s1@group-8A5A5907808B, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-12-04 13:25:48,663 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=510, target=localhost:44749}}. 
2022-12-04 13:25:48,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:48,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:48,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:48,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:48,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:48,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8A5A5907808B:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8A5A5907808B-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:33747|admin:localhost:43381|client:localhost:39475|dataStream:localhost:36899|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38939|admin:localhost:36167|client:localhost:44749|dataStream:localhost:44475|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36703|admin:localhost:45805|client:localhost:45435|dataStream:localhost:38125|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:48,667 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:48,670 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:25:48,670 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:25:48,671 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:48,671 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-8A5A5907808B: shutdown
2022-12-04 13:25:48,671 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s0
2022-12-04 13:25:48,671 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-8A5A5907808B-LeaderStateImpl
2022-12-04 13:25:48,671 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-8A5A5907808B-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:48,671 [s0@group-8A5A5907808B->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-8A5A5907808B->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:48,672 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-04 13:25:48,673 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-8A5A5907808B: shutdown
2022-12-04 13:25:48,673 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s2
2022-12-04 13:25:48,673 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-8A5A5907808B-FollowerState
2022-12-04 13:25:48,673 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-8A5A5907808B-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:25:48,673 [s2@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:48,673 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:48,673 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-8A5A5907808B: applyIndex: 6
2022-12-04 13:25:48,673 [s2@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:48,673 [s0@group-8A5A5907808B->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-8A5A5907808B->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:48,674 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-8A5A5907808B: shutdown
2022-12-04 13:25:48,674 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5A5907808B,id=s1
2022-12-04 13:25:48,674 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-8A5A5907808B-FollowerState
2022-12-04 13:25:48,674 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-8A5A5907808B-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:25:48,674 [s1@group-8A5A5907808B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8A5A5907808B-FollowerState was interrupted
2022-12-04 13:25:48,675 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-8A5A5907808B: applyIndex: 6
2022-12-04 13:25:48,675 [s1@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:48,675 [MiniRaftCluster-12] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:25:48,675 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:48,675 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-04 13:25:48,677 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-8A5A5907808B->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:48,677 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-8A5A5907808B->s2: nextIndex: updateUnconditionally 7 -> 6
2022-12-04 13:25:48,677 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-8A5A5907808B-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:25:48,677 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-8A5A5907808B: applyIndex: 6
2022-12-04 13:25:48,678 [s0@group-8A5A5907808B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:48,678 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-8A5A5907808B->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:48,678 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s0@group-8A5A5907808B->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:48,679 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-8A5A5907808B-SegmentedRaftLogWorker close()
2022-12-04 13:25:48,679 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:48,679 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:48,680 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-8A5A5907808B-SegmentedRaftLogWorker close()
2022-12-04 13:25:48,680 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:48,681 [MiniRaftCluster-12] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:48,681 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:48,681 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:48,682 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:48,682 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:48,683 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:48,682 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:48,683 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:48,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-8A5A5907808B-SegmentedRaftLogWorker close()
2022-12-04 13:25:48,684 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:48,684 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:48,684 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:48,685 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:48,685 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:48,685 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:48,685 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:25:48,683 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:48,687 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:48,687 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:25:48,688 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:48,688 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:48,689 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:48,689 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:48,689 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:48,690 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0
2022-12-04 13:25:48,690 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0 does not exist.
2022-12-04 13:25:48,690 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0
2022-12-04 13:25:48,690 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35567 (custom)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44513 (custom)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 32823 (custom)
2022-12-04 13:25:48,691 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:48,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:48,692 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:48,692 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:48,692 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:48,692 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,693 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,693 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0] (custom)
2022-12-04 13:25:48,693 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] returns group-C0FEF4E966CE:java.util.concurrent.CompletableFuture@72daecd8[Not completed]
2022-12-04 13:25:48,693 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:48,693 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1
2022-12-04 13:25:48,693 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1 does not exist.
2022-12-04 13:25:48,693 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1
2022-12-04 13:25:48,694 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41177 (custom)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45529 (custom)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35879 (custom)
2022-12-04 13:25:48,694 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:48,694 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,694 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:48,694 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,694 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:48,695 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,695 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:48,695 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:48,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:48,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:48,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,696 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1] (custom)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C0FEF4E966CE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:48,696 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:48,697 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:48,697 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:48,697 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:48,697 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:48,698 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:48,698 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:48,698 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:48,698 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:48,698 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:48,706 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] returns group-C0FEF4E966CE:java.util.concurrent.CompletableFuture@6256c4c[Not completed]
2022-12-04 13:25:48,706 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:48,706 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2
2022-12-04 13:25:48,707 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2 does not exist.
2022-12-04 13:25:48,707 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2
2022-12-04 13:25:48,707 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44209 (custom)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45067 (custom)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44261 (custom)
2022-12-04 13:25:48,707 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:48,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:48,708 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:48,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:48,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:48,709 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,709 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,709 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2] (custom)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C0FEF4E966CE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:48,709 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:48,710 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:48,710 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:48,710 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:48,711 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:48,711 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:48,711 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:48,711 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:48,711 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:48,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] returns group-C0FEF4E966CE:java.util.concurrent.CompletableFuture@51499b0f[Not completed]
2022-12-04 13:25:48,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:48,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:48,712 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0] (custom)
2022-12-04 13:25:48,712 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce does not exist. Creating ...
2022-12-04 13:25:48,712 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,713 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C0FEF4E966CE:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:48,714 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C0FEF4E966CE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:48,714 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:48,715 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:48,714 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce/current
2022-12-04 13:25:48,715 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce/sm
2022-12-04 13:25:48,715 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:48,715 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:48,715 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:48,716 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce has been successfully formatted.
2022-12-04 13:25:48,716 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,716 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:48,716 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-C0FEF4E966CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-C0FEF4E966CE: start as a follower, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C0FEF4E966CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:48,719 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,722 [s0@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,722 [s0@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,722 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s0
2022-12-04 13:25:48,723 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:48,723 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:48,723 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:48,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:48,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:48,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:48,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:48,724 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:48,724 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:48,724 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44513
2022-12-04 13:25:48,725 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 32823
2022-12-04 13:25:48,725 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35567
2022-12-04 13:25:48,725 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:48,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:48,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:48,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1] (custom)
2022-12-04 13:25:48,726 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce does not exist. Creating ...
2022-12-04 13:25:48,726 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,727 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:48,727 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce/current
2022-12-04 13:25:48,727 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce/sm
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce has been successfully formatted.
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:48,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-C0FEF4E966CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:48,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:48,731 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:48,731 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,731 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,732 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-C0FEF4E966CE: start as a follower, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,732 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C0FEF4E966CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:48,732 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,733 [s1@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,733 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s1
2022-12-04 13:25:48,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:48,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:48,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:48,734 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:25:48,733 [s1@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,735 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 45529
2022-12-04 13:25:48,735 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35879
2022-12-04 13:25:48,735 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41177
2022-12-04 13:25:48,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:48,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:48,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2] (custom)
2022-12-04 13:25:48,736 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce does not exist. Creating ...
2022-12-04 13:25:48,736 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,736 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:25:48,737 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:48,737 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce/current
2022-12-04 13:25:48,737 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce/sm
2022-12-04 13:25:48,738 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce has been successfully formatted.
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:48,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-C0FEF4E966CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:48,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-C0FEF4E966CE: start as a follower, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C0FEF4E966CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,741 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s2
2022-12-04 13:25:48,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:48,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:48,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:48,742 [s2@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,742 [s2@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,748 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:25:48,749 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45067
2022-12-04 13:25:48,749 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44261
2022-12-04 13:25:48,749 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44209
2022-12-04 13:25:48,751 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:25:48,752 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:48,752 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s2@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:48,753 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s2@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s2@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:48,921 [s2@group-C0FEF4E966CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C0FEF4E966CE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180049905ns, electionTimeout:179ms
2022-12-04 13:25:48,921 [s2@group-C0FEF4E966CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,921 [s2@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C0FEF4E966CE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:48,922 [s2@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:48,922 [s2@group-C0FEF4E966CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C0FEF4E966CE-LeaderElection13
2022-12-04 13:25:48,923 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C0FEF4E966CE-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,924 [s2@group-C0FEF4E966CE-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:48,926 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,926 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,926 [s2@group-C0FEF4E966CE-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:25:48,929 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C0FEF4E966CE: receive requestVote(PRE_VOTE, s2, group-C0FEF4E966CE, 0, (t:0, i:0))
2022-12-04 13:25:48,929 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C0FEF4E966CE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:48,930 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C0FEF4E966CE replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,933 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C0FEF4E966CE: receive requestVote(PRE_VOTE, s2, group-C0FEF4E966CE, 0, (t:0, i:0))
2022-12-04 13:25:48,933 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C0FEF4E966CE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:48,933 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C0FEF4E966CE replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-C0FEF4E966CE:t0, leader=null, voted=, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,934 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C0FEF4E966CE-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:48,934 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-12-04 13:25:48,934 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C0FEF4E966CE-LeaderElection13 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:48,936 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-C0FEF4E966CE-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,939 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,939 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,939 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-C0FEF4E966CE: receive requestVote(ELECTION, s2, group-C0FEF4E966CE, 1, (t:0, i:0))
2022-12-04 13:25:48,940 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C0FEF4E966CE-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:48,940 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C0FEF4E966CE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-04 13:25:48,940 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,940 [s0@group-C0FEF4E966CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C0FEF4E966CE-FollowerState was interrupted
2022-12-04 13:25:48,940 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,944 [s0@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,944 [s0@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,945 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-C0FEF4E966CE: receive requestVote(ELECTION, s2, group-C0FEF4E966CE, 1, (t:0, i:0))
2022-12-04 13:25:48,946 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C0FEF4E966CE-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:25:48,946 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C0FEF4E966CE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-12-04 13:25:48,946 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,946 [s1@group-C0FEF4E966CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C0FEF4E966CE-FollowerState was interrupted
2022-12-04 13:25:48,947 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-C0FEF4E966CE replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-C0FEF4E966CE:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,947 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-C0FEF4E966CE-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-C0FEF4E966CE-LeaderElection13 ELECTION round 0: result PASSED
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C0FEF4E966CE-LeaderElection13
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C0FEF4E966CE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-C0FEF4E966CE: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 233ms
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:48,948 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:48,949 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C0FEF4E966CE-LeaderStateImpl
2022-12-04 13:25:48,950 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:48,957 [s1@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:48,957 [s1@group-C0FEF4E966CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:48,960 [s2@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s2/56e03860-95f9-4750-b330-c0fef4e966ce/current/log_inprogress_0
2022-12-04 13:25:48,960 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-C0FEF4E966CE replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-C0FEF4E966CE:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,967 [s2@group-C0FEF4E966CE-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-C0FEF4E966CE: set configuration 0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,975 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-C0FEF4E966CE: change Leader from null to s2 at term 1 for appendEntries, leader elected after 265ms
2022-12-04 13:25:48,981 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-C0FEF4E966CE: change Leader from null to s2 at term 1 for appendEntries, leader elected after 284ms
2022-12-04 13:25:48,982 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-C0FEF4E966CE: set configuration 0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,982 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:48,984 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-C0FEF4E966CE: set configuration 0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:48,985 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:48,999 [s0@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s0/56e03860-95f9-4750-b330-c0fef4e966ce/current/log_inprogress_0
2022-12-04 13:25:48,999 [s1@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd52e4ef5/s1/56e03860-95f9-4750-b330-c0fef4e966ce/current/log_inprogress_0
2022-12-04 13:25:49,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:49,204 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:49,204 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:49,210 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s0: receive RaftClientReply:client-A1BD72E2EB11->s0@group-C0FEF4E966CE, cid=56, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-C0FEF4E966CE is not the leader s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-04 13:25:49,213 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:49,213 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:49,218 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=56, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-12-04 13:25:49,223 [s2@group-C0FEF4E966CE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A1BD72E2EB11
2022-12-04 13:25:49,227 [s0@group-C0FEF4E966CE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A1BD72E2EB11
2022-12-04 13:25:49,227 [s1@group-C0FEF4E966CE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-A1BD72E2EB11
2022-12-04 13:25:49,234 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=57, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-12-04 13:25:49,236 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2022-12-04 13:25:49,238 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=58, SUCCESS, logIndex=0, commits[s2:c2, s0:c1, s1:c1]
2022-12-04 13:25:53,239 [timer3] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=571, target=localhost:45067}}. 
2022-12-04 13:25:53,341 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,341 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,346 [s2-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2022-12-04 13:25:53,347 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=59, SUCCESS, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2022-12-04 13:25:53,349 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,349 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,354 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-A1BD72E2EB11->s0@group-C0FEF4E966CE, cid=60, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-A1BD72E2EB11->s0@group-C0FEF4E966CE, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-C0FEF4E966CE is not the leader s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-12-04 13:25:53,355 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s0: receive RaftClientReply:client-A1BD72E2EB11->s0@group-C0FEF4E966CE, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-C0FEF4E966CE is not the leader s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-12-04 13:25:53,360 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=60, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-04 13:25:53,362 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A1BD72E2EB11->s2: receive RaftClientReply:client-A1BD72E2EB11->s2@group-C0FEF4E966CE, cid=61, SUCCESS, logIndex=2, commits[s2:c2, s0:c2, s1:c2]
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:53,365 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C0FEF4E966CE:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C0FEF4E966CE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:32823|admin:localhost:35567|client:localhost:44513|dataStream:localhost:46749|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35879|admin:localhost:41177|client:localhost:45529|dataStream:localhost:34373|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44261|admin:localhost:44209|client:localhost:45067|dataStream:localhost:33759|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:53,366 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:53,368 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-C0FEF4E966CE: shutdown
2022-12-04 13:25:53,368 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:53,369 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s0
2022-12-04 13:25:53,369 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:53,369 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-C0FEF4E966CE-StateMachineUpdater: set stopIndex = 2
2022-12-04 13:25:53,369 [s0@group-C0FEF4E966CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C0FEF4E966CE-FollowerState was interrupted
2022-12-04 13:25:53,369 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-C0FEF4E966CE: applyIndex: 2
2022-12-04 13:25:53,372 [s0@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:53,373 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:25:53,377 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-C0FEF4E966CE-SegmentedRaftLogWorker close()
2022-12-04 13:25:53,377 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:53,377 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:53,379 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-04 13:25:53,379 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s2->s0#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-04 13:25:53,379 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:53,379 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:53,380 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:53,379 [grpc-default-executor-6] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-C0FEF4E966CE->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-04 13:25:53,385 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-C0FEF4E966CE->s0: nextIndex: updateUnconditionally 3 -> 2
2022-12-04 13:25:53,384 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:25:53,380 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - s2@group-C0FEF4E966CE->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2022-12-04 13:25:53,386 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-C0FEF4E966CE: shutdown
2022-12-04 13:25:53,386 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s1
2022-12-04 13:25:53,386 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C0FEF4E966CE-FollowerState
2022-12-04 13:25:53,386 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-C0FEF4E966CE-StateMachineUpdater: set stopIndex = 2
2022-12-04 13:25:53,386 [s1@group-C0FEF4E966CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C0FEF4E966CE-FollowerState was interrupted
2022-12-04 13:25:53,387 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-C0FEF4E966CE: applyIndex: 2
2022-12-04 13:25:53,387 [s1@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:53,387 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:53,386 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:53,389 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:53,389 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-C0FEF4E966CE: shutdown
2022-12-04 13:25:53,389 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C0FEF4E966CE,id=s2
2022-12-04 13:25:53,389 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-C0FEF4E966CE-LeaderStateImpl
2022-12-04 13:25:53,390 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-C0FEF4E966CE-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:53,390 [s2@group-C0FEF4E966CE->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-C0FEF4E966CE->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:53,390 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-C0FEF4E966CE-SegmentedRaftLogWorker close()
2022-12-04 13:25:53,386 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-C0FEF4E966CE->s0: nextIndex: updateUnconditionally 2 -> 1
2022-12-04 13:25:53,392 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-C0FEF4E966CE-StateMachineUpdater: set stopIndex = 2
2022-12-04 13:25:53,392 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-C0FEF4E966CE: applyIndex: 2
2022-12-04 13:25:53,392 [s2@group-C0FEF4E966CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:53,392 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:53,392 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:53,392 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:53,392 [s2@group-C0FEF4E966CE->s0-GrpcLogAppender-LogAppenderDaemon] ERROR leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-C0FEF4E966CE->s0-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalArgumentException: s2@group-C0FEF4E966CE-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:111)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getTermIndex(SegmentedRaftLog.java:324)
	at org.apache.ratis.server.leader.LogAppenderBase.getPrevious(LogAppenderBase.java:148)
	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:168)
	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:270)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:167)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close s2@group-C0FEF4E966CE-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.base/java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:187)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:365)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:505)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:417)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$4(RaftServerImpl.java:484)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:461)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:135)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:122)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-12-04 13:25:53,396 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-C0FEF4E966CE-SegmentedRaftLogWorker close()
2022-12-04 13:25:53,393 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:25:53,398 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:53,398 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:53,392 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-12-04 13:25:53,392 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:25:53,397 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s2@group-C0FEF4E966CE->s1-GrpcLogAppender is already stopped
2022-12-04 13:25:53,398 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:53,400 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:53,400 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:53,401 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:53,401 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:53,401 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:25:53,401 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:53,401 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s2@group-C0FEF4E966CE->s1-GrpcLogAppender is already stopped
2022-12-04 13:25:53,401 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:25:53,401 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:53,402 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:53,402 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:53,402 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:53,403 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2022-12-04 13:25:53,403 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2022-12-04 13:25:53,445 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-04 13:25:53,447 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2022-12-04 13:25:53,448 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2022-12-04 13:25:53,478 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2022-12-04 13:25:53,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:53,482 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3
2022-12-04 13:25:53,482 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3 does not exist.
2022-12-04 13:25:53,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3
2022-12-04 13:25:53,482 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:53,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39501 (custom)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38527 (custom)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42511 (custom)
2022-12-04 13:25:53,483 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:53,483 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:53,485 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:53,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:53,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:53,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3] (custom)
2022-12-04 13:25:53,488 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] returns group-EF24A5639A38:java.util.concurrent.CompletableFuture@1bf2c245[Not completed]
2022-12-04 13:25:53,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:53,488 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4
2022-12-04 13:25:53,488 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4 does not exist.
2022-12-04 13:25:53,489 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4
2022-12-04 13:25:53,489 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33509 (custom)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42471 (custom)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45331 (custom)
2022-12-04 13:25:53,489 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:53,489 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4] (custom)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-EF24A5639A38: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:53,492 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:53,494 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:53,494 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:53,494 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:53,494 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:53,494 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:53,494 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] returns group-EF24A5639A38:java.util.concurrent.CompletableFuture@6fe496fa[Not completed]
2022-12-04 13:25:53,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:53,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5
2022-12-04 13:25:53,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5 does not exist.
2022-12-04 13:25:53,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5
2022-12-04 13:25:53,494 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40845 (custom)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45709 (custom)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38067 (custom)
2022-12-04 13:25:53,495 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:53,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5] (custom)
2022-12-04 13:25:53,497 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,497 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,497 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-EF24A5639A38: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:53,498 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:53,499 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:53,499 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:53,499 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:53,499 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:53,499 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:53,499 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] returns group-EF24A5639A38:java.util.concurrent.CompletableFuture@1cbf4bd0[Not completed]
2022-12-04 13:25:53,500 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:53,500 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:53,500 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3] (custom)
2022-12-04 13:25:53,500 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38 does not exist. Creating ...
2022-12-04 13:25:53,500 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-EF24A5639A38:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-EF24A5639A38: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:53,501 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:53,502 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:53,502 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38/current
2022-12-04 13:25:53,502 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38/sm
2022-12-04 13:25:53,502 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:53,502 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:53,503 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:53,503 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:53,503 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:53,504 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38 has been successfully formatted.
2022-12-04 13:25:53,504 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:53,505 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-EF24A5639A38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,506 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-EF24A5639A38: start as a follower, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-EF24A5639A38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:53,507 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,508 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s3
2022-12-04 13:25:53,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:53,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:53,508 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:53,508 [s3@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,508 [s3@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,509 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2022-12-04 13:25:53,510 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 38527
2022-12-04 13:25:53,511 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 42511
2022-12-04 13:25:53,511 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 39501
2022-12-04 13:25:53,512 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:53,512 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:53,512 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4] (custom)
2022-12-04 13:25:53,513 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38 does not exist. Creating ...
2022-12-04 13:25:53,513 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,512 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2022-12-04 13:25:53,514 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:53,514 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38/current
2022-12-04 13:25:53,514 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38/sm
2022-12-04 13:25:53,515 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38 has been successfully formatted.
2022-12-04 13:25:53,515 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,515 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-EF24A5639A38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,516 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,517 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,518 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-EF24A5639A38: start as a follower, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-EF24A5639A38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s4
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:53,519 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:53,520 [s4@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,520 [s4@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,520 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2022-12-04 13:25:53,520 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 42471
2022-12-04 13:25:53,520 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 45331
2022-12-04 13:25:53,521 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 33509
2022-12-04 13:25:53,521 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:53,521 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:53,521 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5] (custom)
2022-12-04 13:25:53,521 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38 does not exist. Creating ...
2022-12-04 13:25:53,522 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,522 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2022-12-04 13:25:53,523 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:53,523 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38/current
2022-12-04 13:25:53,523 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38/sm
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38 has been successfully formatted.
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:53,524 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-EF24A5639A38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:53,525 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:53,526 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:53,526 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,526 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:53,526 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:53,526 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:53,527 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,527 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:53,528 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-EF24A5639A38: start as a follower, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,528 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-EF24A5639A38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:53,528 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,533 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s5
2022-12-04 13:25:53,533 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:53,533 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:53,533 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:53,533 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2022-12-04 13:25:53,534 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 45709
2022-12-04 13:25:53,534 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 38067
2022-12-04 13:25:53,535 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 40845
2022-12-04 13:25:53,536 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2022-12-04 13:25:53,537 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,537 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,539 [s5@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,539 [s5@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,564 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-553AF472B143->s3: receive RaftClientReply:client-553AF472B143->s3@group-EF24A5639A38, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-EF24A5639A38 is not the leader, logIndex=0, commits[s3:c-1]
2022-12-04 13:25:53,666 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,666 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,693 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-553AF472B143->s4: receive RaftClientReply:client-553AF472B143->s4@group-EF24A5639A38, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-EF24A5639A38 is not the leader, logIndex=0, commits[s4:c-1]
2022-12-04 13:25:53,731 [s3@group-EF24A5639A38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-EF24A5639A38-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223272626ns, electionTimeout:222ms
2022-12-04 13:25:53,731 [s3@group-EF24A5639A38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,731 [s3@group-EF24A5639A38-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-EF24A5639A38: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:53,731 [s3@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:53,731 [s3@group-EF24A5639A38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-EF24A5639A38-LeaderElection14
2022-12-04 13:25:53,732 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-EF24A5639A38-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,732 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,732 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,732 [s3@group-EF24A5639A38-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2022-12-04 13:25:53,733 [s3@group-EF24A5639A38-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2022-12-04 13:25:53,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s5@group-EF24A5639A38: receive requestVote(PRE_VOTE, s3, group-EF24A5639A38, 0, (t:0, i:0))
2022-12-04 13:25:53,773 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-EF24A5639A38-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-04 13:25:53,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s5@group-EF24A5639A38 replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-EF24A5639A38:t0, leader=null, voted=, raftlog=Memoized:s5@group-EF24A5639A38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,774 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-EF24A5639A38-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:53,774 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t0
2022-12-04 13:25:53,774 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-EF24A5639A38-LeaderElection14 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:53,775 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-EF24A5639A38-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,777 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-EF24A5639A38: receive requestVote(PRE_VOTE, s3, group-EF24A5639A38, 0, (t:0, i:0))
2022-12-04 13:25:53,778 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-EF24A5639A38-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-12-04 13:25:53,778 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-EF24A5639A38 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-EF24A5639A38:t0, leader=null, voted=, raftlog=Memoized:s4@group-EF24A5639A38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,782 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s4@group-EF24A5639A38: receive requestVote(ELECTION, s3, group-EF24A5639A38, 1, (t:0, i:0))
2022-12-04 13:25:53,782 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-EF24A5639A38-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-12-04 13:25:53,783 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-EF24A5639A38: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-12-04 13:25:53,783 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,783 [s4@group-EF24A5639A38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-EF24A5639A38-FollowerState was interrupted
2022-12-04 13:25:53,783 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,783 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,783 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,784 [s4@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,784 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s4@group-EF24A5639A38 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-EF24A5639A38:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-EF24A5639A38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,785 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s5@group-EF24A5639A38: receive requestVote(ELECTION, s3, group-EF24A5639A38, 1, (t:0, i:0))
2022-12-04 13:25:53,786 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-EF24A5639A38-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-12-04 13:25:53,786 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-EF24A5639A38: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-12-04 13:25:53,786 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,786 [s5@group-EF24A5639A38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-EF24A5639A38-FollowerState was interrupted
2022-12-04 13:25:53,786 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-EF24A5639A38-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-EF24A5639A38-LeaderElection14 ELECTION round 0: result PASSED
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-EF24A5639A38-LeaderElection14
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-EF24A5639A38: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-EF24A5639A38: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 296ms
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:53,789 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:53,790 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:53,791 [s4@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,791 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-EF24A5639A38-FollowerState
2022-12-04 13:25:53,791 [s3@group-EF24A5639A38-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-EF24A5639A38-LeaderStateImpl
2022-12-04 13:25:53,792 [s3@group-EF24A5639A38-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:53,793 [s5@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:53,793 [s5@group-EF24A5639A38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:53,793 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s5@group-EF24A5639A38 replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-EF24A5639A38:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-EF24A5639A38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,795 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,795 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,801 [s3@group-EF24A5639A38-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s3@group-EF24A5639A38: set configuration 0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,803 [s3@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s3/785b8f99-7969-444c-9caa-ef24a5639a38/current/log_inprogress_0
2022-12-04 13:25:53,831 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-EF24A5639A38: change Leader from null to s3 at term 1 for appendEntries, leader elected after 332ms
2022-12-04 13:25:53,835 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s4@group-EF24A5639A38: set configuration 0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,835 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:53,845 [s4@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s4/785b8f99-7969-444c-9caa-ef24a5639a38/current/log_inprogress_0
2022-12-04 13:25:53,849 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-EF24A5639A38: change Leader from null to s3 at term 1 for appendEntries, leader elected after 348ms
2022-12-04 13:25:53,854 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s5@group-EF24A5639A38: set configuration 0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:53,854 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:53,864 [s5@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcc0ecbf79/s5/785b8f99-7969-444c-9caa-ef24a5639a38/current/log_inprogress_0
2022-12-04 13:25:53,866 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-553AF472B143->s5: receive RaftClientReply:client-553AF472B143->s5@group-EF24A5639A38, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-EF24A5639A38 is not the leader s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s5:c-1, s3:c0, s4:c-1]
2022-12-04 13:25:53,870 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,871 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,911 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-553AF472B143->s3: receive RaftClientReply:client-553AF472B143->s3@group-EF24A5639A38, cid=62, SUCCESS, logIndex=0, commits[s3:c0, s4:c0, s5:c0]
2022-12-04 13:25:53,915 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-553AF472B143
2022-12-04 13:25:53,920 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-553AF472B143
2022-12-04 13:25:53,922 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-553AF472B143->s3: receive RaftClientReply:client-553AF472B143->s3@group-EF24A5639A38, cid=63, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2022-12-04 13:25:53,923 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-553AF472B143
2022-12-04 13:25:53,924 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:53,925 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,925 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,928 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,928 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,931 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,932 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,942 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,942 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,945 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,945 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,953 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,953 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,957 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,957 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,958 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,958 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,960 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,960 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:53,962 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:53,963 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,074 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-09466FD1C8F5->s3: receive RaftClientReply:client-09466FD1C8F5->s3@group-EF24A5639A38, cid=76, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2022-12-04 13:25:54,077 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5B574CD83C9B->s3: receive RaftClientReply:client-5B574CD83C9B->s3@group-EF24A5639A38, cid=78, SUCCESS, logIndex=2, commits[s3:c2, s4:c1, s5:c1]
2022-12-04 13:25:54,123 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AA5091435238->s3: receive RaftClientReply:client-AA5091435238->s3@group-EF24A5639A38, cid=66, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,124 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DBFB1E7B107C->s3: receive RaftClientReply:client-DBFB1E7B107C->s3@group-EF24A5639A38, cid=74, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,126 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3D8F1EA105AA->s3: receive RaftClientReply:client-3D8F1EA105AA->s3@group-EF24A5639A38, cid=70, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,128 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-460098073498->s3: receive RaftClientReply:client-460098073498->s3@group-EF24A5639A38, cid=64, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,132 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4D2357A1BACC->s3: receive RaftClientReply:client-4D2357A1BACC->s3@group-EF24A5639A38, cid=80, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,133 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AF0461E69346->s3: receive RaftClientReply:client-AF0461E69346->s3@group-EF24A5639A38, cid=82, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,135 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A7779AA9CD2->s3: receive RaftClientReply:client-2A7779AA9CD2->s3@group-EF24A5639A38, cid=68, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,136 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2860E7A7CF90->s3: receive RaftClientReply:client-2860E7A7CF90->s3@group-EF24A5639A38, cid=72, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,137 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6CEF30CCEC00->s3: receive RaftClientReply:client-6CEF30CCEC00->s3@group-EF24A5639A38, cid=84, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2022-12-04 13:25:54,161 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-EF24A5639A38: Failed to acquire a pending write request for RaftClientRequest:client-6CEF30CCEC00->s3@group-EF24A5639A38, cid=85, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-EF24A5639A38: Failed to acquire a pending write request for RaftClientRequest:client-6CEF30CCEC00->s3@group-EF24A5639A38, cid=85, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:54,264 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:54,269 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,276 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, message 5 -> (t:1, i:3), STATEMACHINELOGENTRY, 77@client-09466FD1C8F5
2022-12-04 13:25:54,279 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 6 -> (t:1, i:4), STATEMACHINELOGENTRY, 79@client-5B574CD83C9B
2022-12-04 13:25:54,279 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 67@client-AA5091435238
2022-12-04 13:25:54,279 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 75@client-DBFB1E7B107C
2022-12-04 13:25:54,280 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, 71@client-3D8F1EA105AA
2022-12-04 13:25:54,280 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, 65@client-460098073498
2022-12-04 13:25:54,280 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 69@client-2A7779AA9CD2
2022-12-04 13:25:54,280 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 81@client-4D2357A1BACC
2022-12-04 13:25:54,273 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, message 5 -> (t:1, i:3), STATEMACHINELOGENTRY, 77@client-09466FD1C8F5
2022-12-04 13:25:54,280 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 6 -> (t:1, i:4), STATEMACHINELOGENTRY, 79@client-5B574CD83C9B
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 67@client-AA5091435238
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 75@client-DBFB1E7B107C
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, 71@client-3D8F1EA105AA
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, 65@client-460098073498
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 69@client-2A7779AA9CD2
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 81@client-4D2357A1BACC
2022-12-04 13:25:54,281 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-2860E7A7CF90
2022-12-04 13:25:54,282 [s5@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 83@client-AF0461E69346
2022-12-04 13:25:54,271 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, message 5 -> (t:1, i:3), STATEMACHINELOGENTRY, 77@client-09466FD1C8F5
2022-12-04 13:25:54,282 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 6 -> (t:1, i:4), STATEMACHINELOGENTRY, 79@client-5B574CD83C9B
2022-12-04 13:25:54,282 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 67@client-AA5091435238
2022-12-04 13:25:54,282 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 75@client-DBFB1E7B107C
2022-12-04 13:25:54,282 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 2 -> (t:1, i:7), STATEMACHINELOGENTRY, 71@client-3D8F1EA105AA
2022-12-04 13:25:54,283 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, 2nd Messag... -> (t:1, i:8), STATEMACHINELOGENTRY, 65@client-460098073498
2022-12-04 13:25:54,283 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 1 -> (t:1, i:9), STATEMACHINELOGENTRY, 69@client-2A7779AA9CD2
2022-12-04 13:25:54,283 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 81@client-4D2357A1BACC
2022-12-04 13:25:54,283 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-2860E7A7CF90
2022-12-04 13:25:54,283 [s3@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 83@client-AF0461E69346
2022-12-04 13:25:54,284 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2860E7A7CF90->s3: receive RaftClientReply:client-2860E7A7CF90->s3@group-EF24A5639A38, cid=73, SUCCESS, logIndex=11, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,284 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-460098073498->s3: receive RaftClientReply:client-460098073498->s3@group-EF24A5639A38, cid=65, SUCCESS, logIndex=8, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,284 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A7779AA9CD2->s3: receive RaftClientReply:client-2A7779AA9CD2->s3@group-EF24A5639A38, cid=69, SUCCESS, logIndex=9, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,284 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 3 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-2860E7A7CF90
2022-12-04 13:25:54,285 [s4@group-EF24A5639A38-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 83@client-AF0461E69346
2022-12-04 13:25:54,285 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4D2357A1BACC->s3: receive RaftClientReply:client-4D2357A1BACC->s3@group-EF24A5639A38, cid=81, SUCCESS, logIndex=10, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,285 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AA5091435238->s3: receive RaftClientReply:client-AA5091435238->s3@group-EF24A5639A38, cid=67, SUCCESS, logIndex=5, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,286 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DBFB1E7B107C->s3: receive RaftClientReply:client-DBFB1E7B107C->s3@group-EF24A5639A38, cid=75, SUCCESS, logIndex=6, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,286 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AF0461E69346->s3: receive RaftClientReply:client-AF0461E69346->s3@group-EF24A5639A38, cid=83, SUCCESS, logIndex=12, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,286 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3D8F1EA105AA->s3: receive RaftClientReply:client-3D8F1EA105AA->s3@group-EF24A5639A38, cid=71, SUCCESS, logIndex=7, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,287 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5B574CD83C9B->s3: receive RaftClientReply:client-5B574CD83C9B->s3@group-EF24A5639A38, cid=79, SUCCESS, logIndex=4, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,287 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-09466FD1C8F5->s3: receive RaftClientReply:client-09466FD1C8F5->s3@group-EF24A5639A38, cid=77, SUCCESS, logIndex=3, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,288 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,318 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A83394AF9311->s3: receive RaftClientReply:client-A83394AF9311->s3@group-EF24A5639A38, cid=86, SUCCESS, logIndex=14, commits[s3:c14, s4:c12, s5:c12]
2022-12-04 13:25:54,349 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-EF24A5639A38: Failed to acquire a pending write request for RaftClientRequest:client-A83394AF9311->s3@group-EF24A5639A38, cid=87, seq=2, RW, Message:3d2d826ff746cb655aeb...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-EF24A5639A38: Failed to acquire a pending write request for RaftClientRequest:client-A83394AF9311->s3@group-EF24A5639A38, cid=87, seq=2, RW, Message:3d2d826ff746cb655aeb...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:54,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:54,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:54,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:54,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:54,625 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:54,626 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-EF24A5639A38:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-EF24A5639A38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-EF24A5639A38:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-EF24A5639A38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-EF24A5639A38:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-EF24A5639A38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:42511|admin:localhost:39501|client:localhost:38527|dataStream:localhost:36299|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:45331|admin:localhost:33509|client:localhost:42471|dataStream:localhost:38889|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:38067|admin:localhost:40845|client:localhost:45709|dataStream:localhost:39959|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:54,627 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2022-12-04 13:25:54,630 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-EF24A5639A38: shutdown
2022-12-04 13:25:54,631 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s3
2022-12-04 13:25:54,631 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-EF24A5639A38-LeaderStateImpl
2022-12-04 13:25:54,631 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-EF24A5639A38-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:54,631 [s3@group-EF24A5639A38->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s3@group-EF24A5639A38->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:54,631 [s3@group-EF24A5639A38->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s3@group-EF24A5639A38->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:54,632 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:25:54,632 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#34-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-04 13:25:54,632 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:25:54,632 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-EF24A5639A38-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:54,632 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#39-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-04 13:25:54,633 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s3@group-EF24A5639A38: applyIndex: 14
2022-12-04 13:25:54,633 [s3@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:54,633 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s3@group-EF24A5639A38->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:54,633 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s3@group-EF24A5639A38->s4: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s3@group-EF24A5639A38->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s3@group-EF24A5639A38->s5: nextIndex: updateUnconditionally 15 -> 14
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s3@group-EF24A5639A38->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s3@group-EF24A5639A38->s4: nextIndex: updateUnconditionally 14 -> 13
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s3@group-EF24A5639A38->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:54,633 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s3@group-EF24A5639A38->s5: nextIndex: updateUnconditionally 14 -> 13
2022-12-04 13:25:54,636 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2022-12-04 13:25:54,637 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:54,637 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-EF24A5639A38-SegmentedRaftLogWorker close()
2022-12-04 13:25:54,637 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-EF24A5639A38: shutdown
2022-12-04 13:25:54,637 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s5
2022-12-04 13:25:54,637 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-EF24A5639A38-FollowerState
2022-12-04 13:25:54,637 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-EF24A5639A38-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:54,638 [s5@group-EF24A5639A38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-EF24A5639A38-FollowerState was interrupted
2022-12-04 13:25:54,638 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s5@group-EF24A5639A38: applyIndex: 14
2022-12-04 13:25:54,638 [s5@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:54,638 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2022-12-04 13:25:54,639 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-EF24A5639A38-SegmentedRaftLogWorker close()
2022-12-04 13:25:54,639 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2022-12-04 13:25:54,641 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2022-12-04 13:25:54,642 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:54,643 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:54,643 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:54,642 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-EF24A5639A38: shutdown
2022-12-04 13:25:54,643 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF24A5639A38,id=s4
2022-12-04 13:25:54,643 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-EF24A5639A38-FollowerState
2022-12-04 13:25:54,643 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-EF24A5639A38-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:54,643 [s4@group-EF24A5639A38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-EF24A5639A38-FollowerState was interrupted
2022-12-04 13:25:54,643 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s4@group-EF24A5639A38: applyIndex: 14
2022-12-04 13:25:54,643 [s4@group-EF24A5639A38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:54,645 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-EF24A5639A38-SegmentedRaftLogWorker close()
2022-12-04 13:25:54,646 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:54,646 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:54,647 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:54,647 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:54,647 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:54,647 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2022-12-04 13:25:54,648 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:54,648 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:54,649 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:54,650 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2022-12-04 13:25:54,652 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:54,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:54,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:54,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:54,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:54,654 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:54,655 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2022-12-04 13:25:54,656 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:54,657 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:54,657 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:54,657 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:54,666 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:54,668 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0
2022-12-04 13:25:54,668 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0 does not exist.
2022-12-04 13:25:54,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0
2022-12-04 13:25:54,669 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45591 (custom)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37281 (custom)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34769 (custom)
2022-12-04 13:25:54,669 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:54,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:54,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:54,670 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,671 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0] (custom)
2022-12-04 13:25:54,672 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] returns group-63D585D0C034:java.util.concurrent.CompletableFuture@2354f615[Not completed]
2022-12-04 13:25:54,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:54,672 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1
2022-12-04 13:25:54,672 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1 does not exist.
2022-12-04 13:25:54,672 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1
2022-12-04 13:25:54,673 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40463 (custom)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35343 (custom)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42783 (custom)
2022-12-04 13:25:54,673 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:54,673 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,674 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1] (custom)
2022-12-04 13:25:54,675 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-63D585D0C034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:54,676 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:54,677 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:54,677 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:54,677 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:54,677 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:54,679 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:54,679 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:54,679 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:54,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:54,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:54,680 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] returns group-63D585D0C034:java.util.concurrent.CompletableFuture@577a3b2c[Not completed]
2022-12-04 13:25:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:54,680 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2
2022-12-04 13:25:54,680 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,680 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2 does not exist.
2022-12-04 13:25:54,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2
2022-12-04 13:25:54,680 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,680 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,680 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:54,680 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36303 (custom)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44701 (custom)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46337 (custom)
2022-12-04 13:25:54,681 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:54,681 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2] (custom)
2022-12-04 13:25:54,682 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-63D585D0C034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:54,683 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:54,684 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:54,684 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:54,685 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:54,685 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:54,685 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:54,685 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:54,685 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:54,689 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] returns group-63D585D0C034:java.util.concurrent.CompletableFuture@49fad510[Not completed]
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:54,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,689 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0] (custom)
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-63D585D0C034:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,689 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034 does not exist. Creating ...
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:54,689 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:54,690 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,690 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:54,690 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:54,690 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:54,690 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:54,690 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-63D585D0C034: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:54,691 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:54,691 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:54,691 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:54,691 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:54,691 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:54,692 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:54,692 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034/current
2022-12-04 13:25:54,693 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:54,693 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:54,693 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034/sm
2022-12-04 13:25:54,693 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:54,693 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:54,693 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:54,694 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034 has been successfully formatted.
2022-12-04 13:25:54,694 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,694 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:54,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-63D585D0C034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,696 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-63D585D0C034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-63D585D0C034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-63D585D0C034: start as a follower, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-63D585D0C034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:54,697 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,698 [s0@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,698 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s0
2022-12-04 13:25:54,698 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:54,698 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:54,698 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:54,698 [s0@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,704 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:54,705 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37281
2022-12-04 13:25:54,705 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34769
2022-12-04 13:25:54,705 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45591
2022-12-04 13:25:54,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:54,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:54,712 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:54,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1] (custom)
2022-12-04 13:25:54,713 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034 does not exist. Creating ...
2022-12-04 13:25:54,713 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,714 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:54,715 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034/current
2022-12-04 13:25:54,715 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034/sm
2022-12-04 13:25:54,716 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034 has been successfully formatted.
2022-12-04 13:25:54,716 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,716 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:54,717 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-63D585D0C034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,718 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,719 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:54,719 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:54,719 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:54,719 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-63D585D0C034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,719 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-63D585D0C034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,720 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-63D585D0C034: start as a follower, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,720 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-63D585D0C034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:54,720 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,721 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s1
2022-12-04 13:25:54,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:54,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:54,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:54,721 [s1@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,721 [s1@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,721 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:25:54,722 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35343
2022-12-04 13:25:54,722 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42783
2022-12-04 13:25:54,722 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40463
2022-12-04 13:25:54,723 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:25:54,723 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:54,723 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:54,723 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2] (custom)
2022-12-04 13:25:54,723 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034 does not exist. Creating ...
2022-12-04 13:25:54,723 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,724 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:54,725 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034/current
2022-12-04 13:25:54,725 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034/sm
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034 has been successfully formatted.
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:54,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-63D585D0C034-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:54,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,728 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:54,728 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:54,728 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:54,728 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-63D585D0C034-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,729 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-63D585D0C034-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:54,729 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-63D585D0C034: start as a follower, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,730 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-63D585D0C034: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:54,730 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,736 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s2
2022-12-04 13:25:54,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:54,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:54,736 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:54,736 [s2@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,736 [s2@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,737 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:25:54,737 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44701
2022-12-04 13:25:54,737 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46337
2022-12-04 13:25:54,738 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36303
2022-12-04 13:25:54,738 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:25:54,738 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,738 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,753 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-EFFBA8DDC785->s0: receive RaftClientReply:client-EFFBA8DDC785->s0@group-63D585D0C034, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-63D585D0C034 is not the leader, logIndex=0, commits[s0:c-1]
2022-12-04 13:25:54,855 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,855 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,861 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-EFFBA8DDC785->s2: receive RaftClientReply:client-EFFBA8DDC785->s2@group-63D585D0C034, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-63D585D0C034 is not the leader, logIndex=0, commits[s2:c-1]
2022-12-04 13:25:54,876 [s1@group-63D585D0C034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-63D585D0C034-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155069179ns, electionTimeout:154ms
2022-12-04 13:25:54,876 [s1@group-63D585D0C034-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,876 [s1@group-63D585D0C034-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-63D585D0C034: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:54,876 [s1@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:54,876 [s1@group-63D585D0C034-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-63D585D0C034-LeaderElection15
2022-12-04 13:25:54,878 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-63D585D0C034-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,878 [s1@group-63D585D0C034-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:25:54,880 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,880 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,884 [s1@group-63D585D0C034-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:25:54,891 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-63D585D0C034: receive requestVote(PRE_VOTE, s1, group-63D585D0C034, 0, (t:0, i:0))
2022-12-04 13:25:54,891 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-63D585D0C034-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:54,891 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-63D585D0C034 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-63D585D0C034:t0, leader=null, voted=, raftlog=Memoized:s2@group-63D585D0C034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,891 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-63D585D0C034: receive requestVote(PRE_VOTE, s1, group-63D585D0C034, 0, (t:0, i:0))
2022-12-04 13:25:54,892 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-63D585D0C034-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:54,892 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-63D585D0C034 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-63D585D0C034:t0, leader=null, voted=, raftlog=Memoized:s0@group-63D585D0C034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,893 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-63D585D0C034-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:54,893 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-12-04 13:25:54,893 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-63D585D0C034-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-12-04 13:25:54,894 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-63D585D0C034-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,895 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,895 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,896 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-63D585D0C034: receive requestVote(ELECTION, s1, group-63D585D0C034, 1, (t:0, i:0))
2022-12-04 13:25:54,896 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-63D585D0C034-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:54,900 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-63D585D0C034: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:54,900 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,901 [s2@group-63D585D0C034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-63D585D0C034-FollowerState was interrupted
2022-12-04 13:25:54,901 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,903 [s2@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,903 [s2@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,904 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-63D585D0C034: receive requestVote(ELECTION, s1, group-63D585D0C034, 1, (t:0, i:0))
2022-12-04 13:25:54,905 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-63D585D0C034-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:25:54,905 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-63D585D0C034: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:25:54,905 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,905 [s0@group-63D585D0C034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-63D585D0C034-FollowerState was interrupted
2022-12-04 13:25:54,905 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-63D585D0C034-FollowerState
2022-12-04 13:25:54,909 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-63D585D0C034 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-63D585D0C034:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-63D585D0C034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,910 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-63D585D0C034 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-63D585D0C034:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-63D585D0C034-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,916 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-63D585D0C034-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:25:54,916 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-04 13:25:54,916 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-63D585D0C034-LeaderElection15 ELECTION round 0: result PASSED
2022-12-04 13:25:54,916 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-63D585D0C034-LeaderElection15
2022-12-04 13:25:54,916 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-63D585D0C034: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-63D585D0C034: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 233ms
2022-12-04 13:25:54,917 [s0@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:54,917 [s0@group-63D585D0C034-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:54,917 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:54,918 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-63D585D0C034-LeaderStateImpl
2022-12-04 13:25:54,919 [s1@group-63D585D0C034-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-63D585D0C034-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:54,927 [s1@group-63D585D0C034-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-63D585D0C034: set configuration 0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,930 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-63D585D0C034: change Leader from null to s1 at term 1 for appendEntries, leader elected after 253ms
2022-12-04 13:25:54,931 [s1@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-63D585D0C034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s1/fe683893-9210-4794-baf6-63d585d0c034/current/log_inprogress_0
2022-12-04 13:25:54,934 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-63D585D0C034: change Leader from null to s1 at term 1 for appendEntries, leader elected after 242ms
2022-12-04 13:25:54,934 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-63D585D0C034: set configuration 0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,934 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-63D585D0C034-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:54,939 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-63D585D0C034: set configuration 0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:54,939 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-63D585D0C034-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:54,949 [s2@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-63D585D0C034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s2/fe683893-9210-4794-baf6-63d585d0c034/current/log_inprogress_0
2022-12-04 13:25:54,950 [s0@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-63D585D0C034-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcd54ee1c1/s0/fe683893-9210-4794-baf6-63d585d0c034/current/log_inprogress_0
2022-12-04 13:25:54,963 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,963 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,968 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-EFFBA8DDC785->s1: receive RaftClientReply:client-EFFBA8DDC785->s1@group-63D585D0C034, cid=88, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-12-04 13:25:54,971 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-EFFBA8DDC785
2022-12-04 13:25:54,973 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-EFFBA8DDC785
2022-12-04 13:25:54,974 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-EFFBA8DDC785->s1: receive RaftClientReply:client-EFFBA8DDC785->s1@group-63D585D0C034, cid=89, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-12-04 13:25:54,975 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-EFFBA8DDC785
2022-12-04 13:25:54,976 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:54,977 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,977 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,980 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,983 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,983 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B8E5EE79D91B->s1: receive RaftClientReply:client-B8E5EE79D91B->s1@group-63D585D0C034, cid=90, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c2]
2022-12-04 13:25:54,987 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,987 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,989 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,989 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,990 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,990 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,994 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,994 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,995 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FEA8C271AE28->s1: receive RaftClientReply:client-FEA8C271AE28->s1@group-63D585D0C034, cid=92, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:54,995 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:54,996 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:54,996 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3CA8586B0EFE->s1: receive RaftClientReply:client-3CA8586B0EFE->s1@group-63D585D0C034, cid=94, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:54,999 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A8C3C9D0E1B->s1: receive RaftClientReply:client-2A8C3C9D0E1B->s1@group-63D585D0C034, cid=96, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,002 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9A83A2E57B5B->s1: receive RaftClientReply:client-9A83A2E57B5B->s1@group-63D585D0C034, cid=98, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,002 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E07DDE20A542->s1: receive RaftClientReply:client-E07DDE20A542->s1@group-63D585D0C034, cid=100, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,013 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,013 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,015 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-38E4B3A852E3->s1: receive RaftClientReply:client-38E4B3A852E3->s1@group-63D585D0C034, cid=102, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,021 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,023 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,025 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2120681B0EB0->s1: receive RaftClientReply:client-2120681B0EB0->s1@group-63D585D0C034, cid=104, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,028 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3D4F7EC4FF47->s1: receive RaftClientReply:client-3D4F7EC4FF47->s1@group-63D585D0C034, cid=106, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,029 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,029 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,034 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E5ABFEC3ADF2->s1: receive RaftClientReply:client-E5ABFEC3ADF2->s1@group-63D585D0C034, cid=108, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,034 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,035 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,045 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FFBF32D1D6B2->s1: receive RaftClientReply:client-FFBF32D1D6B2->s1@group-63D585D0C034, cid=110, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2022-12-04 13:25:55,049 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-63D585D0C034: Failed to acquire a pending write request for RaftClientRequest:client-FFBF32D1D6B2->s1@group-63D585D0C034, cid=111, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-63D585D0C034: Failed to acquire a pending write request for RaftClientRequest:client-FFBF32D1D6B2->s1@group-63D585D0C034, cid=111, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:55,343 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2022-12-04 13:25:55,345 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-B8E5EE79D91B
2022-12-04 13:25:55,346 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-FEA8C271AE28
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-2A8C3C9D0E1B
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-9A83A2E57B5B
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-E07DDE20A542
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 95@client-3CA8586B0EFE
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-38E4B3A852E3
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-2120681B0EB0
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-3D4F7EC4FF47
2022-12-04 13:25:55,347 [s1@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E5ABFEC3ADF2
2022-12-04 13:25:55,349 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B8E5EE79D91B->s1: receive RaftClientReply:client-B8E5EE79D91B->s1@group-63D585D0C034, cid=91, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2022-12-04 13:25:55,350 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E07DDE20A542->s1: receive RaftClientReply:client-E07DDE20A542->s1@group-63D585D0C034, cid=101, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,350 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2120681B0EB0->s1: receive RaftClientReply:client-2120681B0EB0->s1@group-63D585D0C034, cid=105, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,350 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2A8C3C9D0E1B->s1: receive RaftClientReply:client-2A8C3C9D0E1B->s1@group-63D585D0C034, cid=97, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,350 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E5ABFEC3ADF2->s1: receive RaftClientReply:client-E5ABFEC3ADF2->s1@group-63D585D0C034, cid=109, SUCCESS, logIndex=12, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,350 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,352 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,352 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-B8E5EE79D91B
2022-12-04 13:25:55,353 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-38E4B3A852E3->s1: receive RaftClientReply:client-38E4B3A852E3->s1@group-63D585D0C034, cid=103, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,353 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3D4F7EC4FF47->s1: receive RaftClientReply:client-3D4F7EC4FF47->s1@group-63D585D0C034, cid=107, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,353 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-B8E5EE79D91B
2022-12-04 13:25:55,355 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-FEA8C271AE28
2022-12-04 13:25:55,355 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-2A8C3C9D0E1B
2022-12-04 13:25:55,355 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-9A83A2E57B5B
2022-12-04 13:25:55,355 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-E07DDE20A542
2022-12-04 13:25:55,356 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 95@client-3CA8586B0EFE
2022-12-04 13:25:55,356 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-38E4B3A852E3
2022-12-04 13:25:55,356 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-FEA8C271AE28
2022-12-04 13:25:55,356 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-2120681B0EB0
2022-12-04 13:25:55,356 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 2 -> (t:1, i:5), STATEMACHINELOGENTRY, 97@client-2A8C3C9D0E1B
2022-12-04 13:25:55,356 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FEA8C271AE28->s1: receive RaftClientReply:client-FEA8C271AE28->s1@group-63D585D0C034, cid=93, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,356 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9A83A2E57B5B->s1: receive RaftClientReply:client-9A83A2E57B5B->s1@group-63D585D0C034, cid=99, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,356 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3CA8586B0EFE->s1: receive RaftClientReply:client-3CA8586B0EFE->s1@group-63D585D0C034, cid=95, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2022-12-04 13:25:55,356 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-3D4F7EC4FF47
2022-12-04 13:25:55,358 [s2@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E5ABFEC3ADF2
2022-12-04 13:25:55,356 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 99@client-9A83A2E57B5B
2022-12-04 13:25:55,358 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 4 -> (t:1, i:7), STATEMACHINELOGENTRY, 101@client-E07DDE20A542
2022-12-04 13:25:55,359 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 95@client-3CA8586B0EFE
2022-12-04 13:25:55,359 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-38E4B3A852E3
2022-12-04 13:25:55,359 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-2120681B0EB0
2022-12-04 13:25:55,359 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-3D4F7EC4FF47
2022-12-04 13:25:55,359 [s0@group-63D585D0C034-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E5ABFEC3ADF2
2022-12-04 13:25:55,360 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B5071DCCD5F->s1: receive RaftClientReply:client-3B5071DCCD5F->s1@group-63D585D0C034, cid=112, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2022-12-04 13:25:55,370 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-63D585D0C034: Failed to acquire a pending write request for RaftClientRequest:client-3B5071DCCD5F->s1@group-63D585D0C034, cid=113, seq=2, RW, Message:b37e65e79d6aee0b37bc...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-63D585D0C034: Failed to acquire a pending write request for RaftClientRequest:client-3B5071DCCD5F->s1@group-63D585D0C034, cid=113, seq=2, RW, Message:b37e65e79d6aee0b37bc...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:55,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-63D585D0C034:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-63D585D0C034-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-63D585D0C034:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-63D585D0C034-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-63D585D0C034:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-63D585D0C034-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34769|admin:localhost:45591|client:localhost:37281|dataStream:localhost:33847|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:42783|admin:localhost:40463|client:localhost:35343|dataStream:localhost:44847|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46337|admin:localhost:36303|client:localhost:44701|dataStream:localhost:45505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:55,671 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:55,677 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:55,677 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-63D585D0C034: shutdown
2022-12-04 13:25:55,677 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s0
2022-12-04 13:25:55,677 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-63D585D0C034-FollowerState
2022-12-04 13:25:55,677 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-63D585D0C034-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:55,677 [s0@group-63D585D0C034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-63D585D0C034-FollowerState was interrupted
2022-12-04 13:25:55,677 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-63D585D0C034: applyIndex: 14
2022-12-04 13:25:55,677 [s0@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-63D585D0C034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:55,680 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:55,680 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:55,681 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:25:55,682 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:25:55,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-63D585D0C034-SegmentedRaftLogWorker close()
2022-12-04 13:25:55,683 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:55,683 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:25:55,683 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:55,684 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-63D585D0C034: shutdown
2022-12-04 13:25:55,684 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s2
2022-12-04 13:25:55,684 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-63D585D0C034-FollowerState
2022-12-04 13:25:55,684 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-63D585D0C034-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:55,684 [s2@group-63D585D0C034-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-63D585D0C034-FollowerState was interrupted
2022-12-04 13:25:55,684 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: s1->s0#24-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-04 13:25:55,685 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-63D585D0C034: shutdown
2022-12-04 13:25:55,685 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-63D585D0C034,id=s1
2022-12-04 13:25:55,685 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-63D585D0C034-LeaderStateImpl
2022-12-04 13:25:55,685 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-63D585D0C034-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:55,685 [s1@group-63D585D0C034->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-63D585D0C034->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:55,685 [s1@group-63D585D0C034->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-63D585D0C034->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:25:55,686 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:55,686 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:55,686 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#21-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-12-04 13:25:55,686 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-63D585D0C034: applyIndex: 14
2022-12-04 13:25:55,686 [s2@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-63D585D0C034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:55,687 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:25:55,687 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-63D585D0C034->s0-GrpcLogAppender is already stopped
2022-12-04 13:25:55,687 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:55,687 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:55,687 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s2: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-04 13:25:55,687 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s0: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2022-12-04 13:25:55,688 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:55,688 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:55,690 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-63D585D0C034-StateMachineUpdater: set stopIndex = 14
2022-12-04 13:25:55,690 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-63D585D0C034->s0-GrpcLogAppender is already stopped
2022-12-04 13:25:55,690 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-63D585D0C034->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:25:55,690 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s1@group-63D585D0C034->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:55,690 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-63D585D0C034->s2-GrpcLogAppender is already stopped
2022-12-04 13:25:55,690 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-63D585D0C034: applyIndex: 14
2022-12-04 13:25:55,690 [s1@group-63D585D0C034-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-63D585D0C034-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:55,691 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:55,691 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:55,691 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:55,691 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:55,691 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-63D585D0C034-SegmentedRaftLogWorker close()
2022-12-04 13:25:55,692 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:55,692 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-63D585D0C034-SegmentedRaftLogWorker close()
2022-12-04 13:25:55,693 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:25:55,694 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:55,694 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:55,695 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:55,695 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:25:55,695 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:55,696 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:55,696 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:55,696 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BF486267C723:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BF486267C723:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:55,698 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0
2022-12-04 13:25:55,698 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0 does not exist.
2022-12-04 13:25:55,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0
2022-12-04 13:25:55,699 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33541 (custom)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41391 (custom)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:55,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33823 (custom)
2022-12-04 13:25:55,699 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:55,699 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:55,699 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:55,699 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:55,700 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:55,700 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:55,700 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:55,701 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0] (custom)
2022-12-04 13:25:55,702 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-BF486267C723:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER] returns group-BF486267C723:java.util.concurrent.CompletableFuture@d275276[Not completed]
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-BF486267C723:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BF486267C723: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:55,702 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:55,703 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:55,703 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:55,703 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:55,703 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:55,704 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:55,704 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:55,704 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:55,704 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:55,704 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:55,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:55,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:55,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0] (custom)
2022-12-04 13:25:55,704 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723 does not exist. Creating ...
2022-12-04 13:25:55,705 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723
2022-12-04 13:25:55,706 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:55,706 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723/current
2022-12-04 13:25:55,706 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723/sm
2022-12-04 13:25:55,707 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723 has been successfully formatted.
2022-12-04 13:25:55,707 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:55,707 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:55,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:55,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-BF486267C723-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:55,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:55,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:55,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:55,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:55,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:55,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BF486267C723-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BF486267C723-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-BF486267C723: start as a follower, conf=-1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BF486267C723: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BF486267C723-FollowerState
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BF486267C723,id=s0
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:55,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:55,711 [s0@group-BF486267C723-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:55,711 [s0@group-BF486267C723-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:55,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:55,711 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41391
2022-12-04 13:25:55,711 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33823
2022-12-04 13:25:55,712 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33541
2022-12-04 13:25:55,712 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:55,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:55,713 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BF486267C723:t0, leader=null, voted=, raftlog=Memoized:s0@group-BF486267C723-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:55,713 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BF486267C723:t0, leader=null, voted=, raftlog=Memoized:s0@group-BF486267C723-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BF486267C723:t0, leader=null, voted=, raftlog=Memoized:s0@group-BF486267C723-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:56,003 [s0@group-BF486267C723-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BF486267C723-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293015896ns, electionTimeout:292ms
2022-12-04 13:25:56,003 [s0@group-BF486267C723-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BF486267C723-FollowerState
2022-12-04 13:25:56,003 [s0@group-BF486267C723-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BF486267C723: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:56,003 [s0@group-BF486267C723-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:56,003 [s0@group-BF486267C723-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BF486267C723-LeaderElection16
2022-12-04 13:25:56,004 [s0@group-BF486267C723-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BF486267C723-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,004 [s0@group-BF486267C723-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BF486267C723-LeaderElection16 PRE_VOTE round 0: result PASSED (term=0)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BF486267C723-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BF486267C723-LeaderElection16 ELECTION round 0: result PASSED (term=1)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BF486267C723-LeaderElection16
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BF486267C723: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-BF486267C723: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 303ms
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:56,006 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:56,007 [s0@group-BF486267C723-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BF486267C723-LeaderStateImpl
2022-12-04 13:25:56,007 [s0@group-BF486267C723-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-BF486267C723-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:56,011 [s0@group-BF486267C723-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-BF486267C723: set configuration 0: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,016 [s0@group-BF486267C723-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-BF486267C723-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpcb16a1ada/s0/6bc0880f-46fb-407a-ad87-bf486267c723/current/log_inprogress_0
2022-12-04 13:25:56,164 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BF486267C723:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BF486267C723-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33541 (custom)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41391 (custom)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33823 (custom)
2022-12-04 13:25:56,164 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:56,164 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:56,166 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-12-04 13:25:56,166 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:56,166 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-12-04 13:25:56,166 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:56,166 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:25:56,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:25:56,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:25:56,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:25:56,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:25:56,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BF486267C723:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BF486267C723-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33823|admin:localhost:33541|client:localhost:41391|dataStream:localhost:33885|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:56,169 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:25:56,170 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-BF486267C723: shutdown
2022-12-04 13:25:56,170 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BF486267C723,id=s0
2022-12-04 13:25:56,170 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-BF486267C723-LeaderStateImpl
2022-12-04 13:25:56,170 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-BF486267C723-PendingRequests: sendNotLeaderResponses
2022-12-04 13:25:56,170 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-BF486267C723-StateMachineUpdater: set stopIndex = 0
2022-12-04 13:25:56,171 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-BF486267C723: applyIndex: 0
2022-12-04 13:25:56,171 [s0@group-BF486267C723-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-BF486267C723-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:25:56,171 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-BF486267C723-SegmentedRaftLogWorker close()
2022-12-04 13:25:56,172 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:56,172 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:56,172 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:56,173 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:56,173 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:56,173 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:56,173 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:25:56,173 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:25:56,174 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:25:56,174 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:25:56,174 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:25:56,174 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:25:56,176 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:25:56,177 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0
2022-12-04 13:25:56,177 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0 does not exist.
2022-12-04 13:25:56,177 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0
2022-12-04 13:25:56,177 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:56,178 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,178 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34121 (custom)
2022-12-04 13:25:56,178 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,178 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33171 (custom)
2022-12-04 13:25:56,179 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37667 (custom)
2022-12-04 13:25:56,179 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:56,179 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:56,180 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:56,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:56,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:56,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0] (custom)
2022-12-04 13:25:56,181 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] returns group-A53D76823CC9:java.util.concurrent.CompletableFuture@43835d0c[Not completed]
2022-12-04 13:25:56,181 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:56,181 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:56,181 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:56,181 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:56,181 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:56,182 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A53D76823CC9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:56,183 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:56,183 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:56,183 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:56,183 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:56,183 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:56,184 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:56,184 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:56,184 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:56,184 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:56,184 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:56,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:56,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:56,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0] (custom)
2022-12-04 13:25:56,184 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9 does not exist. Creating ...
2022-12-04 13:25:56,185 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
2022-12-04 13:25:56,186 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:25:56,187 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/current
2022-12-04 13:25:56,187 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/sm
2022-12-04 13:25:56,188 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9 has been successfully formatted.
2022-12-04 13:25:56,188 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:25:56,188 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:25:56,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-A53D76823CC9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:25:56,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:25:56,190 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:56,191 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:25:56,196 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-A53D76823CC9: start as a follower, conf=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,196 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A53D76823CC9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:25:56,196 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A53D76823CC9-FollowerState
2022-12-04 13:25:56,200 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A53D76823CC9,id=s0
2022-12-04 13:25:56,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:25:56,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:25:56,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:25:56,201 [s0@group-A53D76823CC9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:25:56,201 [s0@group-A53D76823CC9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:25:56,201 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:25:56,202 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33171
2022-12-04 13:25:56,202 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37667
2022-12-04 13:25:56,204 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34121
2022-12-04 13:25:56,204 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:25:56,207 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:56,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A53D76823CC9:t0, leader=null, voted=, raftlog=Memoized:s0@group-A53D76823CC9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:56,207 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A53D76823CC9:t0, leader=null, voted=, raftlog=Memoized:s0@group-A53D76823CC9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A53D76823CC9:t0, leader=null, voted=, raftlog=Memoized:s0@group-A53D76823CC9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:56,410 [s0@group-A53D76823CC9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A53D76823CC9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213960984ns, electionTimeout:209ms
2022-12-04 13:25:56,411 [s0@group-A53D76823CC9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A53D76823CC9-FollowerState
2022-12-04 13:25:56,411 [s0@group-A53D76823CC9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A53D76823CC9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:25:56,411 [s0@group-A53D76823CC9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:25:56,411 [s0@group-A53D76823CC9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A53D76823CC9-LeaderElection17
2022-12-04 13:25:56,412 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A53D76823CC9-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,412 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A53D76823CC9-LeaderElection17 PRE_VOTE round 0: result PASSED (term=0)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A53D76823CC9-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A53D76823CC9-LeaderElection17 ELECTION round 0: result PASSED (term=1)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A53D76823CC9-LeaderElection17
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-A53D76823CC9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A53D76823CC9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 231ms
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:25:56,414 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:25:56,415 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:25:56,415 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:25:56,415 [s0@group-A53D76823CC9-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A53D76823CC9-LeaderStateImpl
2022-12-04 13:25:56,415 [s0@group-A53D76823CC9-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:25:56,416 [s0@group-A53D76823CC9-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-A53D76823CC9: set configuration 0: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:25:56,424 [s0@group-A53D76823CC9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/current/log_inprogress_0
2022-12-04 13:25:56,658 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A53D76823CC9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A53D76823CC9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:25:56,658 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34121 (custom)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33171 (custom)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37667 (custom)
2022-12-04 13:25:56,659 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:56,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:56,660 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:56,660 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:56,660 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:56,660 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,661 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0] (custom)
2022-12-04 13:25:56,661 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
2022-12-04 13:25:56,661 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] returns group-A53D76823CC9:java.util.concurrent.CompletableFuture@6efffb9b[Not completed]
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-A53D76823CC9
2022-12-04 13:25:56,662 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A53D76823CC9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:56,662 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:56,663 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:56,663 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:56,663 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:56,663 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:56,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:25:56,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:25:56,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:25:56,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:25:56,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:25:56,665 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-12-04 13:25:56,665 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:25:56,665 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,666 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34121 (custom)
2022-12-04 13:25:56,666 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:25:56,666 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33171 (custom)
2022-12-04 13:25:56,666 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:25:56,666 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37667 (custom)
2022-12-04 13:25:56,667 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:25:56,667 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0] (custom)
2022-12-04 13:25:56,669 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
2022-12-04 13:25:56,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] returns group-A53D76823CC9:java.util.concurrent.CompletableFuture@64c9ac15[Not completed]
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A53D76823CC9:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-A53D76823CC9
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A53D76823CC9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:25:56,669 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:25:56,670 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:25:56,670 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:25:56,670 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:25:56,671 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0] (custom)
2022-12-04 13:25:56,671 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:56,671 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:57,672 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:57,673 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:58,673 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:58,674 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:25:59,674 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:25:59,675 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:26:00,675 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:00,676 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc8f342b3/s0/a4430d97-70b0-4d62-9d1a-a53d76823cc9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:140)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34121 (custom)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33171 (custom)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37667 (custom)
2022-12-04 13:26:00,677 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:26:00,677 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:26:00,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A53D76823CC9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A53D76823CC9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37667|admin:localhost:34121|client:localhost:33171|dataStream:localhost:46373|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:00,679 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:26:00,679 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-A53D76823CC9: shutdown
2022-12-04 13:26:00,679 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A53D76823CC9,id=s0
2022-12-04 13:26:00,679 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A53D76823CC9-LeaderStateImpl
2022-12-04 13:26:00,680 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A53D76823CC9-PendingRequests: sendNotLeaderResponses
2022-12-04 13:26:00,680 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A53D76823CC9-StateMachineUpdater: set stopIndex = 0
2022-12-04 13:26:00,680 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-A53D76823CC9: applyIndex: 0
2022-12-04 13:26:00,681 [s0@group-A53D76823CC9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:26:00,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-A53D76823CC9-SegmentedRaftLogWorker close()
2022-12-04 13:26:00,683 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:26:00,684 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-12-04 13:26:00,684 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2022-12-04 13:26:00,684 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2022-12-04 13:26:00,684 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-12-04 13:26:00,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:26:00,685 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0
2022-12-04 13:26:00,686 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0 does not exist.
2022-12-04 13:26:00,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0
2022-12-04 13:26:00,686 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37933 (custom)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36921 (custom)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:26:00,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34641 (custom)
2022-12-04 13:26:00,686 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:00,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:00,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:26:00,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:26:00,688 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:26:00,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:26:00,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:26:00,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0] (custom)
2022-12-04 13:26:00,689 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] returns group-DAA323F4DC1F:java.util.concurrent.CompletableFuture@527a2a26[Not completed]
2022-12-04 13:26:00,689 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:26:00,689 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1
2022-12-04 13:26:00,689 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1 does not exist.
2022-12-04 13:26:00,689 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1
2022-12-04 13:26:00,690 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35563 (custom)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34615 (custom)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33389 (custom)
2022-12-04 13:26:00,690 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:26:00,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,691 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1] (custom)
2022-12-04 13:26:00,691 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-DAA323F4DC1F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:26:00,692 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:26:00,693 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:00,694 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:26:00,694 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:26:00,694 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:26:00,694 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:26:00,698 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] returns group-DAA323F4DC1F:java.util.concurrent.CompletableFuture@2625bec0[Not completed]
2022-12-04 13:26:00,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER], format? true
2022-12-04 13:26:00,698 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(186)) - deleteFully target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2
2022-12-04 13:26:00,698 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(202)) - deleteFully: target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2 does not exist.
2022-12-04 13:26:00,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2
2022-12-04 13:26:00,698 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-12-04 13:26:00,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40407 (custom)
2022-12-04 13:26:00,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-12-04 13:26:00,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43739 (custom)
2022-12-04 13:26:00,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39065 (custom)
2022-12-04 13:26:00,699 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-12-04 13:26:00,699 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-12-04 13:26:00,699 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,699 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,699 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:00,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2] (custom)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-DAA323F4DC1F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:26:00,700 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:26:00,701 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:26:00,702 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:00,702 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:26:00,702 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:26:00,702 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:26:00,702 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:26:00,703 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] returns group-DAA323F4DC1F:java.util.concurrent.CompletableFuture@7ccc2210[Not completed]
2022-12-04 13:26:00,703 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,703 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:26:00,703 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:26:00,703 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-DAA323F4DC1F:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,703 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-12-04 13:26:00,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0] (custom)
2022-12-04 13:26:00,703 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f does not exist. Creating ...
2022-12-04 13:26:00,704 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,705 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:26:00,705 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current
2022-12-04 13:26:00,705 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/sm
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f has been successfully formatted.
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:26:00,707 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:26:00,708 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-DAA323F4DC1F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:26:00,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:26:00,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:26:00,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:26:00,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:26:00,711 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,713 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,716 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-DAA323F4DC1F: start as a follower, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,716 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DAA323F4DC1F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:26:00,716 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,717 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s0
2022-12-04 13:26:00,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:26:00,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:26:00,717 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:26:00,717 [s0@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,717 [s0@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,717 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:00,717 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-12-04 13:26:00,717 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-12-04 13:26:00,717 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-DAA323F4DC1F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-12-04 13:26:00,718 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-12-04 13:26:00,719 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:00,719 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-12-04 13:26:00,719 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-12-04 13:26:00,719 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-12-04 13:26:00,719 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-12-04 13:26:00,719 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-12-04 13:26:00,719 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36921
2022-12-04 13:26:00,720 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34641
2022-12-04 13:26:00,720 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37933
2022-12-04 13:26:00,720 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:26:00,720 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:26:00,720 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1] (custom)
2022-12-04 13:26:00,721 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f does not exist. Creating ...
2022-12-04 13:26:00,721 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,721 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-12-04 13:26:00,722 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:26:00,722 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current
2022-12-04 13:26:00,722 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/sm
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f has been successfully formatted.
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:26:00,723 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-DAA323F4DC1F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,725 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-DAA323F4DC1F: start as a follower, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,726 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DAA323F4DC1F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:26:00,726 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,728 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s1
2022-12-04 13:26:00,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:26:00,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:26:00,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:26:00,729 [s1@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,729 [s1@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,732 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-12-04 13:26:00,733 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34615
2022-12-04 13:26:00,733 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33389
2022-12-04 13:26:00,733 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35563
2022-12-04 13:26:00,733 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-12-04 13:26:00,733 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-12-04 13:26:00,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-12-04 13:26:00,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2] (custom)
2022-12-04 13:26:00,734 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f does not exist. Creating ...
2022-12-04 13:26:00,734 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,736 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/in_use.lock acquired by nodename 6658@fv-az203-367
2022-12-04 13:26:00,736 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current
2022-12-04 13:26:00,736 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/sm
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f has been successfully formatted.
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-12-04 13:26:00,738 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-DAA323F4DC1F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-12-04 13:26:00,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-DAA323F4DC1F: start as a follower, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DAA323F4DC1F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-12-04 13:26:00,740 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,744 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,744 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s2
2022-12-04 13:26:00,744 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-12-04 13:26:00,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-12-04 13:26:00,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-12-04 13:26:00,745 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-12-04 13:26:00,745 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43739
2022-12-04 13:26:00,745 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39065
2022-12-04 13:26:00,746 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40407
2022-12-04 13:26:00,748 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-12-04 13:26:00,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:00,750 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:00,751 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:00,882 [s1@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DAA323F4DC1F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156408717ns, electionTimeout:153ms
2022-12-04 13:26:00,882 [s1@group-DAA323F4DC1F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,882 [s1@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DAA323F4DC1F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-12-04 13:26:00,883 [s1@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:26:00,883 [s1@group-DAA323F4DC1F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DAA323F4DC1F-LeaderElection18
2022-12-04 13:26:00,883 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-DAA323F4DC1F-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,884 [s1@group-DAA323F4DC1F-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:26:00,885 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,885 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,885 [s1@group-DAA323F4DC1F-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-12-04 13:26:00,888 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-DAA323F4DC1F: receive requestVote(PRE_VOTE, s1, group-DAA323F4DC1F, 0, (t:0, i:0))
2022-12-04 13:26:00,888 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DAA323F4DC1F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:26:00,888 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-DAA323F4DC1F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,889 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DAA323F4DC1F-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:26:00,889 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2022-12-04 13:26:00,889 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-DAA323F4DC1F-LeaderElection18 PRE_VOTE round 0: result PASSED
2022-12-04 13:26:00,891 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-DAA323F4DC1F-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,895 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-DAA323F4DC1F: receive requestVote(PRE_VOTE, s1, group-DAA323F4DC1F, 0, (t:0, i:0))
2022-12-04 13:26:00,896 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DAA323F4DC1F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:26:00,896 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-DAA323F4DC1F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-DAA323F4DC1F:t0, leader=null, voted=, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,898 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-DAA323F4DC1F: receive requestVote(ELECTION, s1, group-DAA323F4DC1F, 1, (t:0, i:0))
2022-12-04 13:26:00,898 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DAA323F4DC1F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:26:00,898 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DAA323F4DC1F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:26:00,898 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,898 [s0@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:00,898 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,899 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,899 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,899 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s2@group-DAA323F4DC1F: receive requestVote(ELECTION, s1, group-DAA323F4DC1F, 1, (t:0, i:0))
2022-12-04 13:26:00,903 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DAA323F4DC1F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-12-04 13:26:00,904 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DAA323F4DC1F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-12-04 13:26:00,904 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,904 [s2@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:00,904 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:00,904 [s0@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,904 [s0@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,905 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-12-04 13:26:00,905 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-12-04 13:26:00,905 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s2@group-DAA323F4DC1F replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-DAA323F4DC1F:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,906 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-DAA323F4DC1F replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-DAA323F4DC1F:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DAA323F4DC1F-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-DAA323F4DC1F-LeaderElection18 ELECTION round 0: result PASSED
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DAA323F4DC1F-LeaderElection18
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DAA323F4DC1F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DAA323F4DC1F: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 206ms
2022-12-04 13:26:00,907 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:00,908 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DAA323F4DC1F-LeaderStateImpl
2022-12-04 13:26:00,909 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:26:00,916 [s1@group-DAA323F4DC1F-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-DAA323F4DC1F: set configuration 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,920 [s1@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0
2022-12-04 13:26:00,933 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DAA323F4DC1F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 240ms
2022-12-04 13:26:00,933 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DAA323F4DC1F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 215ms
2022-12-04 13:26:00,934 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-DAA323F4DC1F: set configuration 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,934 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:26:00,937 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-DAA323F4DC1F: set configuration 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:00,937 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: Starting segment from index:0
2022-12-04 13:26:00,952 [s2@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0
2022-12-04 13:26:00,953 [s0@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0
2022-12-04 13:26:01,201 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,202 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:01,202 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:01,208 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-8D21C4803FD5->s0: receive RaftClientReply:client-8D21C4803FD5->s0@group-DAA323F4DC1F, cid=114, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DAA323F4DC1F is not the leader s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-12-04 13:26:01,210 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:01,210 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:01,214 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-8D21C4803FD5->s1: receive RaftClientReply:client-8D21C4803FD5->s1@group-DAA323F4DC1F, cid=114, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-12-04 13:26:01,219 [s1@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-8D21C4803FD5
2022-12-04 13:26:01,220 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-8D21C4803FD5->s1: receive RaftClientReply:client-8D21C4803FD5->s1@group-DAA323F4DC1F, cid=115, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-12-04 13:26:01,221 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:01,221 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:01,223 [s0@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-8D21C4803FD5
2022-12-04 13:26:01,226 [s2@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-8D21C4803FD5
2022-12-04 13:26:01,229 [s1@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-C62D70E28212
2022-12-04 13:26:01,230 [s0@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-C62D70E28212
2022-12-04 13:26:01,231 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C62D70E28212->s1: receive RaftClientReply:client-C62D70E28212->s1@group-DAA323F4DC1F, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2022-12-04 13:26:01,231 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2022-12-04 13:26:01,231 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2022-12-04 13:26:01,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:01,232 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,232 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,232 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:01,232 [s2@group-DAA323F4DC1F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-C62D70E28212
2022-12-04 13:26:01,307 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-12-04 13:26:01,308 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2022-12-04 13:26:01,332 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:01,332 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,333 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,333 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:01,433 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,433 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,434 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:01,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:01,534 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,535 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,535 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-12-04 13:26:01,536 [s2@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-DAA323F4DC1F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:304471007ns, electionTimeout:215ms
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DAA323F4DC1F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DAA323F4DC1F-LeaderElection19
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DAA323F4DC1F: change Leader from s1 to null at term 1 for PRE_VOTE
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-DAA323F4DC1F-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,537 [s2@group-DAA323F4DC1F-LeaderElection19-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-12-04 13:26:01,538 [s2@group-DAA323F4DC1F-LeaderElection19-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-12-04 13:26:01,543 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-DAA323F4DC1F: receive requestVote(PRE_VOTE, s2, group-DAA323F4DC1F, 1, (t:1, i:4))
2022-12-04 13:26:01,543 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s1@group-DAA323F4DC1F-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 635ms. Conf: 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,543 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-DAA323F4DC1F->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=9, lastRpcResponseTime=312)
2022-12-04 13:26:01,543 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s1@group-DAA323F4DC1F->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=8, lastRpcResponseTime=310)
2022-12-04 13:26:01,543 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DAA323F4DC1F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-12-04 13:26:01,543 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-DAA323F4DC1F-LeaderStateImpl
2022-12-04 13:26:01,543 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-DAA323F4DC1F-PendingRequests: sendNotLeaderResponses
2022-12-04 13:26:01,543 [s1@group-DAA323F4DC1F->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-DAA323F4DC1F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:26:01,545 [s1@group-DAA323F4DC1F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-DAA323F4DC1F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:26:01,545 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-04 13:26:01,546 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DAA323F4DC1F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:01,546 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DAA323F4DC1F->s0: nextIndex: updateUnconditionally 5 -> 4
2022-12-04 13:26:01,546 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-12-04 13:26:01,547 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,548 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-DAA323F4DC1F: receive requestVote(PRE_VOTE, s2, group-DAA323F4DC1F, 1, (t:1, i:4))
2022-12-04 13:26:01,549 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DAA323F4DC1F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:26:01,549 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-DAA323F4DC1F replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,549 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-DAA323F4DC1F-LeaderElection19: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:26:01,549 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-12-04 13:26:01,549 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-DAA323F4DC1F-LeaderElection19 PRE_VOTE round 0: result PASSED
2022-12-04 13:26:01,550 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DAA323F4DC1F-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-12-04 13:26:01,550 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-DAA323F4DC1F replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-DAA323F4DC1F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,551 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DAA323F4DC1F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:01,551 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DAA323F4DC1F->s2: nextIndex: updateUnconditionally 5 -> 4
2022-12-04 13:26:01,551 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-DAA323F4DC1F-LeaderElection19 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,552 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s0@group-DAA323F4DC1F: receive requestVote(ELECTION, s2, group-DAA323F4DC1F, 2, (t:1, i:4))
2022-12-04 13:26:01,552 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1294)) - s1@group-DAA323F4DC1F: receive requestVote(ELECTION, s2, group-DAA323F4DC1F, 2, (t:1, i:4))
2022-12-04 13:26:01,552 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DAA323F4DC1F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:26:01,552 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DAA323F4DC1F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-12-04 13:26:01,552 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DAA323F4DC1F: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-04 13:26:01,552 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DAA323F4DC1F: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-12-04 13:26:01,553 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DAA323F4DC1F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-12-04 13:26:01,553 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,553 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,553 [s0@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:01,553 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DAA323F4DC1F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-12-04 13:26:01,553 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,553 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:01,553 [s1@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:01,555 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s0@group-DAA323F4DC1F replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-DAA323F4DC1F:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-DAA323F4DC1F-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-DAA323F4DC1F-LeaderElection19 ELECTION round 0: result PASSED
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-DAA323F4DC1F-LeaderElection19
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DAA323F4DC1F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DAA323F4DC1F: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 20ms
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-12-04 13:26:01,557 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-12-04 13:26:01,558 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DAA323F4DC1F-LeaderStateImpl
2022-12-04 13:26:01,559 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:26:01,560 [s2@group-DAA323F4DC1F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,560 [s2@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,560 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1327)) - s1@group-DAA323F4DC1F replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-DAA323F4DC1F:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,570 [s2@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s2/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_5
2022-12-04 13:26:01,571 [s2@group-DAA323F4DC1F-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s2@group-DAA323F4DC1F: set configuration 5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,573 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DAA323F4DC1F: change Leader from null to s2 at term 2 for appendEntries, leader elected after 20ms
2022-12-04 13:26:01,574 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s0@group-DAA323F4DC1F: set configuration 5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,574 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:26:01,575 [s0@group-DAA323F4DC1F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,575 [s0@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,579 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DAA323F4DC1F: change Leader from null to s2 at term 2 for appendEntries, leader elected after 26ms
2022-12-04 13:26:01,585 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(377)) - s1@group-DAA323F4DC1F: set configuration 5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-12-04 13:26:01,585 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-12-04 13:26:01,586 [s0@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s0/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_5
2022-12-04 13:26:01,586 [s1@group-DAA323F4DC1F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,587 [s1@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_0-4
2022-12-04 13:26:01,598 [s1@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/fbf6a140/MiniRaftClusterWithGrpc996014b7/s1/0a69cea3-b434-496a-9ab4-daa323f4dc1f/current/log_inprogress_5
2022-12-04 13:26:01,635 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-12-04 13:26:01,635 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:01,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-12-04 13:26:01,636 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2022-12-04 13:26:01,636 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-12-04 13:26:01,636 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-C62D70E28212->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-C62D70E28212->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-12-04 13:26:01,636 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2022-12-04 13:26:01,637 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-12-04 13:26:01,637 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-12-04 13:26:01,639 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-12-04 13:26:01,908 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-12-04 13:26:01,908 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2022-12-04 13:26:01,910 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:26:01,911 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DAA323F4DC1F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:01,911 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DAA323F4DC1F->s0: nextIndex: updateUnconditionally 4 -> 3
2022-12-04 13:26:01,911 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:26:01,912 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DAA323F4DC1F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:01,912 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DAA323F4DC1F->s2: nextIndex: updateUnconditionally 4 -> 3
2022-12-04 13:26:02,640 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-C62D70E28212->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-C62D70E28212->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-12-04 13:26:02,643 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C62D70E28212->s1: receive RaftClientReply:client-C62D70E28212->s1@group-DAA323F4DC1F, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-12-04 13:26:05,641 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1033, target=localhost:34615}}. 
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-12-04 13:26:05,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-DAA323F4DC1F:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-DAA323F4DC1F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34641|admin:localhost:37933|client:localhost:36921|dataStream:localhost:44461|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:33389|admin:localhost:35563|client:localhost:34615|dataStream:localhost:40621|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39065|admin:localhost:40407|client:localhost:43739|dataStream:localhost:38625|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-12-04 13:26:05,644 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-12-04 13:26:05,647 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-DAA323F4DC1F: shutdown
2022-12-04 13:26:05,647 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s1
2022-12-04 13:26:05,647 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:05,648 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-DAA323F4DC1F-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:26:05,648 [s1@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:05,648 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-12-04 13:26:05,648 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s1@group-DAA323F4DC1F: applyIndex: 6
2022-12-04 13:26:05,648 [s1@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:26:05,648 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-12-04 13:26:05,649 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-DAA323F4DC1F: shutdown
2022-12-04 13:26:05,649 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-DAA323F4DC1F: shutdown
2022-12-04 13:26:05,649 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s2
2022-12-04 13:26:05,649 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-DAA323F4DC1F-LeaderStateImpl
2022-12-04 13:26:05,649 [s2@group-DAA323F4DC1F->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-DAA323F4DC1F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:26:05,648 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:26:05,650 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-04 13:26:05,650 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:26:05,650 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-DAA323F4DC1F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:05,650 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-DAA323F4DC1F->s0: nextIndex: updateUnconditionally 7 -> 6
2022-12-04 13:26:05,650 [s2@group-DAA323F4DC1F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-DAA323F4DC1F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-12-04 13:26:05,649 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:26:05,649 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-DAA323F4DC1F-SegmentedRaftLogWorker close()
2022-12-04 13:26:05,651 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-12-04 13:26:05,649 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-DAA323F4DC1F-PendingRequests: sendNotLeaderResponses
2022-12-04 13:26:05,649 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DAA323F4DC1F,id=s0
2022-12-04 13:26:05,651 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DAA323F4DC1F-FollowerState
2022-12-04 13:26:05,651 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-DAA323F4DC1F-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:26:05,651 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-DAA323F4DC1F-StateMachineUpdater: set stopIndex = 6
2022-12-04 13:26:05,651 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s2@group-DAA323F4DC1F: applyIndex: 6
2022-12-04 13:26:05,651 [s2@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:26:05,652 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-DAA323F4DC1F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:05,649 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-12-04 13:26:05,655 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:26:05,655 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-12-04 13:26:05,654 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-DAA323F4DC1F-SegmentedRaftLogWorker close()
2022-12-04 13:26:05,653 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-DAA323F4DC1F->s1: nextIndex: updateUnconditionally 7 -> 6
2022-12-04 13:26:05,656 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:26:05,656 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2022-12-04 13:26:05,656 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2022-12-04 13:26:05,651 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(413)) - s0@group-DAA323F4DC1F: applyIndex: 6
2022-12-04 13:26:05,651 [s0@group-DAA323F4DC1F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DAA323F4DC1F-FollowerState was interrupted
2022-12-04 13:26:05,656 [s0@group-DAA323F4DC1F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-12-04 13:26:05,657 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-DAA323F4DC1F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:05,657 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-DAA323F4DC1F->s1: nextIndex: updateUnconditionally 6 -> 5
2022-12-04 13:26:05,657 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-DAA323F4DC1F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-12-04 13:26:05,657 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-DAA323F4DC1F->s0: nextIndex: updateUnconditionally 6 -> 5
2022-12-04 13:26:05,657 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:26:05,657 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2022-12-04 13:26:05,661 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-DAA323F4DC1F-SegmentedRaftLogWorker close()
2022-12-04 13:26:05,661 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:26:05,661 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:26:05,662 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:26:05,662 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-12-04 13:26:05,663 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:26:05,663 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2022-12-04 13:26:05,663 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2022-12-04 13:26:05,663 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-12-04 13:26:05,663 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2022-12-04 13:26:05,663 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:26:05,663 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2022-12-04 13:26:05,663 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:26:05,663 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-12-04 13:26:05,664 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-12-04 13:26:05,665 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-12-04 13:26:05,665 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-12-04 13:26:05,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
