2022-06-20 14:45:24,208 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:24,211 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:24,215 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:24,215 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:24,218 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(223)) - Running testEnforceLeader
2022-06-20 14:45:24,231 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:24,276 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0]
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:24,277 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:24,283 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s3, group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], format? true
2022-06-20 14:45:24,284 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3
2022-06-20 14:45:24,287 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3 does not exist.
2022-06-20 14:45:24,289 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3
2022-06-20 14:45:24,304 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:24,333 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:24,357 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:24,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:24,363 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,366 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,372 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3] (custom)
2022-06-20 14:45:24,380 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] returns group-AD521306E148:java.util.concurrent.CompletableFuture@71404251[Not completed]
2022-06-20 14:45:24,380 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s4, group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], format? true
2022-06-20 14:45:24,380 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4
2022-06-20 14:45:24,381 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4 does not exist.
2022-06-20 14:45:24,381 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4
2022-06-20 14:45:24,381 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:24,381 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:24,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:24,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:24,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,382 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4] (custom)
2022-06-20 14:45:24,394 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s3: new RaftServerImpl for group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:24,395 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:24,395 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,395 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:24,396 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,396 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,397 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:24,400 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] returns group-AD521306E148:java.util.concurrent.CompletableFuture@10bbf83a[Not completed]
2022-06-20 14:45:24,400 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], format? true
2022-06-20 14:45:24,400 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0
2022-06-20 14:45:24,400 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s4: new RaftServerImpl for group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:24,400 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0 does not exist.
2022-06-20 14:45:24,401 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0
2022-06-20 14:45:24,401 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:24,401 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:24,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:24,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:24,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0] (custom)
2022-06-20 14:45:24,402 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:24,404 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,404 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:24,404 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,404 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,404 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:24,408 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s4@group-AD521306E148: ConfigurationManager, init=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:24,408 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4] (custom)
2022-06-20 14:45:24,411 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s3@group-AD521306E148: ConfigurationManager, init=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:24,411 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3] (custom)
2022-06-20 14:45:24,415 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:24,416 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:24,418 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:24,418 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:24,420 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148 does not exist. Creating ...
2022-06-20 14:45:24,420 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148 does not exist. Creating ...
2022-06-20 14:45:24,422 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,422 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] returns group-AD521306E148:java.util.concurrent.CompletableFuture@3f8d8f7b[Not completed]
2022-06-20 14:45:24,422 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], format? true
2022-06-20 14:45:24,423 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1
2022-06-20 14:45:24,423 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1 does not exist.
2022-06-20 14:45:24,423 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1
2022-06-20 14:45:24,423 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:24,423 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:24,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:24,424 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:24,424 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,424 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,424 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1] (custom)
2022-06-20 14:45:24,425 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,426 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,427 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] returns group-AD521306E148:java.util.concurrent.CompletableFuture@4b27d794[Not completed]
2022-06-20 14:45:24,427 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], format? true
2022-06-20 14:45:24,428 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2
2022-06-20 14:45:24,428 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2 does not exist.
2022-06-20 14:45:24,428 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2
2022-06-20 14:45:24,428 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:24,428 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:24,428 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:24,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:24,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,429 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2] (custom)
2022-06-20 14:45:24,429 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:24,430 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:24,432 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,430 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:24,432 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:24,432 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-AD521306E148: ConfigurationManager, init=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:24,433 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2] (custom)
2022-06-20 14:45:24,432 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-AD521306E148:[s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0] returns group-AD521306E148:java.util.concurrent.CompletableFuture@566806af[Not completed]
2022-06-20 14:45:24,432 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:24,435 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current
2022-06-20 14:45:24,435 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148/sm
2022-06-20 14:45:24,432 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:24,436 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current
2022-06-20 14:45:24,436 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148/sm
2022-06-20 14:45:24,434 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:24,446 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:24,433 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:24,447 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:24,448 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:24,448 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-AD521306E148: ConfigurationManager, init=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:24,448 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1] (custom)
2022-06-20 14:45:24,449 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:24,449 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:24,449 [pool-4-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148 does not exist. Creating ...
2022-06-20 14:45:24,450 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,432 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-AD521306E148: ConfigurationManager, init=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:24,454 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0] (custom)
2022-06-20 14:45:24,455 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:24,455 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:24,455 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148 does not exist. Creating ...
2022-06-20 14:45:24,455 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,451 [pool-1-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148 has been successfully formatted.
2022-06-20 14:45:24,451 [pool-2-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148 has been successfully formatted.
2022-06-20 14:45:24,446 [pool-5-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148 does not exist. Creating ...
2022-06-20 14:45:24,460 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,461 [pool-5-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:24,461 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current
2022-06-20 14:45:24,461 [pool-5-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148/sm
2022-06-20 14:45:24,462 [pool-5-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148 has been successfully formatted.
2022-06-20 14:45:24,464 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:24,465 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:24,466 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:24,466 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:24,467 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:24,467 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current
2022-06-20 14:45:24,467 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148/sm
2022-06-20 14:45:24,474 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:24,474 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:24,474 [pool-4-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:24,475 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current
2022-06-20 14:45:24,475 [pool-4-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148/sm
2022-06-20 14:45:24,475 [pool-3-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148 has been successfully formatted.
2022-06-20 14:45:24,476 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:24,476 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:24,476 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:24,474 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:24,476 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:24,476 [pool-4-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148 has been successfully formatted.
2022-06-20 14:45:24,477 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:24,477 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:24,477 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:24,478 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,478 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,478 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,479 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,479 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:24,479 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,479 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:24,479 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:24,480 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:24,480 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:24,480 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:24,486 [pool-3-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-06-20 14:45:24,539 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,540 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,541 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,541 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,545 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,546 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:24,546 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:24,547 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:24,548 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:24,548 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:24,550 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:24,550 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:24,551 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:24,552 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-AD521306E148-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,551 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:24,552 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:24,552 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-AD521306E148-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,552 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,551 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-AD521306E148-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,551 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-AD521306E148-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,552 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,553 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,551 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-AD521306E148-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148
2022-06-20 14:45:24,553 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,552 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,554 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:24,555 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,555 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:24,556 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:24,556 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:24,557 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:24,557 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:24,558 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:24,558 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,558 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:24,559 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:24,559 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:24,559 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:24,559 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:24,562 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:24,562 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:24,562 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,563 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:24,563 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:24,563 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:24,563 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:24,563 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:24,563 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:24,563 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:24,563 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:24,563 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:24,563 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:24,564 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:24,564 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:24,564 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:24,573 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:24,573 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:24,574 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:24,574 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:24,574 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:24,575 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:24,575 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:24,575 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:24,575 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:24,577 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:24,578 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:24,578 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:24,581 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-AD521306E148-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,581 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-AD521306E148-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,581 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-AD521306E148-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,581 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-AD521306E148-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,584 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-AD521306E148-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,584 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-AD521306E148-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,584 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-AD521306E148-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,584 [pool-4-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-AD521306E148-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,585 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:24,585 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:24,585 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:24,585 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-AD521306E148-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,585 [pool-5-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-AD521306E148-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:24,589 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:24,589 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:24,590 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:24,590 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:24,590 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:24,590 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:24,590 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:24,590 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:24,590 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:24,592 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:24,592 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:24,594 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:24,594 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:24,598 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:24,598 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:24,598 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:24,606 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:24,606 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:24,606 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:24,607 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:24,607 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:24,607 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:24,607 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:24,607 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:24,607 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:24,630 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:24,631 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:24,631 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:24,631 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:24,631 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:24,632 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:24,630 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:24,632 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:24,632 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:24,632 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:24,632 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:24,632 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:24,632 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:24,632 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:24,633 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:24,633 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:24,631 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:24,633 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:24,633 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:24,633 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:24,633 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:24,633 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:24,633 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:24,633 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:24,633 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:24,634 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s3@group-AD521306E148: start as a follower, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,635 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:24,635 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-FollowerState
2022-06-20 14:45:24,637 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s3
2022-06-20 14:45:24,639 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s3: start RPC server
2022-06-20 14:45:24,648 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s4@group-AD521306E148: start as a follower, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,649 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:24,649 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:24,649 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@4def0567] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-06-20 14:45:24,650 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s4
2022-06-20 14:45:24,653 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s4: start RPC server
2022-06-20 14:45:24,655 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@30683931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-06-20 14:45:24,655 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-AD521306E148: start as a follower, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,655 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-AD521306E148: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:24,655 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD521306E148-FollowerState
2022-06-20 14:45:24,656 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s0
2022-06-20 14:45:24,656 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:24,657 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-AD521306E148: start as a follower, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,657 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:24,657 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:24,657 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@599d666] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:24,657 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s1
2022-06-20 14:45:24,658 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:24,659 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-AD521306E148: start as a follower, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,659 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:24,659 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:24,660 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@1c72b66b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:24,660 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s2
2022-06-20 14:45:24,660 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:24,662 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@328d2b85] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:24,664 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:24,665 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD521306E148:t0, leader=null, voted=, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t0, leader=null, voted=, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t0, leader=null, voted=, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:24,668 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD521306E148:t0, leader=null, voted=, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t0, leader=null, voted=, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t0, leader=null, voted=, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-AD521306E148:t0, leader=null, voted=, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t0, leader=null, voted=, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t0, leader=null, voted=, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:24,854 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197182677ns, electionTimeout:188ms
2022-06-20 14:45:24,855 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:24,856 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:24,858 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:24,858 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection1
2022-06-20 14:45:24,859 [s1@group-AD521306E148-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,861 [s0@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205371617ns, electionTimeout:205ms
2022-06-20 14:45:24,861 [s0@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AD521306E148-FollowerState
2022-06-20 14:45:24,861 [s0@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:24,861 [s0@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:24,861 [s0@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD521306E148-LeaderElection2
2022-06-20 14:45:24,866 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206352422ns, electionTimeout:205ms
2022-06-20 14:45:24,866 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:24,866 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:24,867 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:24,867 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AD521306E148-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,867 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-LeaderElection3
2022-06-20 14:45:24,872 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AD521306E148-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,886 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s0, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,887 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,889 [s3@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:253899458ns, electionTimeout:248ms
2022-06-20 14:45:24,889 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD521306E148-FollowerState
2022-06-20 14:45:24,889 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:24,892 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-AD521306E148:t0, leader=null, voted=, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,892 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s0, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,893 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,893 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-AD521306E148:t0, leader=null, voted=, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,893 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,893 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,893 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-AD521306E148:t0, leader=null, voted=, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,895 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AD521306E148-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:24,895 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:45:24,895 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t0
2022-06-20 14:45:24,895 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AD521306E148-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:24,895 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:24,895 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-LeaderElection4
2022-06-20 14:45:24,896 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s0, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,896 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,896 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,896 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,897 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s4#0:OK-t0. Peer's state: s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,895 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s0, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,897 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AD521306E148-LeaderElection3: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:24,898 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:OK-t0
2022-06-20 14:45:24,898 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t0
2022-06-20 14:45:24,897 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,898 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,901 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,901 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,901 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,901 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,901 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AD521306E148-LeaderElection3 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:24,902 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,903 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s3#0:OK-t0. Peer's state: s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,901 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,903 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,901 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AD521306E148-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,903 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AD521306E148-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,903 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,904 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:OK-t0. Peer's state: s3@group-AD521306E148:t0, leader=null, voted=, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,905 [s3@group-AD521306E148-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-AD521306E148-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,906 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(ELECTION, s2, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,906 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-CANDIDATE: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,906 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s2
2022-06-20 14:45:24,907 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-AD521306E148-LeaderElection4
2022-06-20 14:45:24,909 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(ELECTION, s0, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,909 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-FollowerState
2022-06-20 14:45:24,910 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(ELECTION, s0, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,910 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,910 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:24,910 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection1
2022-06-20 14:45:24,911 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(ELECTION, s2, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,911 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,912 [s3@group-AD521306E148-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-AD521306E148-LeaderElection4: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-06-20 14:45:24,912 [s3@group-AD521306E148-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-AD521306E148-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:24,912 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,912 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,912 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:OK-t0. Peer's state: s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,912 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,912 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,912 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-AD521306E148:t0, leader=null, voted=, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,913 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(ELECTION, s0, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,913 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,913 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:24,913 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:24,913 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(ELECTION, s2, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,915 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:24,915 [s1@group-AD521306E148-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection1: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-06-20 14:45:24,915 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(ELECTION, s0, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,915 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-06-20 14:45:24,915 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=null, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,915 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,915 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,915 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-AD521306E148:t1, leader=null, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,915 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,916 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,916 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-AD521306E148:t1, leader=null, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,919 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to ELECTION vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-AD521306E148:t1, leader=null, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,920 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject ELECTION from s0: already has voted for s2 at current term 1
2022-06-20 14:45:24,920 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to ELECTION vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=null, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,921 [s1@group-AD521306E148-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection1 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:24,921 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(ELECTION, s2, group-AD521306E148, 1, (t:0, i:0))
2022-06-20 14:45:24,922 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-06-20 14:45:24,922 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,922 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,922 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,922 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,922 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 0, (t:0, i:0))
2022-06-20 14:45:24,922 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,922 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,930 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:24,930 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-AD521306E148-FollowerState was interrupted
2022-06-20 14:45:24,931 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,932 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:24,932 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,932 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-06-20 14:45:24,932 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,932 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to ELECTION vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,933 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-06-20 14:45:24,933 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to ELECTION vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AD521306E148-LeaderElection2: ELECTION PASSED received 4 response(s) and 0 exception(s):
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t1
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:OK-t1
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s0<-s2#0:FAIL-t1
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AD521306E148-LeaderElection2 ELECTION round 0: result PASSED
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AD521306E148-LeaderElection2
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-AD521306E148: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:24,933 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-AD521306E148: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 457ms
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AD521306E148-LeaderElection3: ELECTION REJECTED received 4 response(s) and 0 exception(s):
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t1
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s4#0:FAIL-t1
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s2<-s0#0:FAIL-t1
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s2<-s1#0:FAIL-t1
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AD521306E148-LeaderElection3 ELECTION round 0: result REJECTED
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AD521306E148-LeaderElection3
2022-06-20 14:45:24,934 [s2@group-AD521306E148-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:24,937 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:24,940 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:24,941 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:24,948 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:24,949 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:24,949 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:24,957 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:24,960 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:24,968 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:24,968 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,969 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:24,972 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:24,972 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,972 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:24,974 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:24,976 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,976 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:24,978 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:24,978 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:24,980 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:24,981 [s0@group-AD521306E148-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AD521306E148-LeaderStateImpl
2022-06-20 14:45:24,996 [s0@group-AD521306E148-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-AD521306E148-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:25,035 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 561ms
2022-06-20 14:45:25,039 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 572ms
2022-06-20 14:45:25,046 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 569ms
2022-06-20 14:45:25,047 [s0@group-AD521306E148-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-AD521306E148: set configuration 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,048 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 584ms
2022-06-20 14:45:25,058 [Thread-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-AD521306E148: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:25,059 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s3@group-AD521306E148: set configuration 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,059 [Thread-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-AD521306E148-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:25,063 [Thread-22] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-AD521306E148: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:25,063 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-AD521306E148: set configuration 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,063 [Thread-22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-AD521306E148-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:25,065 [Thread-30] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-AD521306E148: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:25,065 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-AD521306E148: set configuration 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,065 [Thread-30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-AD521306E148-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:25,067 [Thread-9] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s4@group-AD521306E148: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:25,067 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s4@group-AD521306E148: set configuration 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,067 [Thread-9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-AD521306E148-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:25,121 [s3@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-AD521306E148-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s3/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current/log_inprogress_0
2022-06-20 14:45:25,122 [s0@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-AD521306E148-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s0/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current/log_inprogress_0
2022-06-20 14:45:25,121 [s2@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-AD521306E148-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s2/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current/log_inprogress_0
2022-06-20 14:45:25,121 [s1@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-AD521306E148-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s1/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current/log_inprogress_0
2022-06-20 14:45:25,124 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: Leader: s0@group-AD521306E148 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-AD521306E148 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:25,128 [s4@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-AD521306E148-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc6bf63a/s4/1cfb22d2-ca22-46c5-b7bb-ad521306e148/current/log_inprogress_0
2022-06-20 14:45:25,131 [Thread-93] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-AD521306E148: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:25,132 [Thread-94] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-AD521306E148: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:25,133 [Thread-95] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-AD521306E148: succeeded to handle AppendEntries. Reply: s0<-s3#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:25,133 [Thread-96] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s4@group-AD521306E148: succeeded to handle AppendEntries. Reply: s0<-s4#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:25,575 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:25,576 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(229)) - firstLeader = s0
2022-06-20 14:45:25,576 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(234)) - enforce leader to s4
2022-06-20 14:45:25,576 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(240)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:25,578 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:25,731 [s3@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:212681139ns, electionTimeout:210ms
2022-06-20 14:45:25,731 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD521306E148-FollowerState
2022-06-20 14:45:25,731 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:25,731 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:25,731 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-LeaderElection5
2022-06-20 14:45:25,731 [s3@group-AD521306E148-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:25,732 [s3@group-AD521306E148-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-AD521306E148-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,743 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:25,744 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-AD521306E148-LeaderElection5
2022-06-20 14:45:25,744 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-FollowerState
2022-06-20 14:45:25,744 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 12ms
2022-06-20 14:45:25,883 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:25,883 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:25,884 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:25,884 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,884 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:25,884 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-06-20 14:45:25,884 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,884 [s3@group-AD521306E148-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-AD521306E148-LeaderElection5: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:25,884 [s3@group-AD521306E148-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:FAIL-t1
2022-06-20 14:45:25,884 [s3@group-AD521306E148-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-AD521306E148-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:25,884 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:25,885 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,902 [s3@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157435269ns, electionTimeout:157ms
2022-06-20 14:45:25,902 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD521306E148-FollowerState
2022-06-20 14:45:25,902 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:25,902 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:25,902 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-LeaderElection6
2022-06-20 14:45:25,902 [s3@group-AD521306E148-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:25,902 [s3@group-AD521306E148-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-AD521306E148-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,948 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:431378607ns, electionTimeout:288ms
2022-06-20 14:45:25,948 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:25,948 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:25,948 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:25,948 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection7
2022-06-20 14:45:25,949 [s4@group-AD521306E148-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:25,949 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:25,970 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:25,970 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-AD521306E148-LeaderElection6
2022-06-20 14:45:25,970 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-FollowerState
2022-06-20 14:45:25,970 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 68ms
2022-06-20 14:45:26,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:26,033 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,033 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:26,033 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,053 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,053 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,053 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,053 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,053 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,053 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,054 [s3@group-AD521306E148-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-AD521306E148-LeaderElection6: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:26,054 [s3@group-AD521306E148-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:FAIL-t1
2022-06-20 14:45:26,054 [s3@group-AD521306E148-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-AD521306E148-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:26,056 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,056 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-06-20 14:45:26,057 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,100 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,100 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,100 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:26,100 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,100 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,100 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,100 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,101 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,100 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,101 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,100 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,101 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:26,101 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:26,101 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:26,101 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-06-20 14:45:26,101 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,101 [s4@group-AD521306E148-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:26,102 [s4@group-AD521306E148-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:26,102 [s4@group-AD521306E148-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection7
2022-06-20 14:45:26,102 [s4@group-AD521306E148-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:26,193 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 243ms
2022-06-20 14:45:26,203 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,203 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,203 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,479 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:26,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:26,746 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:325390567ns, electionTimeout:201ms
2022-06-20 14:45:26,746 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:26,746 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:26,746 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:26,746 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection8
2022-06-20 14:45:26,747 [s4@group-AD521306E148-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:26,747 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,898 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,898 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,898 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,898 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,898 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,898 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,898 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,898 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:26,898 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:26,898 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,898 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:26,899 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection8
2022-06-20 14:45:26,899 [s4@group-AD521306E148-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:26,930 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:27,060 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160874572ns, electionTimeout:160ms
2022-06-20 14:45:27,060 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:27,060 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:27,061 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:27,061 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection9
2022-06-20 14:45:27,061 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,061 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,062 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,062 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,062 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:27,062 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,062 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,062 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,062 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,062 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection9: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:27,063 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-06-20 14:45:27,063 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:27,063 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection9
2022-06-20 14:45:27,063 [s4@group-AD521306E148-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:27,097 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 350ms
2022-06-20 14:45:27,381 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:27,381 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:27,545 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:212346610ns, electionTimeout:197ms
2022-06-20 14:45:27,545 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:27,545 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:27,546 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:27,546 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection10
2022-06-20 14:45:27,546 [s1@group-AD521306E148-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:27,546 [s1@group-AD521306E148-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,558 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:27,558 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection10
2022-06-20 14:45:27,559 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:27,559 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 13ms
2022-06-20 14:45:27,697 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,697 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,697 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,697 [s1@group-AD521306E148-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection10: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:27,697 [s1@group-AD521306E148-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-06-20 14:45:27,697 [s1@group-AD521306E148-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection10 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:27,702 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:375860087ns, electionTimeout:210ms
2022-06-20 14:45:27,702 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:27,702 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:27,702 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,702 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:27,702 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection11
2022-06-20 14:45:27,702 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:45:27,702 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,703 [s4@group-AD521306E148-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:27,703 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,705 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,705 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,705 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,831 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:27,852 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,852 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:27,852 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,854 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,854 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,854 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,854 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,854 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,854 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,854 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:27,855 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,854 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,854 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:27,855 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:27,855 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection11
2022-06-20 14:45:27,856 [s4@group-AD521306E148-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:28,002 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 298ms
2022-06-20 14:45:28,282 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:28,282 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:28,411 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167544886ns, electionTimeout:155ms
2022-06-20 14:45:28,411 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:28,411 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:28,412 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:28,412 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection12
2022-06-20 14:45:28,412 [s1@group-AD521306E148-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:28,412 [s1@group-AD521306E148-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,469 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:28,470 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection12
2022-06-20 14:45:28,470 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:28,470 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 57ms
2022-06-20 14:45:28,547 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:316685786ns, electionTimeout:246ms
2022-06-20 14:45:28,548 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:28,548 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:28,548 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:28,548 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection13
2022-06-20 14:45:28,548 [s4@group-AD521306E148-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:28,548 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,563 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,563 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:28,563 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,563 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,563 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:45:28,563 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,563 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,563 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:28,564 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,564 [s1@group-AD521306E148-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection12: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:28,565 [s1@group-AD521306E148-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-06-20 14:45:28,565 [s1@group-AD521306E148-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:28,699 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,699 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:28,699 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,700 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,700 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:28,700 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,699 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:28,700 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:28,700 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,700 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:28,703 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,699 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:28,703 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection13: PRE_VOTE REJECTED received 4 response(s) and 0 exception(s):
2022-06-20 14:45:28,703 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t1
2022-06-20 14:45:28,703 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:28,703 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-06-20 14:45:28,703 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s4<-s2#0:FAIL-t1
2022-06-20 14:45:28,704 [s4@group-AD521306E148-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:28,704 [s4@group-AD521306E148-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:28,704 [s4@group-AD521306E148-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection13
2022-06-20 14:45:28,704 [s4@group-AD521306E148-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:28,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:28,907 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 358ms
2022-06-20 14:45:29,013 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,013 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,014 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,183 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:29,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:29,458 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:321697690ns, electionTimeout:228ms
2022-06-20 14:45:29,458 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:29,458 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:29,459 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:29,459 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection14
2022-06-20 14:45:29,459 [s4@group-AD521306E148-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:29,459 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,569 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191058085ns, electionTimeout:158ms
2022-06-20 14:45:29,569 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:29,569 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:29,569 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:29,569 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection15
2022-06-20 14:45:29,570 [s1@group-AD521306E148-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:29,570 [s1@group-AD521306E148-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,603 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:29,603 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection15
2022-06-20 14:45:29,604 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:29,604 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 33ms
2022-06-20 14:45:29,610 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,611 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,611 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,612 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,610 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,612 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:29,612 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,612 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,613 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,613 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection14
2022-06-20 14:45:29,613 [s4@group-AD521306E148-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:29,611 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,614 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:29,722 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,722 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,722 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,722 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,722 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,722 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:45:29,722 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,723 [s1@group-AD521306E148-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection15: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:29,723 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,723 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:29,723 [s1@group-AD521306E148-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-06-20 14:45:29,724 [s1@group-AD521306E148-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:29,811 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198001617ns, electionTimeout:193ms
2022-06-20 14:45:29,812 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:29,812 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:29,812 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:29,812 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection16
2022-06-20 14:45:29,812 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:29,812 [Thread-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection16
2022-06-20 14:45:29,812 [Thread-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:29,813 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 353ms
2022-06-20 14:45:29,872 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:29,872 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:29,872 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,084 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:30,085 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:30,217 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157720021ns, electionTimeout:153ms
2022-06-20 14:45:30,218 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:30,218 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:30,218 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:30,218 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-LeaderElection17
2022-06-20 14:45:30,219 [s2@group-AD521306E148-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:30,219 [s2@group-AD521306E148-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AD521306E148-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,252 [s3@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:182222433ns, electionTimeout:158ms
2022-06-20 14:45:30,252 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD521306E148-FollowerState
2022-06-20 14:45:30,252 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:30,252 [s3@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:30,252 [s3@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-LeaderElection18
2022-06-20 14:45:30,253 [s3@group-AD521306E148-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:30,253 [s3@group-AD521306E148-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-AD521306E148-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,281 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235578878ns, electionTimeout:168ms
2022-06-20 14:45:30,281 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:30,281 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:30,281 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:30,281 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection19
2022-06-20 14:45:30,282 [s4@group-AD521306E148-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:30,282 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,285 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:30,285 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AD521306E148-LeaderElection17
2022-06-20 14:45:30,285 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:30,285 [Thread-28] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 66ms
2022-06-20 14:45:30,295 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:30,296 [Thread-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-AD521306E148-LeaderElection18
2022-06-20 14:45:30,296 [Thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-AD521306E148-FollowerState
2022-06-20 14:45:30,296 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 43ms
2022-06-20 14:45:30,370 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,370 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,370 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,370 [s2@group-AD521306E148-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AD521306E148-LeaderElection17: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:30,370 [s2@group-AD521306E148-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-06-20 14:45:30,370 [s2@group-AD521306E148-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AD521306E148-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:30,371 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,372 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,372 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-06-20 14:45:30,372 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,372 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,372 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,411 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,412 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,411 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,413 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,413 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-06-20 14:45:30,413 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,413 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,413 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,413 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,413 [s3@group-AD521306E148-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-AD521306E148-LeaderElection18: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:30,414 [s3@group-AD521306E148-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:FAIL-t1
2022-06-20 14:45:30,414 [s3@group-AD521306E148-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-AD521306E148-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:30,432 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,433 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,433 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,433 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,433 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,433 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:30,433 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,433 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,433 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,433 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection19: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection19
2022-06-20 14:45:30,434 [s4@group-AD521306E148-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:30,435 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,435 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:30,435 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,511 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225043630ns, electionTimeout:225ms
2022-06-20 14:45:30,511 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:30,511 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:30,511 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:30,511 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-LeaderElection20
2022-06-20 14:45:30,511 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:30,512 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AD521306E148-LeaderElection20
2022-06-20 14:45:30,512 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:30,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:30,554 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s3, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,554 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:30,554 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,721 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 439ms
2022-06-20 14:45:30,821 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:30,821 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:30,821 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:30,985 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:30,986 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:31,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:31,436 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:486672302ns, electionTimeout:229ms
2022-06-20 14:45:31,437 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:31,437 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:31,437 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:31,437 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection21
2022-06-20 14:45:31,437 [s4@group-AD521306E148-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:31,437 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,438 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,438 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,442 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:31,442 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,438 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,442 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,442 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,443 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,443 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,443 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,443 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,443 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,443 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection21: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection21 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection21
2022-06-20 14:45:31,444 [s4@group-AD521306E148-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:31,623 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178121804ns, electionTimeout:172ms
2022-06-20 14:45:31,623 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:31,623 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:31,623 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:31,623 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection22
2022-06-20 14:45:31,624 [s4@group-AD521306E148-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,625 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,625 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,625 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,625 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,625 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,625 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,625 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:31,625 [Thread-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection22
2022-06-20 14:45:31,626 [Thread-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:31,626 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,626 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:31,626 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:31,626 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,626 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:31,626 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:31,632 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 194ms
2022-06-20 14:45:31,632 [s4@group-AD521306E148-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection22: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:31,632 [s4@group-AD521306E148-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:31,632 [s4@group-AD521306E148-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s2#0:FAIL-t1
2022-06-20 14:45:31,632 [s4@group-AD521306E148-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection22 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:31,886 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:31,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:32,104 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223718806ns, electionTimeout:182ms
2022-06-20 14:45:32,105 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:32,105 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:32,105 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:32,105 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-LeaderElection23
2022-06-20 14:45:32,106 [s2@group-AD521306E148-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:32,106 [s2@group-AD521306E148-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AD521306E148-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,106 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:32,106 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AD521306E148-LeaderElection23
2022-06-20 14:45:32,107 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:32,107 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1ms
2022-06-20 14:45:32,256 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,256 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:32,257 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,257 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,257 [s2@group-AD521306E148-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AD521306E148-LeaderElection23: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:32,257 [s2@group-AD521306E148-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-06-20 14:45:32,257 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-06-20 14:45:32,257 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,257 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,257 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:32,257 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,257 [s2@group-AD521306E148-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AD521306E148-LeaderElection23 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:32,275 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:414845960ns, electionTimeout:158ms
2022-06-20 14:45:32,275 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:32,276 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:32,276 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:32,276 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection24
2022-06-20 14:45:32,276 [s4@group-AD521306E148-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:32,276 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:32,406 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,407 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:32,407 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,427 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,427 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:32,427 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,427 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,427 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,427 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:32,427 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:32,427 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,427 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,427 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:32,427 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:32,427 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection24: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-06-20 14:45:32,428 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection24 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection24
2022-06-20 14:45:32,428 [s4@group-AD521306E148-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:32,536 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 260ms
2022-06-20 14:45:32,788 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:32,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:33,108 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:342722124ns, electionTimeout:222ms
2022-06-20 14:45:33,108 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:33,108 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:33,108 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:33,108 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection25
2022-06-20 14:45:33,109 [s4@group-AD521306E148-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:33,109 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:33,259 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,259 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:33,259 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,259 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,260 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,260 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:33,260 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,260 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:33,260 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,260 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,260 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection25: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:33,260 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:33,260 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:FAIL-t1
2022-06-20 14:45:33,260 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:33,260 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:33,261 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,261 [s4@group-AD521306E148-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection25 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:33,261 [s4@group-AD521306E148-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:33,261 [s4@group-AD521306E148-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection25
2022-06-20 14:45:33,261 [s4@group-AD521306E148-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:33,441 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 332ms
2022-06-20 14:45:33,689 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:33,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:33,805 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185316317ns, electionTimeout:163ms
2022-06-20 14:45:33,805 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:33,806 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:33,806 [s2@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:33,806 [s2@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-LeaderElection26
2022-06-20 14:45:33,806 [s2@group-AD521306E148-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:33,806 [s2@group-AD521306E148-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-AD521306E148-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,846 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:33,846 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-AD521306E148-LeaderElection26
2022-06-20 14:45:33,846 [Thread-28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AD521306E148-FollowerState
2022-06-20 14:45:33,846 [Thread-28] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 39ms
2022-06-20 14:45:33,957 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,957 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:33,957 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,957 [s2@group-AD521306E148-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-AD521306E148-LeaderElection26: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:33,958 [s2@group-AD521306E148-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-06-20 14:45:33,958 [s2@group-AD521306E148-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-AD521306E148-LeaderElection26 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:33,960 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,960 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-06-20 14:45:33,960 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:33,960 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:33,960 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:33,960 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,070 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:401589068ns, electionTimeout:253ms
2022-06-20 14:45:34,070 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:34,070 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:34,070 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:34,070 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection27
2022-06-20 14:45:34,071 [s4@group-AD521306E148-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:34,071 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,140 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:34,221 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,222 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,222 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,222 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,222 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:34,222 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,222 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,222 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,222 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,222 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,222 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,222 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection27: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:FAIL-t1
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection27 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection27
2022-06-20 14:45:34,223 [s4@group-AD521306E148-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:34,344 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 273ms
2022-06-20 14:45:34,407 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s2, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,408 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,408 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,590 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s4 but new leader is s0
2022-06-20 14:45:34,590 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:34,662 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$6(325)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:34,711 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180630087ns, electionTimeout:151ms
2022-06-20 14:45:34,711 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:34,711 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:34,711 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:34,712 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection28
2022-06-20 14:45:34,716 [s1@group-AD521306E148-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:34,716 [s1@group-AD521306E148-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,756 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:34,756 [Thread-21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection28
2022-06-20 14:45:34,756 [Thread-21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:34,756 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 40ms
2022-06-20 14:45:34,867 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,867 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,867 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:34,867 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,867 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:45:34,868 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,868 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,868 [s1@group-AD521306E148-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection28: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:34,868 [s1@group-AD521306E148-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-06-20 14:45:34,868 [s1@group-AD521306E148-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection28 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:34,867 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:34,869 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,916 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:159171594ns, electionTimeout:159ms
2022-06-20 14:45:34,916 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:34,916 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:34,916 [s1@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:34,916 [s1@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-LeaderElection29
2022-06-20 14:45:34,917 [s1@group-AD521306E148-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:34,917 [s1@group-AD521306E148-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AD521306E148-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:34,982 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-06-20 14:45:34,982 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AD521306E148-LeaderElection29
2022-06-20 14:45:34,983 [Thread-22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AD521306E148-FollowerState
2022-06-20 14:45:34,983 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 65ms
2022-06-20 14:45:35,019 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-AD521306E148-FollowerState: change to CANDIDATE, lastRpcElapsedTime:448019752ns, electionTimeout:276ms
2022-06-20 14:45:35,019 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:35,020 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:35,020 [s4@group-AD521306E148-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:35,020 [s4@group-AD521306E148-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-LeaderElection30
2022-06-20 14:45:35,020 [s4@group-AD521306E148-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:35,020 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-AD521306E148-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,068 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,068 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,068 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,068 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,068 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,068 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:45:35,068 [s1@group-AD521306E148-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AD521306E148-LeaderElection29: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:35,068 [s1@group-AD521306E148-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-06-20 14:45:35,068 [s1@group-AD521306E148-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AD521306E148-LeaderElection29 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:35,068 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,068 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,069 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,171 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,171 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,171 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AD521306E148-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-06-20 14:45:35,171 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,171 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,171 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-AD521306E148: receive requestVote(PRE_VOTE, s4, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,171 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,171 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,171 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,172 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,171 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-AD521306E148-LeaderElection30: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:FAIL-t1
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s1#0:FAIL-t1
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-AD521306E148-LeaderElection30 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-AD521306E148: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-AD521306E148-LeaderElection30
2022-06-20 14:45:35,172 [s4@group-AD521306E148-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-AD521306E148-FollowerState
2022-06-20 14:45:35,172 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-AD521306E148 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,218 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,218 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:35,218 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-AD521306E148:t1, leader=null, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,250 [Thread-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-AD521306E148: change Leader from null to s0 at term 1 for appendEntries, leader elected after 229ms
2022-06-20 14:45:35,318 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s4@group-AD521306E148: receive requestVote(PRE_VOTE, s1, group-AD521306E148, 1, (t:1, i:0))
2022-06-20 14:45:35,318 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-AD521306E148-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:45:35,318 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s4@group-AD521306E148 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null
2022-06-20 14:45:35,491 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(246)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:35,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s3@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s4@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s0@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AD521306E148:t1, leader=s0, voted=s0, raftlog=s1@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AD521306E148:t1, leader=s0, voted=s2, raftlog=s2@group-AD521306E148-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40171|admin:localhost:41625|client:localhost:33977|dataStream:localhost:44013|priority:0, s4|rpc:localhost:33595|admin:localhost:33437|client:localhost:36325|dataStream:localhost:46195|priority:0, s0|rpc:localhost:37803|admin:localhost:43483|client:localhost:45147|dataStream:localhost:37009|priority:0, s1|rpc:localhost:40679|admin:localhost:39243|client:localhost:35827|dataStream:localhost:36929|priority:0, s2|rpc:localhost:40201|admin:localhost:35363|client:localhost:39699|dataStream:localhost:40971|priority:0], old=null RUNNING
2022-06-20 14:45:35,495 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s3: close
2022-06-20 14:45:35,495 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s4: close
2022-06-20 14:45:35,496 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:35,496 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:35,496 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s4@group-AD521306E148: shutdown
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-AD521306E148: shutdown
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s4
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-AD521306E148-FollowerState
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-AD521306E148-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s1
2022-06-20 14:45:35,499 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AD521306E148-FollowerState
2022-06-20 14:45:35,498 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:35,498 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s4@group-AD521306E148: closes. applyIndex: 0
2022-06-20 14:45:35,499 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-AD521306E148-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:35,499 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-AD521306E148: closes. applyIndex: 0
2022-06-20 14:45:35,501 [s1@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-AD521306E148-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:35,498 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s3@group-AD521306E148: shutdown
2022-06-20 14:45:35,501 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s3
2022-06-20 14:45:35,501 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-AD521306E148-FollowerState
2022-06-20 14:45:35,501 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-AD521306E148-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:35,502 [java.util.concurrent.ThreadPoolExecutor$Worker@1f4515c[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-AD521306E148-SegmentedRaftLogWorker close()
2022-06-20 14:45:35,503 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-AD521306E148: shutdown
2022-06-20 14:45:35,503 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s2
2022-06-20 14:45:35,504 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AD521306E148-FollowerState
2022-06-20 14:45:35,497 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-AD521306E148: shutdown
2022-06-20 14:45:35,504 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AD521306E148,id=s0
2022-06-20 14:45:35,504 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AD521306E148-LeaderStateImpl
2022-06-20 14:45:35,504 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s3@group-AD521306E148: closes. applyIndex: 0
2022-06-20 14:45:35,504 [Thread-24] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,504 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-AD521306E148-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:35,504 [s3@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-AD521306E148-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:35,497 [s4@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-AD521306E148-FollowerState was interrupted
2022-06-20 14:45:35,504 [Thread-26] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,504 [Thread-25] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,499 [s1@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AD521306E148-FollowerState was interrupted
2022-06-20 14:45:35,505 [java.util.concurrent.ThreadPoolExecutor$Worker@33d0e44b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-AD521306E148-SegmentedRaftLogWorker close()
2022-06-20 14:45:35,506 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,506 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,506 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,506 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-AD521306E148: closes. applyIndex: 0
2022-06-20 14:45:35,507 [s2@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AD521306E148-FollowerState was interrupted
2022-06-20 14:45:35,507 [Thread-22] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,507 [s3@group-AD521306E148-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-AD521306E148-FollowerState was interrupted
2022-06-20 14:45:35,506 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,507 [Thread-23] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,506 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,507 [s4@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-AD521306E148-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:35,506 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,507 [Thread-21] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,507 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@4def0567] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-06-20 14:45:35,508 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@1c72b66b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:35,508 [java.util.concurrent.ThreadPoolExecutor$Worker@43475d82[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-AD521306E148-SegmentedRaftLogWorker close()
2022-06-20 14:45:35,508 [s0@group-AD521306E148->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-AD521306E148->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:35,510 [s0@group-AD521306E148->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-AD521306E148->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:35,510 [s0@group-AD521306E148->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-AD521306E148->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:35,510 [s0@group-AD521306E148->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-AD521306E148->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:35,511 [s2@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-AD521306E148-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:35,512 [java.util.concurrent.ThreadPoolExecutor$Worker@35b20f95[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-AD521306E148-SegmentedRaftLogWorker close()
2022-06-20 14:45:35,512 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,512 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,512 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,512 [Thread-7] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,512 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,512 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,513 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@30683931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-06-20 14:45:35,513 [Thread-31] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,513 [Thread-32] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,513 [Thread-33] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,513 [Thread-28] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,513 [Thread-29] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,514 [Thread-30] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,514 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@328d2b85] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:35,514 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AD521306E148-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:35,515 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-AD521306E148-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:35,516 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-AD521306E148: closes. applyIndex: 0
2022-06-20 14:45:35,516 [s0@group-AD521306E148-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-AD521306E148-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:35,517 [java.util.concurrent.ThreadPoolExecutor$Worker@383d6874[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-AD521306E148-SegmentedRaftLogWorker close()
2022-06-20 14:45:35,517 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,517 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,517 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,517 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,517 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,517 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:35,518 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@599d666] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:35,520 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:35,528 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:35,528 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:35,528 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:35,528 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:35,529 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:45:35,529 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0]
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:35,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], format? true
2022-06-20 14:45:35,530 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0
2022-06-20 14:45:35,531 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0 does not exist.
2022-06-20 14:45:35,531 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0
2022-06-20 14:45:35,531 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:35,531 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:35,531 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:35,531 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:35,531 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,531 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0] (custom)
2022-06-20 14:45:35,542 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] returns group-C8F12A83294D:java.util.concurrent.CompletableFuture@2033f793[Not completed]
2022-06-20 14:45:35,543 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], format? true
2022-06-20 14:45:35,543 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1
2022-06-20 14:45:35,543 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1 does not exist.
2022-06-20 14:45:35,543 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1
2022-06-20 14:45:35,543 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:35,543 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:35,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:35,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:35,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,544 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,544 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1] (custom)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:35,544 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-C8F12A83294D: ConfigurationManager, init=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:35,545 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0] (custom)
2022-06-20 14:45:35,545 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:35,545 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:35,545 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d does not exist. Creating ...
2022-06-20 14:45:35,545 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,546 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] returns group-C8F12A83294D:java.util.concurrent.CompletableFuture@7f2ce7c5[Not completed]
2022-06-20 14:45:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], format? true
2022-06-20 14:45:35,546 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2
2022-06-20 14:45:35,546 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2 does not exist.
2022-06-20 14:45:35,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:35,547 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2] (custom)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:35,548 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-C8F12A83294D: ConfigurationManager, init=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:35,549 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:35,549 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1] (custom)
2022-06-20 14:45:35,551 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d/current
2022-06-20 14:45:35,551 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:35,551 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d/sm
2022-06-20 14:45:35,551 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] returns group-C8F12A83294D:java.util.concurrent.CompletableFuture@7c22d846[Not completed]
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-C8F12A83294D:[s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-C8F12A83294D: ConfigurationManager, init=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:35,552 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2] (custom)
2022-06-20 14:45:35,553 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:35,553 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:35,553 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d does not exist. Creating ...
2022-06-20 14:45:35,553 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,551 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:35,552 [pool-6-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d has been successfully formatted.
2022-06-20 14:45:35,553 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:35,553 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:35,554 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d does not exist. Creating ...
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,554 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:35,554 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-C8F12A83294D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:35,555 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:35,556 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:35,556 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:35,556 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,556 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,556 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:35,557 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:35,556 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:35,557 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:35,557 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:35,557 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current
2022-06-20 14:45:35,557 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:35,557 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/sm
2022-06-20 14:45:35,557 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current
2022-06-20 14:45:35,557 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:35,558 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:35,558 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:35,558 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:35,558 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:35,558 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:35,559 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-C8F12A83294D: start as a follower, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,559 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/sm
2022-06-20 14:45:35,559 [pool-7-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d has been successfully formatted.
2022-06-20 14:45:35,559 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-C8F12A83294D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:35,559 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,559 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s0
2022-06-20 14:45:35,560 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d has been successfully formatted.
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:35,560 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:35,560 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-C8F12A83294D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:35,561 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:35,561 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:35,561 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:35,561 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-C8F12A83294D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:35,562 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:35,563 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:35,563 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:35,563 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:35,563 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,563 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,563 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:35,564 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@64280ac8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:35,564 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:35,565 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:35,565 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:35,565 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:35,565 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:35,565 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:35,565 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:35,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-C8F12A83294D: start as a follower, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,565 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:35,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-C8F12A83294D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:35,565 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:35,565 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,565 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:35,565 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:35,566 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s1
2022-06-20 14:45:35,566 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:35,566 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:35,566 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:35,566 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:35,566 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:35,566 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:35,568 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-C8F12A83294D: start as a follower, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,568 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-C8F12A83294D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:35,568 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,568 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@4452b479] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:35,569 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s2
2022-06-20 14:45:35,569 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:35,570 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@1cef95f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:35,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:35,570 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s0@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:45:35,570 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s0@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s0@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:115)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:35,717 [s0@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C8F12A83294D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158399283ns, electionTimeout:158ms
2022-06-20 14:45:35,718 [s0@group-C8F12A83294D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,718 [s0@group-C8F12A83294D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-C8F12A83294D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:35,718 [s0@group-C8F12A83294D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:35,718 [s0@group-C8F12A83294D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C8F12A83294D-LeaderElection31
2022-06-20 14:45:35,719 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C8F12A83294D-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,720 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-C8F12A83294D: receive requestVote(PRE_VOTE, s0, group-C8F12A83294D, 0, (t:0, i:0))
2022-06-20 14:45:35,720 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C8F12A83294D-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:35,720 [Thread-589] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-C8F12A83294D: receive requestVote(PRE_VOTE, s0, group-C8F12A83294D, 0, (t:0, i:0))
2022-06-20 14:45:35,720 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-C8F12A83294D replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,720 [Thread-589] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C8F12A83294D-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:35,720 [Thread-589] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-C8F12A83294D replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C8F12A83294D:t0, leader=null, voted=, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,720 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C8F12A83294D-LeaderElection31: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:35,720 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:45:35,720 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C8F12A83294D-LeaderElection31 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:35,722 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C8F12A83294D-LeaderElection31 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,722 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-C8F12A83294D: receive requestVote(ELECTION, s0, group-C8F12A83294D, 1, (t:0, i:0))
2022-06-20 14:45:35,722 [Thread-583] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C8F12A83294D-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:35,723 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-C8F12A83294D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:35,723 [Thread-583] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,723 [Thread-583] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,723 [s1@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C8F12A83294D-FollowerState was interrupted
2022-06-20 14:45:35,724 [Thread-590] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-C8F12A83294D: receive requestVote(ELECTION, s0, group-C8F12A83294D, 1, (t:0, i:0))
2022-06-20 14:45:35,724 [Thread-590] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C8F12A83294D-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:35,724 [Thread-590] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-C8F12A83294D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:35,724 [Thread-590] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,724 [Thread-590] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C8F12A83294D-FollowerState
2022-06-20 14:45:35,724 [s2@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C8F12A83294D-FollowerState was interrupted
2022-06-20 14:45:35,724 [Thread-583] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-C8F12A83294D replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C8F12A83294D:t1, leader=null, voted=s0, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C8F12A83294D-LeaderElection31: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C8F12A83294D-LeaderElection31 ELECTION round 0: result PASSED
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C8F12A83294D-LeaderElection31
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-C8F12A83294D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-C8F12A83294D: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 171ms
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:35,725 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:35,726 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:35,726 [Thread-590] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-C8F12A83294D replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C8F12A83294D:t1, leader=null, voted=s0, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,726 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:35,726 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:35,726 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:35,731 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:35,731 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:35,731 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:35,731 [s0@group-C8F12A83294D-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C8F12A83294D-LeaderStateImpl
2022-06-20 14:45:35,731 [s0@group-C8F12A83294D-LeaderElection31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:35,737 [Thread-591] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-C8F12A83294D: change Leader from null to s0 at term 1 for appendEntries, leader elected after 177ms
2022-06-20 14:45:35,741 [Thread-584] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-C8F12A83294D: change Leader from null to s0 at term 1 for appendEntries, leader elected after 180ms
2022-06-20 14:45:35,742 [s0@group-C8F12A83294D-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-C8F12A83294D: set configuration 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,743 [Thread-589] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-C8F12A83294D: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:35,745 [Thread-589] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-C8F12A83294D: set configuration 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,745 [Thread-589] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:35,746 [Thread-582] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:35,750 [Thread-582] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-C8F12A83294D: set configuration 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:35,750 [Thread-582] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:35,758 [s0@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s0/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0
2022-06-20 14:45:35,761 [s2@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0
2022-06-20 14:45:35,764 [Thread-618] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-C8F12A83294D: succeeded to handle AppendEntries. Reply: s0<-s2#336:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:35,765 [s1@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0
2022-06-20 14:45:35,766 [Thread-619] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: succeeded to handle AppendEntries. Reply: s0<-s1#335:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:36,021 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C8F12A83294D:t1, leader=s0, voted=s0, raftlog=s0@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C8F12A83294D:t1, leader=s0, voted=s0, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C8F12A83294D:t1, leader=s0, voted=s0, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:45:36,347 [s2@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C8F12A83294D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:352519403ns, electionTimeout:276ms
2022-06-20 14:45:36,347 [s2@group-C8F12A83294D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,347 [s2@group-C8F12A83294D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-C8F12A83294D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:36,347 [s2@group-C8F12A83294D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:36,347 [s2@group-C8F12A83294D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C8F12A83294D-LeaderElection32
2022-06-20 14:45:36,348 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-C8F12A83294D: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:45:36,348 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-C8F12A83294D-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,349 [Thread-575] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-06-20 14:45:36,349 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-C8F12A83294D: receive requestVote(PRE_VOTE, s2, group-C8F12A83294D, 1, (t:1, i:0))
2022-06-20 14:45:36,349 [Thread-584] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C8F12A83294D-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:36,350 [Thread-584] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-C8F12A83294D replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-C8F12A83294D:t1, leader=s0, voted=s0, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,351 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-C8F12A83294D-LeaderElection32: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:36,351 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-06-20 14:45:36,351 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-C8F12A83294D-LeaderElection32 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:36,352 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-C8F12A83294D-LeaderElection32 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,353 [Thread-576] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-06-20 14:45:36,353 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-C8F12A83294D: receive requestVote(ELECTION, s2, group-C8F12A83294D, 2, (t:1, i:0))
2022-06-20 14:45:36,353 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C8F12A83294D-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:36,353 [Thread-582] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-C8F12A83294D: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:36,353 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-C8F12A83294D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-06-20 14:45:36,353 [Thread-582] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,353 [Thread-582] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,353 [s1@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C8F12A83294D-FollowerState was interrupted
2022-06-20 14:45:36,355 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-C8F12A83294D replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-C8F12A83294D:t2, leader=null, voted=s2, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-C8F12A83294D-LeaderElection32: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-C8F12A83294D-LeaderElection32 ELECTION round 0: result PASSED
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C8F12A83294D-LeaderElection32
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-C8F12A83294D: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-C8F12A83294D: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 7ms
2022-06-20 14:45:36,355 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,356 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:36,357 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:36,357 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,357 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:36,357 [s2@group-C8F12A83294D-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C8F12A83294D-LeaderStateImpl
2022-06-20 14:45:36,358 [s2@group-C8F12A83294D-LeaderElection32] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:36,359 [s2@group-C8F12A83294D-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-C8F12A83294D: set configuration 1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,359 [Thread-583] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-C8F12A83294D: change Leader from null to s2 at term 2 for appendEntries, leader elected after 6ms
2022-06-20 14:45:36,360 [s2@group-C8F12A83294D-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_0-0
2022-06-20 14:45:36,360 [s2@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_0-0
2022-06-20 14:45:36,360 [Thread-577] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-06-20 14:45:36,363 [Thread-584] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:45:36,363 [Thread-584] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-C8F12A83294D: set configuration 1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,363 [Thread-584] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:36,364 [s1@group-C8F12A83294D-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_0-0
2022-06-20 14:45:36,364 [s1@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_0-0
2022-06-20 14:45:36,367 [s0@group-C8F12A83294D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-C8F12A83294D-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 641ms. Conf: 0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:45:36,371 [s0@group-C8F12A83294D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-C8F12A83294D->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=301, lastRpcResponseTime=376)
2022-06-20 14:45:36,371 [s0@group-C8F12A83294D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-C8F12A83294D->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=301, lastRpcResponseTime=376)
2022-06-20 14:45:36,371 [s0@group-C8F12A83294D-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-C8F12A83294D: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:45:36,371 [s0@group-C8F12A83294D-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C8F12A83294D-LeaderStateImpl
2022-06-20 14:45:36,371 [s0@group-C8F12A83294D->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-C8F12A83294D->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:36,372 [s0@group-C8F12A83294D-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C8F12A83294D-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:36,373 [s0@group-C8F12A83294D-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,373 [s0@group-C8F12A83294D->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-C8F12A83294D->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:36,378 [s2@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s2/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_1
2022-06-20 14:45:36,378 [s1@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcbf490a94/s1/72becb46-cef2-42d4-949c-c8f12a83294d/current/log_inprogress_1
2022-06-20 14:45:36,379 [Thread-637] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: succeeded to handle AppendEntries. Reply: s2<-s1#347:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:36,383 [Thread-582] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:36,385 [Thread-638] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-C8F12A83294D: succeeded to handle AppendEntries. Reply: s2<-s1#348:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:36,528 [s0@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-C8F12A83294D-FollowerState: Skipping leader election since it stepped down recently (elapsed = 155ms < waitTime = 10s)
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-C8F12A83294D-FollowerState: Skipping leader election since it stepped down recently (elapsed = 251ms < waitTime = 10s)
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:36,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C8F12A83294D:t1, leader=s0, voted=s0, raftlog=s0@group-C8F12A83294D-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C8F12A83294D:t2, leader=s2, voted=s2, raftlog=s1@group-C8F12A83294D-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-C8F12A83294D:t2, leader=s2, voted=s2, raftlog=s2@group-C8F12A83294D-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38019|admin:localhost:37819|client:localhost:37267|dataStream:localhost:43289|priority:0, s1|rpc:localhost:39195|admin:localhost:38467|client:localhost:43709|dataStream:localhost:37829|priority:0, s2|rpc:localhost:43601|admin:localhost:40411|client:localhost:38819|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:45:36,625 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:36,625 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:36,630 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-C8F12A83294D: shutdown
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-C8F12A83294D: shutdown
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-C8F12A83294D: shutdown
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s1
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s2
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-C8F12A83294D-LeaderStateImpl
2022-06-20 14:45:36,631 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8F12A83294D,id=s0
2022-06-20 14:45:36,632 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C8F12A83294D-FollowerState
2022-06-20 14:45:36,632 [s2@group-C8F12A83294D->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-C8F12A83294D->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:36,632 [s2@group-C8F12A83294D->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-C8F12A83294D->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:36,632 [s0@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-C8F12A83294D-FollowerState was interrupted
2022-06-20 14:45:36,631 [s1@group-C8F12A83294D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C8F12A83294D-FollowerState was interrupted
2022-06-20 14:45:36,632 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-C8F12A83294D-StateMachineUpdater: set stopIndex = 2
2022-06-20 14:45:36,632 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-C8F12A83294D: closes. applyIndex: 2
2022-06-20 14:45:36,632 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-C8F12A83294D-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:36,633 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-C8F12A83294D: closes. applyIndex: 0
2022-06-20 14:45:36,633 [s1@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:36,633 [s0@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:36,632 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-C8F12A83294D-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:36,634 [java.util.concurrent.ThreadPoolExecutor$Worker@4f1ec822[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-C8F12A83294D-SegmentedRaftLogWorker close()
2022-06-20 14:45:36,635 [java.util.concurrent.ThreadPoolExecutor$Worker@1e3e5cc4[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-C8F12A83294D-SegmentedRaftLogWorker close()
2022-06-20 14:45:36,635 [Thread-579] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,636 [Thread-578] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,636 [Thread-580] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,636 [Thread-575] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-06-20 14:45:36,636 [Thread-576] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-06-20 14:45:36,637 [Thread-576] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-C8F12A83294D: receive requestVote(ELECTION, s2, group-C8F12A83294D, 2, (t:1, i:0))
2022-06-20 14:45:36,636 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-C8F12A83294D: receive requestVote(PRE_VOTE, s2, group-C8F12A83294D, 1, (t:1, i:0))
2022-06-20 14:45:36,637 [Thread-577] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-06-20 14:45:36,641 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@64280ac8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:36,646 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-C8F12A83294D-StateMachineUpdater: set stopIndex = 2
2022-06-20 14:45:36,646 [Thread-585] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,646 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-C8F12A83294D: closes. applyIndex: 2
2022-06-20 14:45:36,647 [Thread-586] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,647 [Thread-587] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,647 [s2@group-C8F12A83294D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:36,647 [Thread-582] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,647 [Thread-583] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,647 [Thread-584] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,649 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@4452b479] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:36,649 [java.util.concurrent.ThreadPoolExecutor$Worker@68cc5a5d[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-C8F12A83294D-SegmentedRaftLogWorker close()
2022-06-20 14:45:36,651 [Thread-592] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,651 [Thread-593] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,651 [Thread-594] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,651 [Thread-590] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,651 [Thread-589] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,651 [Thread-591] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:36,652 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@1cef95f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:36,652 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:36,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:36,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:36,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:36,653 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:36,653 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(255)) - Running testLateServerStart
2022-06-20 14:45:36,653 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:36,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0]
2022-06-20 14:45:36,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:36,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], format? true
2022-06-20 14:45:36,654 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0
2022-06-20 14:45:36,654 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0 does not exist.
2022-06-20 14:45:36,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:36,655 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0] (custom)
2022-06-20 14:45:36,658 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] returns group-4780DE61ABE5:java.util.concurrent.CompletableFuture@3dc87cf8[Not completed]
2022-06-20 14:45:36,658 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:36,658 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], format? true
2022-06-20 14:45:36,658 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1
2022-06-20 14:45:36,659 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1 does not exist.
2022-06-20 14:45:36,659 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1
2022-06-20 14:45:36,659 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:36,659 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:36,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:36,659 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:36,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:36,659 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:36,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,659 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:36,660 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,660 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,660 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:36,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,660 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-4780DE61ABE5: ConfigurationManager, init=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:36,660 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1] (custom)
2022-06-20 14:45:36,660 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] returns group-4780DE61ABE5:java.util.concurrent.CompletableFuture@49f8281c[Not completed]
2022-06-20 14:45:36,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], format? true
2022-06-20 14:45:36,660 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2
2022-06-20 14:45:36,660 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2 does not exist.
2022-06-20 14:45:36,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2
2022-06-20 14:45:36,661 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0] (custom)
2022-06-20 14:45:36,661 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:36,661 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:36,665 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:36,661 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:36,661 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:36,665 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5 does not exist. Creating ...
2022-06-20 14:45:36,665 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:36,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:36,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:36,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,666 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,666 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:36,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2] (custom)
2022-06-20 14:45:36,666 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:36,666 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,667 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:36,666 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-4780DE61ABE5:[s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0] returns group-4780DE61ABE5:java.util.concurrent.CompletableFuture@5e5d5eac[Not completed]
2022-06-20 14:45:36,667 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:36,667 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,667 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:36,667 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:36,667 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:36,667 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5/current
2022-06-20 14:45:36,668 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5/sm
2022-06-20 14:45:36,667 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:36,667 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-4780DE61ABE5: ConfigurationManager, init=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:36,668 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:36,668 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1] (custom)
2022-06-20 14:45:36,668 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:36,668 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:36,668 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:36,668 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:36,668 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-4780DE61ABE5: ConfigurationManager, init=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5 has been successfully formatted.
2022-06-20 14:45:36,669 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5 does not exist. Creating ...
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-4780DE61ABE5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,669 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:36,670 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:36,670 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-4780DE61ABE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,671 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-4780DE61ABE5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,672 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2] (custom)
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:36,671 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:36,672 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5/current
2022-06-20 14:45:36,672 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5/sm
2022-06-20 14:45:36,672 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:36,673 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:36,673 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:36,673 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:36,673 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:36,673 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-4780DE61ABE5: start as a follower, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,673 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-4780DE61ABE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:36,673 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:36,673 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:36,673 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:36,673 [pool-11-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5 does not exist. Creating ...
2022-06-20 14:45:36,673 [pool-10-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5 has been successfully formatted.
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-4780DE61ABE5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:36,674 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:36,675 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,675 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4780DE61ABE5,id=s0
2022-06-20 14:45:36,676 [pool-11-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:36,676 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:36,676 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:36,676 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:36,676 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-4780DE61ABE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,676 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-4780DE61ABE5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,676 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5/current
2022-06-20 14:45:36,676 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:36,676 [pool-11-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5/sm
2022-06-20 14:45:36,677 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:36,677 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:36,677 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:36,677 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:36,677 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:36,678 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:36,678 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:36,678 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:36,678 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:36,678 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:36,678 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-4780DE61ABE5: start as a follower, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,678 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-4780DE61ABE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:36,679 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:36,679 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@56ed25b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5 has been successfully formatted.
2022-06-20 14:45:36,679 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4780DE61ABE5,id=s1
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,679 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:36,679 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-4780DE61ABE5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:36,680 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:36,681 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:36,681 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:36,681 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:36,681 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-4780DE61ABE5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,681 [pool-11-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-4780DE61ABE5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:36,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:36,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s0@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s2:      NEW group-4780DE61ABE5:java.util.concurrent.CompletableFuture@5e5d5eac[Not completed]
2022-06-20 14:45:36,683 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@2cad0f93] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:36,683 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:36,684 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:36,684 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s0@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s0@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:265)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:36,904 [s0@group-4780DE61ABE5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-4780DE61ABE5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230626682ns, electionTimeout:228ms
2022-06-20 14:45:36,904 [s0@group-4780DE61ABE5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:36,904 [s0@group-4780DE61ABE5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-4780DE61ABE5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:36,904 [s0@group-4780DE61ABE5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:36,904 [s0@group-4780DE61ABE5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4780DE61ABE5-LeaderElection33
2022-06-20 14:45:36,910 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4780DE61ABE5-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,911 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-4780DE61ABE5: receive requestVote(PRE_VOTE, s0, group-4780DE61ABE5, 0, (t:0, i:0))
2022-06-20 14:45:36,911 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4780DE61ABE5-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:36,911 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-4780DE61ABE5 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,912 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4780DE61ABE5-LeaderElection33: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:36,912 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:45:36,912 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4780DE61ABE5-LeaderElection33 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:36,914 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-4780DE61ABE5-LeaderElection33 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,914 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-4780DE61ABE5: receive requestVote(ELECTION, s0, group-4780DE61ABE5, 1, (t:0, i:0))
2022-06-20 14:45:36,914 [Thread-653] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-4780DE61ABE5-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:36,914 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-4780DE61ABE5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:36,914 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:36,914 [s1@group-4780DE61ABE5-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s1@group-4780DE61ABE5-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-06-20 14:45:36,914 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:36,916 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-4780DE61ABE5 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-4780DE61ABE5:t1, leader=null, voted=s0, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-4780DE61ABE5-LeaderElection33: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-4780DE61ABE5-LeaderElection33 ELECTION round 0: result PASSED
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-4780DE61ABE5-LeaderElection33
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-4780DE61ABE5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-4780DE61ABE5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 247ms
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:36,916 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,917 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:36,918 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:36,918 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:36,918 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:36,918 [s0@group-4780DE61ABE5-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-4780DE61ABE5-LeaderStateImpl
2022-06-20 14:45:36,918 [s0@group-4780DE61ABE5-LeaderElection33] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-4780DE61ABE5-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:36,923 [Thread-654] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-4780DE61ABE5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 248ms
2022-06-20 14:45:36,923 [s0@group-4780DE61ABE5-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-4780DE61ABE5: set configuration 0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,923 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-4780DE61ABE5: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:36,924 [Thread-652] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-4780DE61ABE5: set configuration 0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:36,924 [Thread-652] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-4780DE61ABE5-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:36,933 [s0@group-4780DE61ABE5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-4780DE61ABE5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s0/b567ddaa-b01e-4953-8ab3-4780de61abe5/current/log_inprogress_0
2022-06-20 14:45:36,934 [s1@group-4780DE61ABE5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-4780DE61ABE5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s1/b567ddaa-b01e-4953-8ab3-4780de61abe5/current/log_inprogress_0
2022-06-20 14:45:36,935 [Thread-683] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-4780DE61ABE5: succeeded to handle AppendEntries. Reply: s0<-s1#354:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:37,134 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-4780DE61ABE5:t1, leader=s0, voted=s0, raftlog=s0@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4780DE61ABE5:t1, leader=s0, voted=s0, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null NEW
2022-06-20 14:45:37,135 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(267)) - sleep 3s
2022-06-20 14:45:39,923 [s0@group-4780DE61ABE5->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s0@group-4780DE61ABE5->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@6efba57d
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:40,135 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-4780DE61ABE5: start as a follower, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:40,135 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-4780DE61ABE5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:40,135 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-4780DE61ABE5-FollowerState
2022-06-20 14:45:40,136 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4780DE61ABE5,id=s2
2022-06-20 14:45:40,136 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:40,136 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-4780DE61ABE5: receive requestVote(PRE_VOTE, s0, group-4780DE61ABE5, 0, (t:0, i:0))
2022-06-20 14:45:40,136 [Thread-660] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-4780DE61ABE5: receive requestVote(ELECTION, s0, group-4780DE61ABE5, 1, (t:0, i:0))
2022-06-20 14:45:40,137 [Thread-659] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4780DE61ABE5-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:40,137 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-4780DE61ABE5 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-4780DE61ABE5:t0, leader=null, voted=, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:40,139 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$null$3(LeaderElectionTests.java:275)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:275)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:273)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:40,140 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@28b76331] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:40,144 [Thread-659] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-4780DE61ABE5: change Leader from null to s0 at term 1 for appendEntries, leader elected after 3464ms
2022-06-20 14:45:40,144 [Thread-660] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-4780DE61ABE5-FOLLOWER: reject ELECTION from s0: this server is a follower and still has a valid leader s0
2022-06-20 14:45:40,145 [Thread-660] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-4780DE61ABE5 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-4780DE61ABE5:t1, leader=s0, voted=null, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:40,146 [Thread-660] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-4780DE61ABE5: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c0, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:40,146 [Thread-660] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-4780DE61ABE5: set configuration 0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null
2022-06-20 14:45:40,146 [Thread-660] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-4780DE61ABE5-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:40,157 [s2@group-4780DE61ABE5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-4780DE61ABE5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc54cf4ec0/s2/b567ddaa-b01e-4953-8ab3-4780de61abe5/current/log_inprogress_0
2022-06-20 14:45:40,159 [Thread-730] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-4780DE61ABE5: succeeded to handle AppendEntries. Reply: s0<-s2#398:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-06-20 14:45:41,140 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(277)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-4780DE61ABE5:t1, leader=s0, voted=s0, raftlog=s0@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-4780DE61ABE5:t1, leader=s0, voted=s0, raftlog=s1@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-4780DE61ABE5:t1, leader=s0, voted=null, raftlog=s2@group-4780DE61ABE5-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:44357|admin:localhost:36205|client:localhost:35817|dataStream:localhost:34141|priority:0, s1|rpc:localhost:34519|admin:localhost:38609|client:localhost:42779|dataStream:localhost:39603|priority:0, s2|rpc:localhost:35543|admin:localhost:46739|client:localhost:34993|dataStream:localhost:42909|priority:0], old=null RUNNING
2022-06-20 14:45:41,140 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:41,140 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:41,141 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:41,141 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:41,141 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0]
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], format? true
2022-06-20 14:45:41,142 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0
2022-06-20 14:45:41,142 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0 does not exist.
2022-06-20 14:45:41,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:41,143 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0] (custom)
2022-06-20 14:45:41,146 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] returns group-FA3524F119AA:java.util.concurrent.CompletableFuture@4905db19[Not completed]
2022-06-20 14:45:41,146 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], format? true
2022-06-20 14:45:41,146 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1
2022-06-20 14:45:41,146 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:41,147 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1 does not exist.
2022-06-20 14:45:41,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1
2022-06-20 14:45:41,147 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:41,147 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:41,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:41,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:41,147 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:41,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,147 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:41,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1] (custom)
2022-06-20 14:45:41,148 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:41,148 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:41,148 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] returns group-FA3524F119AA:java.util.concurrent.CompletableFuture@3d413006[Not completed]
2022-06-20 14:45:41,150 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,154 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:41,154 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,154 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], format? true
2022-06-20 14:45:41,154 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:41,154 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:41,154 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-FA3524F119AA: ConfigurationManager, init=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:41,154 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2
2022-06-20 14:45:41,155 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2 does not exist.
2022-06-20 14:45:41,155 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:41,155 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,155 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2] (custom)
2022-06-20 14:45:41,154 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-FA3524F119AA: ConfigurationManager, init=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1] (custom)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:41,156 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa does not exist. Creating ...
2022-06-20 14:45:41,157 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,155 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0] (custom)
2022-06-20 14:45:41,158 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:41,158 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:41,158 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa does not exist. Creating ...
2022-06-20 14:45:41,158 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,158 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:41,159 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] returns group-FA3524F119AA:java.util.concurrent.CompletableFuture@70398860[Not completed]
2022-06-20 14:45:41,159 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-FA3524F119AA:[s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:41,159 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa/current
2022-06-20 14:45:41,159 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:41,159 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:41,159 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa/sm
2022-06-20 14:45:41,159 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:41,159 [pool-12-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:41,160 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa/current
2022-06-20 14:45:41,160 [pool-12-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa/sm
2022-06-20 14:45:41,160 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:41,160 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:41,160 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:41,160 [pool-13-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa has been successfully formatted.
2022-06-20 14:45:41,160 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:41,160 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FA3524F119AA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,161 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa has been successfully formatted.
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FA3524F119AA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:41,162 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,163 [pool-12-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,163 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:41,163 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:41,163 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:41,163 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:41,165 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-FA3524F119AA: ConfigurationManager, init=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:41,165 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2] (custom)
2022-06-20 14:45:41,166 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:41,166 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:41,166 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa does not exist. Creating ...
2022-06-20 14:45:41,166 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:41,167 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:41,167 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:41,167 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:41,167 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:41,168 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa/current
2022-06-20 14:45:41,168 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa/sm
2022-06-20 14:45:41,167 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,167 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:41,168 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:41,168 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,168 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:41,168 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:41,168 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:41,169 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-FA3524F119AA: start as a follower, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,169 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:41,169 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-FA3524F119AA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:41,169 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:41,169 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa has been successfully formatted.
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,169 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s0
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FA3524F119AA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa
2022-06-20 14:45:41,169 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:41,170 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:41,170 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:41,171 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:41,171 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:41,171 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:41,171 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:41,171 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,171 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:41,172 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-FA3524F119AA: start as a follower, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:41,172 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-FA3524F119AA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:41,172 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:41,172 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:41,173 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:41,173 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@444c4761] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:41,173 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s1
2022-06-20 14:45:41,174 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:41,174 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-FA3524F119AA: start as a follower, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,174 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@41ff2085] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:41,174 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-FA3524F119AA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:41,175 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,175 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s2
2022-06-20 14:45:41,175 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:41,176 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@68663b9b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:41,176 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:41,176 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
2022-06-20 14:45:41,176 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:41,344 [s2@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-FA3524F119AA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169277784ns, electionTimeout:169ms
2022-06-20 14:45:41,344 [s2@group-FA3524F119AA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,344 [s2@group-FA3524F119AA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-FA3524F119AA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:41,344 [s2@group-FA3524F119AA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:41,344 [s2@group-FA3524F119AA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FA3524F119AA-LeaderElection34
2022-06-20 14:45:41,345 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-FA3524F119AA-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,345 [Thread-757] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-FA3524F119AA: receive requestVote(PRE_VOTE, s2, group-FA3524F119AA, 0, (t:0, i:0))
2022-06-20 14:45:41,346 [Thread-757] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FA3524F119AA-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:41,346 [Thread-757] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-FA3524F119AA replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,346 [Thread-764] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-FA3524F119AA: receive requestVote(PRE_VOTE, s2, group-FA3524F119AA, 0, (t:0, i:0))
2022-06-20 14:45:41,346 [Thread-764] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FA3524F119AA-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:41,346 [Thread-764] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-FA3524F119AA replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-FA3524F119AA:t0, leader=null, voted=, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,346 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-FA3524F119AA-LeaderElection34: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:41,346 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-06-20 14:45:41,346 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-FA3524F119AA-LeaderElection34 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:41,347 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-FA3524F119AA-LeaderElection34 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,348 [Thread-759] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-FA3524F119AA: receive requestVote(ELECTION, s2, group-FA3524F119AA, 1, (t:0, i:0))
2022-06-20 14:45:41,352 [Thread-759] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FA3524F119AA-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:41,352 [Thread-759] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-FA3524F119AA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-06-20 14:45:41,352 [Thread-759] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,352 [Thread-759] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,352 [Thread-765] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-FA3524F119AA: receive requestVote(ELECTION, s2, group-FA3524F119AA, 1, (t:0, i:0))
2022-06-20 14:45:41,352 [s0@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FA3524F119AA-FollowerState was interrupted
2022-06-20 14:45:41,354 [Thread-765] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FA3524F119AA-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:41,354 [Thread-765] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-FA3524F119AA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-06-20 14:45:41,354 [Thread-765] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,354 [Thread-765] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FA3524F119AA-FollowerState
2022-06-20 14:45:41,354 [s1@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FA3524F119AA-FollowerState was interrupted
2022-06-20 14:45:41,354 [Thread-759] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-FA3524F119AA replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-FA3524F119AA:t1, leader=null, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,354 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-FA3524F119AA-LeaderElection34: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:41,355 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-06-20 14:45:41,359 [Thread-765] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-FA3524F119AA replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-FA3524F119AA:t1, leader=null, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-FA3524F119AA-LeaderElection34 ELECTION round 0: result PASSED
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-FA3524F119AA-LeaderElection34
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-FA3524F119AA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-FA3524F119AA: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 190ms
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:41,359 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:41,360 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:41,361 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:41,361 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:41,361 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:41,361 [s2@group-FA3524F119AA-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FA3524F119AA-LeaderStateImpl
2022-06-20 14:45:41,361 [s2@group-FA3524F119AA-LeaderElection34] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:41,367 [s2@group-FA3524F119AA-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-FA3524F119AA: set configuration 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,368 [Thread-758] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-FA3524F119AA: change Leader from null to s2 at term 1 for appendEntries, leader elected after 205ms
2022-06-20 14:45:41,368 [Thread-757] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:41,368 [Thread-766] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-FA3524F119AA: change Leader from null to s2 at term 1 for appendEntries, leader elected after 208ms
2022-06-20 14:45:41,369 [Thread-757] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-FA3524F119AA: set configuration 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,369 [Thread-757] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:41,369 [Thread-764] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:41,373 [s2@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s2/3789cfbd-875d-4862-9cc7-fa3524f119aa/current/log_inprogress_0
2022-06-20 14:45:41,374 [Thread-764] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-FA3524F119AA: set configuration 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:41,374 [Thread-764] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:41,385 [s0@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s0/3789cfbd-875d-4862-9cc7-fa3524f119aa/current/log_inprogress_0
2022-06-20 14:45:41,385 [s1@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcf1caba8e/s1/3789cfbd-875d-4862-9cc7-fa3524f119aa/current/log_inprogress_0
2022-06-20 14:45:41,386 [Thread-806] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#431:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:41,386 [Thread-807] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#434:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:41,627 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
2022-06-20 14:45:41,630 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:41,648 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s2@group-FA3524F119AA: receive client request(RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=448, seq=0, RW, message)
2022-06-20 14:45:41,674 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-FA3524F119AA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=448, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 448@client-5A4D4ED4A023
2022-06-20 14:45:41,675 [Thread-765] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 448@client-5A4D4ED4A023
2022-06-20 14:45:41,676 [Thread-759] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 448@client-5A4D4ED4A023
2022-06-20 14:45:41,677 [Thread-822] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#449:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:41,677 [Thread-823] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#450:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:41,677 [Thread-758] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:41,678 [Thread-766] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:41,680 [Thread-824] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#451:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:41,683 [Thread-827] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#452:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:41,683 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s2@group-FA3524F119AA: receive client request(RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=454, seq=0, RW, message)
2022-06-20 14:45:41,683 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-FA3524F119AA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=454, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 454@client-5A4D4ED4A023
2022-06-20 14:45:41,683 [Thread-757] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-06-20 14:45:41,684 [Thread-764] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 454@client-5A4D4ED4A023
2022-06-20 14:45:41,684 [Thread-828] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#456:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:41,685 [Thread-765] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c1, s1:c2], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-06-20 14:45:41,686 [Thread-830] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#457:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:45:41,686 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(390)) - Wait follower s0 timeout and trigger pre-vote
2022-06-20 14:45:42,075 [s0@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FA3524F119AA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:395273495ns, electionTimeout:271ms
2022-06-20 14:45:42,075 [s0@group-FA3524F119AA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:42,075 [s0@group-FA3524F119AA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-FA3524F119AA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:42,075 [s0@group-FA3524F119AA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:42,076 [s0@group-FA3524F119AA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FA3524F119AA-LeaderElection35
2022-06-20 14:45:42,076 [s0@group-FA3524F119AA-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-FA3524F119AA: change Leader from s2 to null at term 1 for PRE_VOTE
2022-06-20 14:45:42,076 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:42,368 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:42,368 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 0: result TIMEOUT
2022-06-20 14:45:42,368 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:42,601 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:42,601 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 1: result TIMEOUT
2022-06-20 14:45:42,601 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:42,771 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:42,771 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 2: result TIMEOUT
2022-06-20 14:45:42,771 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:42,995 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:42,995 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 3: result TIMEOUT
2022-06-20 14:45:42,995 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,258 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:43,258 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 4: result TIMEOUT
2022-06-20 14:45:43,258 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,538 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:43,538 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 5: result TIMEOUT
2022-06-20 14:45:43,539 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,759 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:43,759 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 6: result TIMEOUT
2022-06-20 14:45:43,759 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,760 [Thread-764] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-FA3524F119AA: receive requestVote(PRE_VOTE, s0, group-FA3524F119AA, 1, (t:1, i:2))
2022-06-20 14:45:43,760 [Thread-764] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FA3524F119AA-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-06-20 14:45:43,760 [Thread-764] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-FA3524F119AA replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,760 [Thread-772] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-FA3524F119AA: receive requestVote(PRE_VOTE, s0, group-FA3524F119AA, 1, (t:1, i:2))
2022-06-20 14:45:43,760 [Thread-772] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FA3524F119AA-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-06-20 14:45:43,760 [Thread-772] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-FA3524F119AA replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FA3524F119AA-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FA3524F119AA-LeaderElection35 PRE_VOTE round 7: result REJECTED
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-FA3524F119AA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FA3524F119AA-LeaderElection35
2022-06-20 14:45:43,761 [s0@group-FA3524F119AA-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:43,784 [Thread-757] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-06-20 14:45:43,785 [Thread-757] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 454@client-5A4D4ED4A023
2022-06-20 14:45:43,785 [Thread-757] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-FA3524F119AA: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1708ms
2022-06-20 14:45:43,786 [Thread-931] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#455:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:43,787 [Thread-759] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:3), 4, true, commits[s2:c4, s0:c2, s1:c4], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-06-20 14:45:43,788 [Thread-932] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#540:OK-t1,SUCCESS,nextIndex=5,followerCommit=4
2022-06-20 14:45:45,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:45,687 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
2022-06-20 14:45:45,687 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
2022-06-20 14:45:45,688 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s2@group-FA3524F119AA: receive client request(RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=641, seq=0, RW, message)
2022-06-20 14:45:45,688 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s2@group-FA3524F119AA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5A4D4ED4A023->s2@group-FA3524F119AA, cid=641, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 641@client-5A4D4ED4A023
2022-06-20 14:45:45,689 [Thread-757] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 641@client-5A4D4ED4A023
2022-06-20 14:45:45,689 [Thread-766] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 641@client-5A4D4ED4A023
2022-06-20 14:45:45,690 [Thread-1034] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#643:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-06-20 14:45:45,691 [Thread-759] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:45,691 [Thread-1035] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#644:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-06-20 14:45:45,692 [Thread-764] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:45,693 [Thread-1037] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s0#645:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:45,694 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:45,694 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:45,694 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:45,694 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:45,694 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:45,695 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:OPENED:c5, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:OPENED:c6, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null RUNNING
2022-06-20 14:45:45,699 [Thread-1038] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-FA3524F119AA: succeeded to handle AppendEntries. Reply: s2<-s1#646:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:45,699 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:45,699 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:45,703 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-FA3524F119AA: shutdown
2022-06-20 14:45:45,704 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s1
2022-06-20 14:45:45,704 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FA3524F119AA-FollowerState
2022-06-20 14:45:45,704 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-FA3524F119AA-StateMachineUpdater: set stopIndex = 5
2022-06-20 14:45:45,705 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-FA3524F119AA: closes. applyIndex: 5
2022-06-20 14:45:45,705 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-FA3524F119AA: shutdown
2022-06-20 14:45:45,705 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s0
2022-06-20 14:45:45,705 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:45,705 [s1@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:45,705 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FA3524F119AA-FollowerState
2022-06-20 14:45:45,705 [s1@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FA3524F119AA-FollowerState was interrupted
2022-06-20 14:45:45,706 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-FA3524F119AA: shutdown
2022-06-20 14:45:45,706 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-FA3524F119AA-StateMachineUpdater: set stopIndex = 5
2022-06-20 14:45:45,706 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-FA3524F119AA: closes. applyIndex: 5
2022-06-20 14:45:45,706 [s0@group-FA3524F119AA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FA3524F119AA-FollowerState was interrupted
2022-06-20 14:45:45,706 [s0@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:45,707 [java.util.concurrent.ThreadPoolExecutor$Worker@742499a9[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-FA3524F119AA-SegmentedRaftLogWorker close()
2022-06-20 14:45:45,708 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FA3524F119AA,id=s2
2022-06-20 14:45:45,708 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-FA3524F119AA-LeaderStateImpl
2022-06-20 14:45:45,708 [s2@group-FA3524F119AA->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FA3524F119AA->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:45,708 [java.util.concurrent.ThreadPoolExecutor$Worker@72b13c04[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-FA3524F119AA-SegmentedRaftLogWorker close()
2022-06-20 14:45:45,709 [Thread-761] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,709 [Thread-760] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-762] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-757] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-758] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-759] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-769] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [Thread-768] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,710 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@444c4761] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:45,710 [Thread-767] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,712 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-FA3524F119AA-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:45,712 [s2@group-FA3524F119AA->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-FA3524F119AA->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:45,713 [Thread-764] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,713 [Thread-765] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,713 [Thread-766] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,714 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@41ff2085] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:45,714 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-FA3524F119AA-StateMachineUpdater: set stopIndex = 6
2022-06-20 14:45:45,714 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-FA3524F119AA: closes. applyIndex: 6
2022-06-20 14:45:45,714 [s2@group-FA3524F119AA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:45,717 [java.util.concurrent.ThreadPoolExecutor$Worker@4f9755d9[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-FA3524F119AA-SegmentedRaftLogWorker close()
2022-06-20 14:45:45,718 [Thread-774] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,718 [Thread-776] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,718 [Thread-775] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,718 [Thread-771] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,719 [Thread-772] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,719 [Thread-773] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:45,719 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@68663b9b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:45,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:45,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s0@group-FA3524F119AA-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s1@group-FA3524F119AA-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-FA3524F119AA:t1, leader=s2, voted=s2, raftlog=s2@group-FA3524F119AA-SegmentedRaftLog:CLOSED:c6, conf=0: [s0|rpc:localhost:33973|admin:localhost:45755|client:localhost:34335|dataStream:localhost:33171|priority:0, s1|rpc:localhost:32809|admin:localhost:33569|client:localhost:42067|dataStream:localhost:39871|priority:0, s2|rpc:localhost:35079|admin:localhost:40627|client:localhost:36029|dataStream:localhost:34695|priority:0], old=null CLOSED
2022-06-20 14:45:45,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:45,722 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:45,722 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:45,722 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:45,722 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:45,723 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:45,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0]
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], format? true
2022-06-20 14:45:45,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0
2022-06-20 14:45:45,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0 does not exist.
2022-06-20 14:45:45,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0
2022-06-20 14:45:45,724 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:45,725 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:45,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:45,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:45,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0] (custom)
2022-06-20 14:45:45,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] returns group-5E35439F4667:java.util.concurrent.CompletableFuture@470486bd[Not completed]
2022-06-20 14:45:45,729 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:45,729 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], format? true
2022-06-20 14:45:45,729 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1
2022-06-20 14:45:45,729 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:45,729 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1 does not exist.
2022-06-20 14:45:45,729 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1
2022-06-20 14:45:45,729 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:45,730 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,730 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:45,730 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-5E35439F4667: ConfigurationManager, init=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:45,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:45,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:45,730 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,731 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0] (custom)
2022-06-20 14:45:45,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1] (custom)
2022-06-20 14:45:45,731 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:45,731 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:45,731 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667 does not exist. Creating ...
2022-06-20 14:45:45,731 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,732 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] returns group-5E35439F4667:java.util.concurrent.CompletableFuture@272b79f2[Not completed]
2022-06-20 14:45:45,732 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:45,732 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:45,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], format? true
2022-06-20 14:45:45,733 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2
2022-06-20 14:45:45,732 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:45,733 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2 does not exist.
2022-06-20 14:45:45,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2
2022-06-20 14:45:45,733 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:45,733 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:45,733 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:45,733 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,733 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,733 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667/current
2022-06-20 14:45:45,733 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:45,733 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667/sm
2022-06-20 14:45:45,734 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-5E35439F4667: ConfigurationManager, init=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:45,734 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1] (custom)
2022-06-20 14:45:45,734 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:45,734 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:45,734 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:45,734 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:45,734 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:45,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,735 [pool-16-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667 does not exist. Creating ...
2022-06-20 14:45:45,735 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667 has been successfully formatted.
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:45,736 [pool-16-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:45,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:45,736 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667/current
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:45,736 [pool-16-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667/sm
2022-06-20 14:45:45,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2] (custom)
2022-06-20 14:45:45,736 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-5E35439F4667-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:45,737 [pool-16-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667 has been successfully formatted.
2022-06-20 14:45:45,737 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:45,738 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:45,738 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:45,738 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5E35439F4667-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,738 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5E35439F4667-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:45,738 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-5E35439F4667-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:45,739 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:45,739 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:45,739 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:45,739 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:45,739 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:45,739 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:45,740 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:45,740 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:45,740 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:45,740 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:45,740 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:45,740 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:45,740 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:45,740 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-5E35439F4667-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,740 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-5E35439F4667-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:45,743 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] returns group-5E35439F4667:java.util.concurrent.CompletableFuture@5ffd3494[Not completed]
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:45,743 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-5E35439F4667: start as a follower, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:45,743 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-5E35439F4667: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:45,743 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:45,744 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,744 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:45,744 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s0
2022-06-20 14:45:45,744 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-5E35439F4667:[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:45,745 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-5E35439F4667: ConfigurationManager, init=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:45,746 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2] (custom)
2022-06-20 14:45:45,746 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:45,746 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:45,746 [pool-17-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667 does not exist. Creating ...
2022-06-20 14:45:45,747 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,748 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@23652270] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:45,748 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-5E35439F4667: start as a follower, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,748 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5E35439F4667: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:45,748 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,748 [pool-17-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:45,748 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667/current
2022-06-20 14:45:45,749 [pool-17-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667/sm
2022-06-20 14:45:45,749 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s1
2022-06-20 14:45:45,749 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:45,749 [pool-17-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667 has been successfully formatted.
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-5E35439F4667-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:45,750 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:45,752 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:45,752 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:45,752 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:45,752 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-5E35439F4667-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,752 [pool-17-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-5E35439F4667-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:45,753 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@15d1ef63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:45,753 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:45,754 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-5E35439F4667: start as a follower, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,754 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-5E35439F4667: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:45,754 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,754 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s2
2022-06-20 14:45:45,754 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:45,755 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@207d5056] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:45,755 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:45,755 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E35439F4667:t0, leader=null, voted=, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E35439F4667:t0, leader=null, voted=, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E35439F4667:t0, leader=null, voted=, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
2022-06-20 14:45:45,755 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E35439F4667:t0, leader=null, voted=, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E35439F4667:t0, leader=null, voted=, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E35439F4667:t0, leader=null, voted=, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E35439F4667:t0, leader=null, voted=, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5E35439F4667:t0, leader=null, voted=, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E35439F4667:t0, leader=null, voted=, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:45,912 [s1@group-5E35439F4667-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5E35439F4667-FollowerState: change to CANDIDATE, lastRpcElapsedTime:163986338ns, electionTimeout:163ms
2022-06-20 14:45:45,912 [s1@group-5E35439F4667-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,913 [s1@group-5E35439F4667-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5E35439F4667: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:45,913 [s1@group-5E35439F4667-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:45,913 [s1@group-5E35439F4667-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E35439F4667-LeaderElection36
2022-06-20 14:45:45,913 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5E35439F4667-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,915 [Thread-1060] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-5E35439F4667: receive requestVote(PRE_VOTE, s1, group-5E35439F4667, 0, (t:0, i:0))
2022-06-20 14:45:45,915 [Thread-1060] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5E35439F4667-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:45,915 [Thread-1060] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-5E35439F4667 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5E35439F4667:t0, leader=null, voted=, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,915 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5E35439F4667-LeaderElection36: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:45,915 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-06-20 14:45:45,915 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5E35439F4667-LeaderElection36 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:45,916 [Thread-1046] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-5E35439F4667: receive requestVote(PRE_VOTE, s1, group-5E35439F4667, 0, (t:0, i:0))
2022-06-20 14:45:45,916 [Thread-1046] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-5E35439F4667-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:45,916 [Thread-1046] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-5E35439F4667 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5E35439F4667:t0, leader=null, voted=, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,917 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5E35439F4667-LeaderElection36 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,917 [Thread-1047] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-5E35439F4667: receive requestVote(ELECTION, s1, group-5E35439F4667, 1, (t:0, i:0))
2022-06-20 14:45:45,917 [Thread-1061] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-5E35439F4667: receive requestVote(ELECTION, s1, group-5E35439F4667, 1, (t:0, i:0))
2022-06-20 14:45:45,918 [Thread-1061] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5E35439F4667-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:45,918 [Thread-1061] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-5E35439F4667: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:45:45,918 [Thread-1061] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,918 [Thread-1061] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,918 [s2@group-5E35439F4667-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5E35439F4667-FollowerState was interrupted
2022-06-20 14:45:45,921 [Thread-1047] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-5E35439F4667-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:45,921 [Thread-1047] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-5E35439F4667: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:45:45,921 [Thread-1047] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,921 [Thread-1047] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5E35439F4667-FollowerState
2022-06-20 14:45:45,922 [s0@group-5E35439F4667-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5E35439F4667-FollowerState was interrupted
2022-06-20 14:45:45,926 [Thread-1061] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-5E35439F4667 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5E35439F4667:t1, leader=null, voted=s1, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5E35439F4667-LeaderElection36: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5E35439F4667-LeaderElection36 ELECTION round 0: result PASSED
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5E35439F4667-LeaderElection36
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5E35439F4667: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-5E35439F4667: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 187ms
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:45,926 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:45,927 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:45,927 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:45,927 [Thread-1047] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-5E35439F4667 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5E35439F4667:t1, leader=null, voted=s1, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,927 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:45,927 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:45,927 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:45,928 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:45,928 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:45,928 [s1@group-5E35439F4667-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5E35439F4667-LeaderStateImpl
2022-06-20 14:45:45,928 [s1@group-5E35439F4667-LeaderElection36] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-5E35439F4667-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:45,932 [Thread-1048] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-5E35439F4667: change Leader from null to s1 at term 1 for appendEntries, leader elected after 196ms
2022-06-20 14:45:45,933 [Thread-1062] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-5E35439F4667: change Leader from null to s1 at term 1 for appendEntries, leader elected after 182ms
2022-06-20 14:45:45,933 [s1@group-5E35439F4667-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-5E35439F4667: set configuration 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,933 [Thread-1046] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-5E35439F4667: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:45,934 [Thread-1060] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:45,934 [Thread-1046] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-5E35439F4667: set configuration 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,938 [s1@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-5E35439F4667-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s1/6f317689-13ea-4e71-83f8-5e35439f4667/current/log_inprogress_0
2022-06-20 14:45:45,938 [Thread-1046] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-5E35439F4667-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:45,942 [Thread-1060] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-5E35439F4667: set configuration 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:45,942 [Thread-1060] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-5E35439F4667-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:45,954 [s0@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-5E35439F4667-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s0/6f317689-13ea-4e71-83f8-5e35439f4667/current/log_inprogress_0
2022-06-20 14:45:45,954 [s2@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-5E35439F4667-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc9227116d/s2/6f317689-13ea-4e71-83f8-5e35439f4667/current/log_inprogress_0
2022-06-20 14:45:45,955 [Thread-1095] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s0#655:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:45,956 [Thread-1096] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#656:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:46,206 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
2022-06-20 14:45:46,206 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:46,210 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1080)) - s1@group-5E35439F4667: receive setConfiguration SetConfigurationRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=670, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-06-20 14:45:46,210 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-5E35439F4667-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=670, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-06-20 14:45:46,213 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-5E35439F4667: set configuration 1: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0]
2022-06-20 14:45:46,213 [Thread-1047] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-06-20 14:45:46,214 [Thread-1061] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2022-06-20 14:45:46,214 [Thread-1061] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-5E35439F4667: set configuration 1: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0]
2022-06-20 14:45:46,215 [Thread-1110] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#672:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:46,216 [s1@group-5E35439F4667-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-5E35439F4667: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-06-20 14:45:46,216 [Thread-1062] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY]
2022-06-20 14:45:46,217 [Thread-1062] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-5E35439F4667: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:46,217 [Thread-1111] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#673:OK-t1,SUCCESS,nextIndex=4,followerCommit=1
2022-06-20 14:45:46,220 [Thread-1060] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c0, s2:c1], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-06-20 14:45:46,221 [Thread-1114] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#675:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:45:46,221 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s1@group-5E35439F4667: receive client request(RaftClientRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=676, seq=0, RW, message)
2022-06-20 14:45:46,224 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(972)) - s1@group-5E35439F4667: receive transferLeadership TransferLeadershipRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=677, seq=0, RO, null
2022-06-20 14:45:46,226 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s1@group-5E35439F4667-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=676, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 676@client-0133BA5A997F
2022-06-20 14:45:46,226 [Thread-1061] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits[s1:c4, s0:c0, s2:c3], entries: (t:1, i:5), STATEMACHINELOGENTRY, 676@client-0133BA5A997F
2022-06-20 14:45:46,228 [Thread-1117] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#678:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-06-20 14:45:46,231 [Thread-1062] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c0, s2:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:46,232 [Thread-1120] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#679:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:46,537 [s0@group-5E35439F4667-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5E35439F4667-FollowerState: change to CANDIDATE, lastRpcElapsedTime:354719168ns, electionTimeout:172ms
2022-06-20 14:45:46,538 [s0@group-5E35439F4667-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5E35439F4667-FollowerState
2022-06-20 14:45:46,538 [s0@group-5E35439F4667-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-5E35439F4667: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:46,538 [s0@group-5E35439F4667-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:46,538 [s0@group-5E35439F4667-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5E35439F4667-LeaderElection37
2022-06-20 14:45:46,540 [s0@group-5E35439F4667-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-5E35439F4667: change Leader from s1 to null at term 1 for PRE_VOTE
2022-06-20 14:45:46,540 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:46,821 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:46,821 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 0: result TIMEOUT
2022-06-20 14:45:46,821 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:47,084 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:47,085 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 1: result TIMEOUT
2022-06-20 14:45:47,085 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:47,366 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:47,366 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 2: result TIMEOUT
2022-06-20 14:45:47,366 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:47,601 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:47,601 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 3: result TIMEOUT
2022-06-20 14:45:47,601 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:47,781 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:47,781 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 4: result TIMEOUT
2022-06-20 14:45:47,781 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:48,077 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:48,077 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 5: result TIMEOUT
2022-06-20 14:45:48,077 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:48,267 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:48,267 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 6: result TIMEOUT
2022-06-20 14:45:48,267 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:48,498 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:48,499 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 7: result TIMEOUT
2022-06-20 14:45:48,499 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 8: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:48,718 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:48,718 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 8: result TIMEOUT
2022-06-20 14:45:48,718 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 9: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:48,946 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:48,946 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 9: result TIMEOUT
2022-06-20 14:45:48,946 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 10: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:49,131 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:49,131 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 10: result TIMEOUT
2022-06-20 14:45:49,131 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 11: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:49,213 [s1@group-5E35439F4667->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-5E35439F4667->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@1ff7ca83
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:49,232 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-0133BA5A997F: suggested new leader: null. Failed TransferLeadershipRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=677, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=677, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:132)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:98)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:54)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:183)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:49,233 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-0133BA5A997F: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-06-20 14:45:49,233 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-5E35439F4667 client-0133BA5A997F: client change Leader from s1 to s0 ex=java.io.IOException
2022-06-20 14:45:49,239 [Thread-1048] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-06-20 14:45:49,323 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:49,323 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 11: result TIMEOUT
2022-06-20 14:45:49,323 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 12: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:49,335 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(972)) - s0@group-5E35439F4667: receive transferLeadership TransferLeadershipRequest:client-0133BA5A997F->s0@group-5E35439F4667, cid=677, seq=0, RO, null
2022-06-20 14:45:49,336 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-0133BA5A997F: suggested new leader: null. Failed TransferLeadershipRequest:client-0133BA5A997F->s0@group-5E35439F4667, cid=677, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-5E35439F4667 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:696)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:977)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$24(RaftServerProxy.java:598)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:777)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:49,336 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-0133BA5A997F: oldLeader=s0,  curLeader=s0, newLeader=s2
2022-06-20 14:45:49,336 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-5E35439F4667 client-0133BA5A997F: client change Leader from s0 to s2 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-06-20 14:45:49,437 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(972)) - s2@group-5E35439F4667: receive transferLeadership TransferLeadershipRequest:client-0133BA5A997F->s2@group-5E35439F4667, cid=677, seq=0, RO, null
2022-06-20 14:45:49,437 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-0133BA5A997F: suggested new leader: s1. Failed TransferLeadershipRequest:client-0133BA5A997F->s2@group-5E35439F4667, cid=677, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-5E35439F4667 is not the leader s1|rpc:|dataStream:|priority:1
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:696)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:977)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$24(RaftServerProxy.java:598)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:777)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:49,438 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-0133BA5A997F: oldLeader=s2,  curLeader=s2, newLeader=s1
2022-06-20 14:45:49,438 [Thread-1115] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-5E35439F4667 client-0133BA5A997F: client change Leader from s2 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-06-20 14:45:49,477 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:49,477 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 12: result TIMEOUT
2022-06-20 14:45:49,477 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 13: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:49,538 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(972)) - s1@group-5E35439F4667: receive transferLeadership TransferLeadershipRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=677, seq=0, RO, null
2022-06-20 14:45:49,708 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:49,708 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 13: result TIMEOUT
2022-06-20 14:45:49,708 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 14: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:49,950 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:49,950 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 14: result TIMEOUT
2022-06-20 14:45:49,950 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 15: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:50,104 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:50,105 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 15: result TIMEOUT
2022-06-20 14:45:50,105 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 16: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:50,313 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:50,313 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 16: result TIMEOUT
2022-06-20 14:45:50,313 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 17: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:50,588 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:50,588 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 17: result TIMEOUT
2022-06-20 14:45:50,588 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 18: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:50,811 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:50,812 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 18: result TIMEOUT
2022-06-20 14:45:50,812 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 19: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:51,106 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:45:51,106 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 19: result TIMEOUT
2022-06-20 14:45:51,106 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 20: submit vote requests at term 1 for 0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null
2022-06-20 14:45:51,230 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s1@group-5E35439F4667: receive client request(RaftClientRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=876, seq=0, RW, message)
2022-06-20 14:45:51,231 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s1@group-5E35439F4667-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0133BA5A997F->s1@group-5E35439F4667, cid=876, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 876@client-0133BA5A997F
2022-06-20 14:45:51,232 [Thread-1062] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:6), 6, true, commits[s1:c6, s0:c0, s2:c6], entries: (t:1, i:7), STATEMACHINELOGENTRY, 876@client-0133BA5A997F
2022-06-20 14:45:51,233 [Thread-1365] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#877:OK-t1,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:45:51,233 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:51,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:51,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:51,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:51,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:51,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-5E35439F4667:t1, leader=null, voted=s1, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:OPENED:c7, conf=3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:OPENED:c6, conf=3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-06-20 14:45:51,234 [Thread-1060] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: receive appendEntries(s1, 1, (t:1, i:7), 7, true, commits[s1:c7, s0:c0, s2:c6], entries: (t:1, i:8), METADATAENTRY(c:7)
2022-06-20 14:45:51,235 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:51,236 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:51,238 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-5E35439F4667: shutdown
2022-06-20 14:45:51,238 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-5E35439F4667: shutdown
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s0
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5E35439F4667-LeaderElection37
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s1
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-5E35439F4667-LeaderStateImpl
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-5E35439F4667-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:51,239 [s1@group-5E35439F4667->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-5E35439F4667->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:51,239 [s1@group-5E35439F4667->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-5E35439F4667->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-5E35439F4667-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:51,239 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-5E35439F4667: closes. applyIndex: 0
2022-06-20 14:45:51,243 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:51,243 [s0@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-5E35439F4667-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:51,244 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-5E35439F4667: shutdown
2022-06-20 14:45:51,245 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-5E35439F4667-StateMachineUpdater: set stopIndex = 7
2022-06-20 14:45:51,245 [java.util.concurrent.ThreadPoolExecutor$Worker@1faa3427[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-5E35439F4667-SegmentedRaftLogWorker close()
2022-06-20 14:45:51,245 [Thread-1369] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5E35439F4667: succeeded to handle AppendEntries. Reply: s1<-s2#878:OK-t1,SUCCESS,nextIndex=9,followerCommit=7
2022-06-20 14:45:51,246 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-5E35439F4667: closes. applyIndex: 7
2022-06-20 14:45:51,246 [s1@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-5E35439F4667-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:51,246 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E35439F4667,id=s2
2022-06-20 14:45:51,247 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5E35439F4667-FollowerState
2022-06-20 14:45:51,247 [s2@group-5E35439F4667-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5E35439F4667-FollowerState was interrupted
2022-06-20 14:45:51,247 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-5E35439F4667-StateMachineUpdater: set stopIndex = 7
2022-06-20 14:45:51,247 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-5E35439F4667: closes. applyIndex: 7
2022-06-20 14:45:51,247 [s2@group-5E35439F4667-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-5E35439F4667-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:51,252 [java.util.concurrent.ThreadPoolExecutor$Worker@36ec5987[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-5E35439F4667-SegmentedRaftLogWorker close()
2022-06-20 14:45:51,252 [java.util.concurrent.ThreadPoolExecutor$Worker@5406f889[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-5E35439F4667-SegmentedRaftLogWorker close()
2022-06-20 14:45:51,254 [Thread-1049] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1050] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1057] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1051] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1058] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1056] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1046] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,254 [Thread-1047] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-06-20 14:45:51,254 [Thread-1048] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-06-20 14:45:51,255 [Thread-1053] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,255 [Thread-1054] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,255 [Thread-1055] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,255 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@23652270] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:51,255 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@15d1ef63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:51,259 [Thread-1063] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,259 [Thread-1064] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,259 [Thread-1065] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,259 [Thread-1061] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,259 [Thread-1062] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,259 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@207d5056] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:51,260 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:51,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:51,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:51,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:51,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:51,266 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:51,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-5E35439F4667:t1, leader=null, voted=s1, raftlog=s0@group-5E35439F4667-SegmentedRaftLog:CLOSED:c0, conf=0: [s0|rpc:localhost:33697|admin:localhost:41505|client:localhost:33087|dataStream:localhost:33153|priority:0, s1|rpc:localhost:41515|admin:localhost:33439|client:localhost:45545|dataStream:localhost:44745|priority:0, s2|rpc:localhost:44429|admin:localhost:42859|client:localhost:37643|dataStream:localhost:44933|priority:0], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s1@group-5E35439F4667-SegmentedRaftLog:CLOSED:c7, conf=3: [s0|priority:2, s1|priority:1, s2|priority:1], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-5E35439F4667:t1, leader=s1, voted=s1, raftlog=s2@group-5E35439F4667-SegmentedRaftLog:CLOSED:c7, conf=3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
2022-06-20 14:45:51,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:51,268 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:51,268 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:51,268 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:51,268 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:51,268 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(80)) - Running testBasicLeaderElection
2022-06-20 14:45:51,268 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0]
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:51,287 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s3, group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], format? true
2022-06-20 14:45:51,287 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3
2022-06-20 14:45:51,287 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3 does not exist.
2022-06-20 14:45:51,288 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3
2022-06-20 14:45:51,288 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:51,288 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:51,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:51,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:51,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,289 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3] (custom)
2022-06-20 14:45:51,289 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] returns group-E8BFF3114F3F:java.util.concurrent.CompletableFuture@4cc0585b[Not completed]
2022-06-20 14:45:51,289 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s4, group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], format? true
2022-06-20 14:45:51,289 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4
2022-06-20 14:45:51,289 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4 does not exist.
2022-06-20 14:45:51,289 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:51,290 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,290 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4] (custom)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s3: new RaftServerImpl for group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s3@group-E8BFF3114F3F: ConfigurationManager, init=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:51,291 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3] (custom)
2022-06-20 14:45:51,292 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:51,292 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:51,292 [pool-18-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f does not exist. Creating ...
2022-06-20 14:45:51,292 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,295 [pool-18-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:51,295 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current
2022-06-20 14:45:51,295 [pool-18-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/sm
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f has been successfully formatted.
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-E8BFF3114F3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,299 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:51,300 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] returns group-E8BFF3114F3F:java.util.concurrent.CompletableFuture@3801e3ba[Not completed]
2022-06-20 14:45:51,300 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], format? true
2022-06-20 14:45:51,300 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0
2022-06-20 14:45:51,300 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,300 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0 does not exist.
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:51,301 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,301 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:51,302 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0] (custom)
2022-06-20 14:45:51,302 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,302 [pool-18-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s4: new RaftServerImpl for group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s4@group-E8BFF3114F3F: ConfigurationManager, init=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4] (custom)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:51,302 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:51,303 [pool-19-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f does not exist. Creating ...
2022-06-20 14:45:51,303 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,303 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:51,304 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] returns group-E8BFF3114F3F:java.util.concurrent.CompletableFuture@478193e6[Not completed]
2022-06-20 14:45:51,304 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:51,304 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], format? true
2022-06-20 14:45:51,304 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1
2022-06-20 14:45:51,304 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:51,304 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:51,304 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1 does not exist.
2022-06-20 14:45:51,304 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:51,304 [pool-19-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:51,304 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:51,305 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current
2022-06-20 14:45:51,305 [pool-19-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/sm
2022-06-20 14:45:51,305 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:51,305 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:51,305 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:51,305 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:51,305 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:51,304 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f has been successfully formatted.
2022-06-20 14:45:51,306 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:51,306 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:51,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:51,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,306 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:51,306 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,306 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-E8BFF3114F3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:51,307 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:51,307 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,307 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1] (custom)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:51,307 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:51,307 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:51,308 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:51,307 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,308 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,308 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,308 [pool-19-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,308 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:51,308 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-E8BFF3114F3F: ConfigurationManager, init=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:51,308 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0] (custom)
2022-06-20 14:45:51,309 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:51,309 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:51,309 [pool-20-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f does not exist. Creating ...
2022-06-20 14:45:51,309 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:51,310 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] returns group-E8BFF3114F3F:java.util.concurrent.CompletableFuture@6da32da4[Not completed]
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:51,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], format? true
2022-06-20 14:45:51,310 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:51,310 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2 does not exist.
2022-06-20 14:45:51,310 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2
2022-06-20 14:45:51,310 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:51,311 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:51,311 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:51,311 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:51,311 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:51,311 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:51,311 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:51,311 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:51,311 [pool-20-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:51,311 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current
2022-06-20 14:45:51,311 [pool-20-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/sm
2022-06-20 14:45:51,311 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:51,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,312 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2] (custom)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,312 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:51,313 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-E8BFF3114F3F: ConfigurationManager, init=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f has been successfully formatted.
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-E8BFF3114F3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,313 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:51,314 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:51,314 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:51,314 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:51,314 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:51,314 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1] (custom)
2022-06-20 14:45:51,315 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:51,315 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:51,315 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:51,316 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:51,316 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:51,316 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,316 [pool-20-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,316 [pool-21-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f does not exist. Creating ...
2022-06-20 14:45:51,317 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,318 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:51,318 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:51,318 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:51,318 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:51,318 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:51,319 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:51,319 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:51,319 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:51,319 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:51,319 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:51,319 [pool-21-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:51,319 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current
2022-06-20 14:45:51,319 [pool-21-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/sm
2022-06-20 14:45:51,320 [pool-21-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f has been successfully formatted.
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-E8BFF3114F3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,321 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:51,322 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:51,322 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] returns group-E8BFF3114F3F:java.util.concurrent.CompletableFuture@27e454a4[Not completed]
2022-06-20 14:45:51,322 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s3@group-E8BFF3114F3F: start as a follower, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,322 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-E8BFF3114F3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:51,322 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-E8BFF3114F3F:[s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:51,323 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-E8BFF3114F3F: ConfigurationManager, init=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:51,324 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2] (custom)
2022-06-20 14:45:51,324 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:51,324 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:51,324 [pool-22-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f does not exist. Creating ...
2022-06-20 14:45:51,325 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,326 [pool-22-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:51,326 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current
2022-06-20 14:45:51,326 [pool-22-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/sm
2022-06-20 14:45:51,327 [pool-22-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f has been successfully formatted.
2022-06-20 14:45:51,327 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:51,327 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:51,327 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,328 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-5E35439F4667-LeaderElection37: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-E8BFF3114F3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,328 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:51,329 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:51,330 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s3
2022-06-20 14:45:51,334 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s3: start RPC server
2022-06-20 14:45:51,335 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s4@group-E8BFF3114F3F: start as a follower, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,335 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-E8BFF3114F3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:51,335 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:51,335 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,335 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:51,336 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:51,336 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s4
2022-06-20 14:45:51,336 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,336 [pool-21-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,336 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s4: start RPC server
2022-06-20 14:45:51,337 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@53de93f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-06-20 14:45:51,337 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:51,337 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:51,337 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:51,337 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:51,337 [s0@group-5E35439F4667-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-5E35439F4667-LeaderElection37 PRE_VOTE round 20: result REJECTED
2022-06-20 14:45:51,337 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:51,338 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:51,337 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:51,338 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,338 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:51,338 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-E8BFF3114F3F: start as a follower, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,338 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E8BFF3114F3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:51,338 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,338 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:51,338 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:51,338 [pool-22-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:51,338 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:51,339 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s0
2022-06-20 14:45:51,339 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:51,339 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:51,339 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@415030fa] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-06-20 14:45:51,339 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:51,339 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:51,339 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:51,339 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:51,340 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:51,340 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-E8BFF3114F3F: start as a follower, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,340 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:51,340 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,341 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@2c3a3493] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:51,341 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s1
2022-06-20 14:45:51,341 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:51,342 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-E8BFF3114F3F: start as a follower, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,342 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:51,342 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@297e14c4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:51,342 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,342 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s2
2022-06-20 14:45:51,343 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:51,343 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@e185b01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:51,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,344 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:51,344 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:51,505 [s4@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169751328ns, electionTimeout:169ms
2022-06-20 14:45:51,505 [s4@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,505 [s4@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:51,506 [s4@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:51,506 [s4@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-E8BFF3114F3F-LeaderElection38
2022-06-20 14:45:51,507 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-E8BFF3114F3F-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,507 [Thread-1375] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s4, group-E8BFF3114F3F, 0, (t:0, i:0))
2022-06-20 14:45:51,507 [Thread-1375] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,507 [Thread-1375] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-E8BFF3114F3F replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,508 [Thread-1389] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s4, group-E8BFF3114F3F, 0, (t:0, i:0))
2022-06-20 14:45:51,508 [Thread-1389] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,508 [Thread-1389] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-E8BFF3114F3F replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,508 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s4, group-E8BFF3114F3F, 0, (t:0, i:0))
2022-06-20 14:45:51,508 [Thread-1397] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,508 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,508 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-E8BFF3114F3F-LeaderElection38: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:51,508 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t0
2022-06-20 14:45:51,508 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s0#0:OK-t0
2022-06-20 14:45:51,508 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-E8BFF3114F3F-LeaderElection38 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:51,509 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s4, group-E8BFF3114F3F, 0, (t:0, i:0))
2022-06-20 14:45:51,509 [Thread-1405] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,509 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-E8BFF3114F3F:t0, leader=null, voted=, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,510 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-E8BFF3114F3F-LeaderElection38 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,510 [Thread-1390] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-E8BFF3114F3F: receive requestVote(ELECTION, s4, group-E8BFF3114F3F, 1, (t:0, i:0))
2022-06-20 14:45:51,510 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(ELECTION, s4, group-E8BFF3114F3F, 1, (t:0, i:0))
2022-06-20 14:45:51,510 [Thread-1376] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-E8BFF3114F3F: receive requestVote(ELECTION, s4, group-E8BFF3114F3F, 1, (t:0, i:0))
2022-06-20 14:45:51,511 [Thread-1390] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,511 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,511 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-06-20 14:45:51,511 [Thread-1406] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,511 [Thread-1406] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,511 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:51,511 [Thread-1390] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-06-20 14:45:51,511 [Thread-1390] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,511 [Thread-1376] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,511 [Thread-1376] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-06-20 14:45:51,511 [Thread-1376] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,512 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(ELECTION, s4, group-E8BFF3114F3F, 1, (t:0, i:0))
2022-06-20 14:45:51,512 [Thread-1376] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,512 [s3@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:51,512 [Thread-1390] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,512 [s0@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:51,513 [Thread-1398] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-06-20 14:45:51,514 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-06-20 14:45:51,514 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-E8BFF3114F3F:t1, leader=null, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,514 [Thread-1398] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,514 [Thread-1398] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:51,514 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:51,514 [Thread-1376] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-E8BFF3114F3F replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-E8BFF3114F3F:t1, leader=null, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-E8BFF3114F3F-LeaderElection38: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t1
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s2#0:OK-t1
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-E8BFF3114F3F-LeaderElection38 ELECTION round 0: result PASSED
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-E8BFF3114F3F-LeaderElection38
2022-06-20 14:45:51,514 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s4@group-E8BFF3114F3F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s4@group-E8BFF3114F3F: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 208ms
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,515 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:51,516 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:51,516 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,516 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:51,516 [Thread-1390] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-E8BFF3114F3F replies to ELECTION vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-E8BFF3114F3F:t1, leader=null, voted=s4, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,516 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:51,517 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:51,518 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-E8BFF3114F3F:t1, leader=null, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,522 [Thread-1377] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-E8BFF3114F3F: change Leader from null to s4 at term 1 for appendEntries, leader elected after 222ms
2022-06-20 14:45:51,522 [Thread-1407] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from null to s4 at term 1 for appendEntries, leader elected after 194ms
2022-06-20 14:45:51,522 [Thread-1399] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from null to s4 at term 1 for appendEntries, leader elected after 201ms
2022-06-20 14:45:51,522 [Thread-1375] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:51,522 [Thread-1397] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:51,523 [s4@group-E8BFF3114F3F-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s4@group-E8BFF3114F3F: set configuration 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,523 [Thread-1375] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s3@group-E8BFF3114F3F: set configuration 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,523 [Thread-1375] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:51,523 [Thread-1405] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:51,526 [Thread-1397] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-E8BFF3114F3F: set configuration 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,527 [Thread-1397] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:51,527 [Thread-1405] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-E8BFF3114F3F: set configuration 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,527 [Thread-1405] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:51,528 [Thread-1391] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-E8BFF3114F3F: change Leader from null to s4 at term 1 for appendEntries, leader elected after 214ms
2022-06-20 14:45:51,528 [Thread-1389] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-E8BFF3114F3F: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:51,528 [Thread-1389] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-E8BFF3114F3F: set configuration 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:51,529 [Thread-1389] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:51,535 [s4@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s4/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0
2022-06-20 14:45:51,540 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0
2022-06-20 14:45:51,556 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0
2022-06-20 14:45:51,556 [Thread-1454] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s4<-s3#891:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:51,556 [s0@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0
2022-06-20 14:45:51,557 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0
2022-06-20 14:45:51,557 [Thread-1455] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s4<-s0#894:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:51,558 [Thread-1456] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s4<-s1#892:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:51,558 [Thread-1457] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s4<-s2#893:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:51,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:51,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:51,795 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s4
2022-06-20 14:45:51,795 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s4: close
2022-06-20 14:45:51,796 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s4@group-E8BFF3114F3F: shutdown
2022-06-20 14:45:51,796 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s4
2022-06-20 14:45:51,796 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:51,796 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-E8BFF3114F3F-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:51,796 [s4@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:51,796 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-E8BFF3114F3F-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:45:51,796 [s4@group-E8BFF3114F3F->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-E8BFF3114F3F->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:51,796 [s4@group-E8BFF3114F3F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-E8BFF3114F3F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:51,796 [s4@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:51,797 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s4@group-E8BFF3114F3F: closes. applyIndex: 0
2022-06-20 14:45:51,797 [s4@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:51,798 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-E8BFF3114F3F-SegmentedRaftLogWorker close()
2022-06-20 14:45:51,799 [Thread-1385] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,799 [Thread-1386] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,799 [Thread-1387] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,800 [Thread-1382] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,800 [Thread-1383] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,800 [Thread-1384] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:51,800 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@415030fa] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-06-20 14:45:51,800 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:51,801 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:51,801 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,097 [s0@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:309830643ns, electionTimeout:222ms
2022-06-20 14:45:52,097 [s0@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,097 [s0@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:52,097 [s0@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:52,098 [s0@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E8BFF3114F3F-LeaderElection39
2022-06-20 14:45:52,098 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-E8BFF3114F3F: change Leader from s4 to null at term 1 for PRE_VOTE
2022-06-20 14:45:52,098 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E8BFF3114F3F-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,098 [Thread-1376] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s0, group-E8BFF3114F3F, 1, (t:1, i:0))
2022-06-20 14:45:52,099 [Thread-1376] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,099 [Thread-1376] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-E8BFF3114F3F replies to PRE_VOTE vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,099 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s0, group-E8BFF3114F3F, 1, (t:1, i:0))
2022-06-20 14:45:52,099 [Thread-1398] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,099 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-E8BFF3114F3F-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E8BFF3114F3F-LeaderElection39: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t1
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:OK-t1
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,100 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E8BFF3114F3F-LeaderElection39 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:52,101 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s0, group-E8BFF3114F3F, 1, (t:1, i:0))
2022-06-20 14:45:52,101 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,101 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,102 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E8BFF3114F3F-LeaderElection39 ELECTION round 0: submit vote requests at term 2 for 0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,102 [Thread-1377] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s3@group-E8BFF3114F3F: receive requestVote(ELECTION, s0, group-E8BFF3114F3F, 2, (t:1, i:0))
2022-06-20 14:45:52,102 [Thread-1377] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,102 [Thread-1377] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-E8BFF3114F3F: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:52,102 [Thread-1377] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:45:52,102 [Thread-1377] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,102 [Thread-1377] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,102 [s3@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:52,102 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(ELECTION, s0, group-E8BFF3114F3F, 2, (t:1, i:0))
2022-06-20 14:45:52,102 [Thread-1399] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,102 [Thread-1399] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:52,103 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:45:52,103 [Thread-1399] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,103 [Thread-1399] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,103 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-E8BFF3114F3F-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,103 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:52,103 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(ELECTION, s0, group-E8BFF3114F3F, 2, (t:1, i:0))
2022-06-20 14:45:52,103 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,103 [Thread-1407] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from s4 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:52,103 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:45:52,103 [Thread-1407] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,103 [Thread-1407] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,103 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:52,104 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-E8BFF3114F3F:t2, leader=null, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,104 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-E8BFF3114F3F:t2, leader=null, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E8BFF3114F3F-LeaderElection39: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t2
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E8BFF3114F3F-LeaderElection39 ELECTION round 0: result PASSED
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E8BFF3114F3F-LeaderElection39
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E8BFF3114F3F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-E8BFF3114F3F: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 7ms
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:52,105 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:52,106 [Thread-1377] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s3@group-E8BFF3114F3F replies to ELECTION vote request: s0<-s3#0:OK-t2. Peer's state: s3@group-E8BFF3114F3F:t2, leader=null, voted=s0, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,106 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,107 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:52,108 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:52,108 [s0@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,109 [s0@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,117 [Thread-1375] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-E8BFF3114F3F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 15ms
2022-06-20 14:45:52,118 [Thread-1397] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 15ms
2022-06-20 14:45:52,118 [s0@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s0@group-E8BFF3114F3F->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,119 [s0@group-E8BFF3114F3F-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-E8BFF3114F3F: set configuration 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,119 [Thread-1405] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 16ms
2022-06-20 14:45:52,120 [s0@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s0/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1
2022-06-20 14:45:52,120 [Thread-1398] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:45:52,120 [Thread-1398] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-E8BFF3114F3F: set configuration 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,120 [Thread-1398] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:52,121 [Thread-1406] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:45:52,121 [Thread-1406] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-E8BFF3114F3F: set configuration 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,121 [Thread-1406] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:52,121 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,121 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,122 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,122 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,126 [Thread-1376] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits[s0:c0, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:45:52,126 [Thread-1376] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s3@group-E8BFF3114F3F: set configuration 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,126 [Thread-1376] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:45:52,127 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,127 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_0-0
2022-06-20 14:45:52,142 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1
2022-06-20 14:45:52,142 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1
2022-06-20 14:45:52,142 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1
2022-06-20 14:45:52,142 [Thread-1506] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s2#928:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:52,143 [Thread-1507] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s1#927:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:52,144 [Thread-1508] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s3#929:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:52,145 [Thread-1399] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:52,145 [Thread-1377] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:52,144 [Thread-1407] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits[s0:c1, s3:c0, s4:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:52,146 [Thread-1509] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s2#931:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:52,146 [Thread-1511] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s1#932:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:52,148 [Thread-1510] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s3@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s0<-s3#933:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:52,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:  RUNNING    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s0
2022-06-20 14:45:52,252 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:52,253 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-E8BFF3114F3F: shutdown
2022-06-20 14:45:52,253 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s0
2022-06-20 14:45:52,253 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:52,253 [s0@group-E8BFF3114F3F->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E8BFF3114F3F->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:52,253 [s0@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:52,253 [s0@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:52,253 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E8BFF3114F3F-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:52,253 [s0@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-06-20 14:45:52,254 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E8BFF3114F3F-StateMachineUpdater: set stopIndex = 2
2022-06-20 14:45:52,254 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-E8BFF3114F3F: closes. applyIndex: 2
2022-06-20 14:45:52,255 [s0@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:52,256 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-E8BFF3114F3F-SegmentedRaftLogWorker close()
2022-06-20 14:45:52,256 [Thread-1392] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,256 [Thread-1393] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,257 [Thread-1394] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,257 [Thread-1389] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,257 [Thread-1390] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,257 [Thread-1391] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,257 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@2c3a3493] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:52,257 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:52,258 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,258 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,516 [s3@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:292918375ns, electionTimeout:242ms
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-E8BFF3114F3F-LeaderElection40
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-E8BFF3114F3F: change Leader from s0 to null at term 2 for PRE_VOTE
2022-06-20 14:45:52,517 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-E8BFF3114F3F-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,518 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s3, group-E8BFF3114F3F, 2, (t:2, i:2))
2022-06-20 14:45:52,518 [Thread-1398] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,518 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,518 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-E8BFF3114F3F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,518 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-E8BFF3114F3F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,519 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s3, group-E8BFF3114F3F, 2, (t:2, i:2))
2022-06-20 14:45:52,519 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,519 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-E8BFF3114F3F-LeaderElection40: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:OK-t2
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t2
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,519 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-E8BFF3114F3F-LeaderElection40 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:52,520 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-E8BFF3114F3F-LeaderElection40 ELECTION round 0: submit vote requests at term 3 for 1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,521 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-E8BFF3114F3F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,521 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(ELECTION, s3, group-E8BFF3114F3F, 3, (t:2, i:2))
2022-06-20 14:45:52,521 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-E8BFF3114F3F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,521 [Thread-1399] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,521 [Thread-1399] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-06-20 14:45:52,521 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2022-06-20 14:45:52,521 [Thread-1399] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,522 [Thread-1399] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,522 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:52,522 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(ELECTION, s3, group-E8BFF3114F3F, 3, (t:2, i:2))
2022-06-20 14:45:52,522 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,522 [Thread-1407] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-06-20 14:45:52,522 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2022-06-20 14:45:52,522 [Thread-1407] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,522 [Thread-1407] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,522 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:52,523 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to ELECTION vote request: s3<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,523 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to ELECTION vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-E8BFF3114F3F-LeaderElection40: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:OK-t3
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t3
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-E8BFF3114F3F-LeaderElection40 ELECTION round 0: result PASSED
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-E8BFF3114F3F-LeaderElection40
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s3@group-E8BFF3114F3F: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s3@group-E8BFF3114F3F: change Leader from null to s3 at term 3 for becomeLeader, leader elected after 6ms
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:52,524 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,525 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:52,526 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:45:52,527 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,527 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,531 [s3@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s3@group-E8BFF3114F3F->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,531 [s3@group-E8BFF3114F3F->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s3@group-E8BFF3114F3F->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,533 [Thread-1397] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from null to s3 at term 3 for appendEntries, leader elected after 11ms
2022-06-20 14:45:52,533 [s3@group-E8BFF3114F3F-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s3@group-E8BFF3114F3F: set configuration 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,533 [Thread-1405] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from null to s3 at term 3 for appendEntries, leader elected after 11ms
2022-06-20 14:45:52,534 [Thread-1406] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: receive appendEntries(s3, 3, (t:2, i:2), 2, true, commits[s3:c2, s4:c0, s0:c2, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:52,534 [Thread-1398] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: receive appendEntries(s3, 3, (t:2, i:2), 2, true, commits[s3:c2, s4:c0, s0:c2, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:52,534 [Thread-1406] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-E8BFF3114F3F: set configuration 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,534 [Thread-1398] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-E8BFF3114F3F: set configuration 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,534 [Thread-1406] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:45:52,535 [Thread-1398] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:45:52,535 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,536 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,535 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,536 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_1-2
2022-06-20 14:45:52,539 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s3/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_3
2022-06-20 14:45:52,552 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s2/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_3
2022-06-20 14:45:52,552 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc3dd8f30d/s1/3dd11959-6f45-4ad4-a25c-e8bff3114f3f/current/log_inprogress_3
2022-06-20 14:45:52,552 [Thread-1545] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s3<-s2#952:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:52,552 [Thread-1546] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s3<-s1#951:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:52,553 [Thread-1407] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: receive appendEntries(s3, 3, (t:3, i:3), 3, true, commits[s3:c3, s4:c0, s0:c2, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:45:52,554 [Thread-1399] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: receive appendEntries(s3, 3, (t:3, i:3), 3, true, commits[s3:c3, s4:c0, s0:c2, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:45:52,555 [Thread-1547] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s3<-s2#956:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:45:52,555 [Thread-1548] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-E8BFF3114F3F: succeeded to handle AppendEntries. Reply: s3<-s1#955:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:45:52,709 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,709 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(485)) - killServer s3
2022-06-20 14:45:52,709 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s3: close
2022-06-20 14:45:52,710 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s3@group-E8BFF3114F3F: shutdown
2022-06-20 14:45:52,710 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s3
2022-06-20 14:45:52,710 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-E8BFF3114F3F-LeaderStateImpl
2022-06-20 14:45:52,710 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-E8BFF3114F3F-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:52,710 [s3@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-E8BFF3114F3F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:52,710 [s3@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-E8BFF3114F3F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:52,710 [s3@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-E8BFF3114F3F->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-06-20 14:45:52,710 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-E8BFF3114F3F-StateMachineUpdater: set stopIndex = 4
2022-06-20 14:45:52,711 [s3@group-E8BFF3114F3F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-E8BFF3114F3F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-06-20 14:45:52,711 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s3@group-E8BFF3114F3F: closes. applyIndex: 4
2022-06-20 14:45:52,711 [s3@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:52,712 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-E8BFF3114F3F-SegmentedRaftLogWorker close()
2022-06-20 14:45:52,714 [Thread-1378] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,714 [Thread-1379] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,714 [Thread-1380] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,714 [Thread-1375] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,714 [Thread-1377] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,715 [Thread-1376] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:52,715 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@53de93f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-06-20 14:45:52,715 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-06-20 14:45:52,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:52,716 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:52,716 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:52,976 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:268613985ns, electionTimeout:264ms
2022-06-20 14:45:52,976 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:52,976 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:52,976 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:52,976 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection41
2022-06-20 14:45:52,977 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-E8BFF3114F3F: change Leader from s3 to null at term 3 for PRE_VOTE
2022-06-20 14:45:52,977 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,977 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:52,977 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:52,977 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,977 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,977 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:52,978 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection41: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection41 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection41
2022-06-20 14:45:52,978 [s1@group-E8BFF3114F3F-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:150479248ns, electionTimeout:150ms
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection42
2022-06-20 14:45:53,129 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,130 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,130 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,130 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,130 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:53,130 [Thread-1405] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:53,131 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection42
2022-06-20 14:45:53,131 [s1@group-E8BFF3114F3F-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,168 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300651394ns, electionTimeout:300ms
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection43
2022-06-20 14:45:53,432 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,433 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,433 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,433 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,434 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:53,434 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:53,434 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:53,434 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection43
2022-06-20 14:45:53,435 [s1@group-E8BFF3114F3F-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,619 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:53,713 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278428214ns, electionTimeout:278ms
2022-06-20 14:45:53,713 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,713 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:53,713 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:53,713 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection44
2022-06-20 14:45:53,714 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,714 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,714 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:53,714 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,714 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,715 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:53,715 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:53,716 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection44
2022-06-20 14:45:53,716 [s1@group-E8BFF3114F3F-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,975 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:259446544ns, electionTimeout:259ms
2022-06-20 14:45:53,975 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:53,975 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:53,975 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:53,975 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection45
2022-06-20 14:45:53,976 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,976 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,976 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,976 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,977 [Thread-1405] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:53,977 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection45: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection45
2022-06-20 14:45:53,977 [s1@group-E8BFF3114F3F-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,070 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157345369ns, electionTimeout:157ms
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection46
2022-06-20 14:45:54,135 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,137 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:54,137 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:54,137 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection46: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,137 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,138 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:54,138 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:54,138 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection46
2022-06-20 14:45:54,138 [s1@group-E8BFF3114F3F-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,329 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191339592ns, electionTimeout:191ms
2022-06-20 14:45:54,329 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,329 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:54,329 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:54,329 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection47
2022-06-20 14:45:54,330 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,330 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,331 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:54,331 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:54,331 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection47: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection47
2022-06-20 14:45:54,331 [s1@group-E8BFF3114F3F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,521 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:54,618 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:286396035ns, electionTimeout:286ms
2022-06-20 14:45:54,618 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,618 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:54,618 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:54,618 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection48
2022-06-20 14:45:54,619 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,620 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,620 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,620 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,620 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:54,620 [Thread-1405] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:54,620 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection48: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection48
2022-06-20 14:45:54,622 [s1@group-E8BFF3114F3F-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198444317ns, electionTimeout:198ms
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection49
2022-06-20 14:45:54,821 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,822 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,822 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,822 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,822 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:54,823 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:54,823 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection49: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection49 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection49
2022-06-20 14:45:54,823 [s1@group-E8BFF3114F3F-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:54,971 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:55,096 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273309285ns, electionTimeout:272ms
2022-06-20 14:45:55,096 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,097 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:55,097 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:55,097 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection50
2022-06-20 14:45:55,097 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,098 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,098 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,098 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,098 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:55,098 [Thread-1407] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:55,098 [Thread-1407] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,098 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection50: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:55,098 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection50 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection50
2022-06-20 14:45:55,099 [s1@group-E8BFF3114F3F-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,386 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:287449631ns, electionTimeout:287ms
2022-06-20 14:45:55,386 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,387 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:55,387 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:55,387 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection51
2022-06-20 14:45:55,387 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,388 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,388 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:55,388 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,388 [Thread-1405] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:55,388 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,388 [Thread-1405] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,389 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection51: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:55,389 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:55,389 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,389 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,390 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,390 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection51 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:55,390 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:55,390 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection51
2022-06-20 14:45:55,390 [s1@group-E8BFF3114F3F-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,422 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:55,668 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278475999ns, electionTimeout:278ms
2022-06-20 14:45:55,668 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,668 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:55,669 [s1@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:55,669 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-LeaderElection52
2022-06-20 14:45:55,669 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-E8BFF3114F3F-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,669 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,669 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s1, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:55,669 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,670 [Thread-1406] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:55,670 [Thread-1406] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-E8BFF3114F3F replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,670 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-E8BFF3114F3F-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-E8BFF3114F3F-LeaderElection52: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-E8BFF3114F3F-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-E8BFF3114F3F-LeaderElection52
2022-06-20 14:45:55,671 [s1@group-E8BFF3114F3F-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170957613ns, electionTimeout:157ms
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-LeaderElection53
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-E8BFF3114F3F: change Leader from s3 to null at term 3 for PRE_VOTE
2022-06-20 14:45:55,841 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E8BFF3114F3F-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,842 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,842 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,842 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,842 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s2, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:55,842 [Thread-1399] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:55,842 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E8BFF3114F3F-LeaderElection53: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E8BFF3114F3F-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E8BFF3114F3F-LeaderElection53
2022-06-20 14:45:55,843 [s2@group-E8BFF3114F3F-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:55,873 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181341650ns, electionTimeout:181ms
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-LeaderElection54
2022-06-20 14:45:56,025 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E8BFF3114F3F-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,027 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,028 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s2, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:56,028 [Thread-1397] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:56,028 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E8BFF3114F3F-LeaderElection54: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E8BFF3114F3F-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E8BFF3114F3F-LeaderElection54
2022-06-20 14:45:56,028 [s2@group-E8BFF3114F3F-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203550225ns, electionTimeout:203ms
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-LeaderElection55
2022-06-20 14:45:56,232 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E8BFF3114F3F-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,233 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,233 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,233 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s2, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:56,233 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,233 [Thread-1398] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:56,233 [Thread-1398] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E8BFF3114F3F-LeaderElection55: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E8BFF3114F3F-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E8BFF3114F3F-LeaderElection55
2022-06-20 14:45:56,234 [s2@group-E8BFF3114F3F-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,324 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:56,395 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161499475ns, electionTimeout:161ms
2022-06-20 14:45:56,396 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,396 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:56,396 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:56,396 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-LeaderElection56
2022-06-20 14:45:56,396 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E8BFF3114F3F-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,397 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s2, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:56,397 [Thread-1399] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:56,397 [Thread-1399] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E8BFF3114F3F-LeaderElection56: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E8BFF3114F3F-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E8BFF3114F3F-LeaderElection56
2022-06-20 14:45:56,397 [s2@group-E8BFF3114F3F-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,581 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E8BFF3114F3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183454353ns, electionTimeout:183ms
2022-06-20 14:45:56,581 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,581 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:45:56,581 [s2@group-E8BFF3114F3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:56,581 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-LeaderElection57
2022-06-20 14:45:56,582 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-E8BFF3114F3F-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,582 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,582 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-E8BFF3114F3F: receive requestVote(PRE_VOTE, s2, group-E8BFF3114F3F, 3, (t:3, i:4))
2022-06-20 14:45:56,582 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,582 [Thread-1397] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-E8BFF3114F3F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:45:56,583 [Thread-1397] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-E8BFF3114F3F replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null
2022-06-20 14:45:56,582 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-E8BFF3114F3F-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E8BFF3114F3F-LeaderElection57: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-E8BFF3114F3F-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-E8BFF3114F3F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-E8BFF3114F3F-LeaderElection57
2022-06-20 14:45:56,584 [s2@group-E8BFF3114F3F-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,775 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:56,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-E8BFF3114F3F:t3, leader=s3, voted=s3, raftlog=s3@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-E8BFF3114F3F:t1, leader=s4, voted=s4, raftlog=s4@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-E8BFF3114F3F:t2, leader=s0, voted=s0, raftlog=s0@group-E8BFF3114F3F-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s1@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E8BFF3114F3F:t3, leader=null, voted=s3, raftlog=s2@group-E8BFF3114F3F-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:39299|admin:localhost:43901|client:localhost:43577|dataStream:localhost:39509|priority:0, s4|rpc:localhost:38137|admin:localhost:35267|client:localhost:42833|dataStream:localhost:36703|priority:0, s0|rpc:localhost:40135|admin:localhost:44259|client:localhost:39101|dataStream:localhost:45723|priority:0, s1|rpc:localhost:40547|admin:localhost:42969|client:localhost:39781|dataStream:localhost:35495|priority:0, s2|rpc:localhost:36249|admin:localhost:39729|client:localhost:45827|dataStream:localhost:35015|priority:0], old=null RUNNING
2022-06-20 14:45:56,777 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:56,777 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-E8BFF3114F3F: shutdown
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-E8BFF3114F3F: shutdown
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s2
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E8BFF3114F3F,id=s1
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,778 [s1@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:56,778 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-E8BFF3114F3F-FollowerState
2022-06-20 14:45:56,779 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-E8BFF3114F3F-StateMachineUpdater: set stopIndex = 4
2022-06-20 14:45:56,779 [s2@group-E8BFF3114F3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E8BFF3114F3F-FollowerState was interrupted
2022-06-20 14:45:56,779 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-E8BFF3114F3F-StateMachineUpdater: set stopIndex = 4
2022-06-20 14:45:56,779 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-E8BFF3114F3F: closes. applyIndex: 4
2022-06-20 14:45:56,779 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-E8BFF3114F3F: closes. applyIndex: 4
2022-06-20 14:45:56,780 [s2@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:56,780 [s1@group-E8BFF3114F3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:56,781 [java.util.concurrent.ThreadPoolExecutor$Worker@24d5b83[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-E8BFF3114F3F-SegmentedRaftLogWorker close()
2022-06-20 14:45:56,781 [Thread-1408] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,782 [Thread-1409] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,782 [java.util.concurrent.ThreadPoolExecutor$Worker@6aff611f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-E8BFF3114F3F-SegmentedRaftLogWorker close()
2022-06-20 14:45:56,782 [Thread-1410] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,782 [Thread-1405] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,782 [Thread-1407] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,782 [Thread-1406] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@e185b01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:56,783 [Thread-1400] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [Thread-1401] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [Thread-1402] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [Thread-1397] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [Thread-1398] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,783 [Thread-1399] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:56,784 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@297e14c4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:56,784 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:56,784 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:56,784 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:56,785 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:56,785 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:56,785 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:56,785 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0]
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], format? true
2022-06-20 14:45:56,786 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0
2022-06-20 14:45:56,786 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0 does not exist.
2022-06-20 14:45:56,786 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0
2022-06-20 14:45:56,786 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:56,787 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0] (custom)
2022-06-20 14:45:56,787 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] returns group-ACCE65851417:java.util.concurrent.CompletableFuture@25101b21[Not completed]
2022-06-20 14:45:56,787 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:56,787 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], format? true
2022-06-20 14:45:56,788 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:56,788 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1 does not exist.
2022-06-20 14:45:56,788 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-ACCE65851417: ConfigurationManager, init=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:56,788 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0] (custom)
2022-06-20 14:45:56,789 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:56,789 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:56,789 [pool-23-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417 does not exist. Creating ...
2022-06-20 14:45:56,789 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:56,789 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:56,789 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,791 [pool-23-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:56,791 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:56,791 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:56,791 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,791 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,792 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1] (custom)
2022-06-20 14:45:56,792 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current
2022-06-20 14:45:56,792 [pool-23-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/sm
2022-06-20 14:45:56,792 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] returns group-ACCE65851417:java.util.concurrent.CompletableFuture@51b80479[Not completed]
2022-06-20 14:45:56,792 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:56,792 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], format? true
2022-06-20 14:45:56,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2
2022-06-20 14:45:56,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2 does not exist.
2022-06-20 14:45:56,793 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2
2022-06-20 14:45:56,793 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417 has been successfully formatted.
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:56,793 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-ACCE65851417-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:56,794 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:56,793 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:56,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:56,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:56,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2] (custom)
2022-06-20 14:45:56,793 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-ACCE65851417: ConfigurationManager, init=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1] (custom)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:56,796 [pool-24-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417 does not exist. Creating ...
2022-06-20 14:45:56,797 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,797 [pool-24-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:56,798 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current
2022-06-20 14:45:56,798 [pool-24-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/sm
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417 has been successfully formatted.
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:56,799 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-ACCE65851417-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:56,800 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:56,806 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] returns group-ACCE65851417:java.util.concurrent.CompletableFuture@2c7f7f8c[Not completed]
2022-06-20 14:45:56,806 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:56,806 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:56,807 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-ACCE65851417:[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-ACCE65851417: ConfigurationManager, init=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2] (custom)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:56,807 [pool-25-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417 does not exist. Creating ...
2022-06-20 14:45:56,808 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,807 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:56,807 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,808 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:56,808 [pool-23-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,808 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:56,809 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,809 [pool-24-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:56,809 [pool-25-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:56,809 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:56,809 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:56,810 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:56,810 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:56,809 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:56,809 [pool-25-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/sm
2022-06-20 14:45:56,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:56,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:56,810 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:56,810 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:56,810 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:56,811 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-ACCE65851417: start as a follower, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:56,811 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-ACCE65851417: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:56,811 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ACCE65851417-FollowerState
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417 has been successfully formatted.
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-ACCE65851417-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417
2022-06-20 14:45:56,811 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:56,812 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:56,812 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:56,812 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:56,812 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:56,812 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:56,812 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:56,814 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s0
2022-06-20 14:45:56,814 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:56,815 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:56,815 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:56,816 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:56,816 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-ACCE65851417: start as a follower, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:56,816 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@3d752db6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:56,817 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-ACCE65851417: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:56,817 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ACCE65851417-FollowerState
2022-06-20 14:45:56,817 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s1
2022-06-20 14:45:56,817 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:56,818 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-ACCE65851417: start as a follower, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:56,818 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-ACCE65851417: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:56,818 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:56,818 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@6f50f950] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:56,819 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s2
2022-06-20 14:45:56,819 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:56,820 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@473022c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:56,820 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:56,820 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ACCE65851417:t0, leader=null, voted=, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t0, leader=null, voted=, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t0, leader=null, voted=, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
2022-06-20 14:45:56,821 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ACCE65851417:t0, leader=null, voted=, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t0, leader=null, voted=, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t0, leader=null, voted=, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ACCE65851417:t0, leader=null, voted=, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t0, leader=null, voted=, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t0, leader=null, voted=, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:56,998 [s1@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-ACCE65851417-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181285846ns, electionTimeout:181ms
2022-06-20 14:45:56,998 [s1@group-ACCE65851417-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-ACCE65851417-FollowerState
2022-06-20 14:45:56,998 [s1@group-ACCE65851417-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-ACCE65851417: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:56,998 [s1@group-ACCE65851417-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:56,998 [s1@group-ACCE65851417-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ACCE65851417-LeaderElection58
2022-06-20 14:45:56,999 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-ACCE65851417-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,000 [Thread-1772] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-ACCE65851417: receive requestVote(PRE_VOTE, s1, group-ACCE65851417, 0, (t:0, i:0))
2022-06-20 14:45:57,000 [Thread-1786] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-ACCE65851417: receive requestVote(PRE_VOTE, s1, group-ACCE65851417, 0, (t:0, i:0))
2022-06-20 14:45:57,000 [Thread-1786] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-ACCE65851417-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:57,000 [Thread-1772] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-ACCE65851417-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:57,000 [Thread-1786] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-ACCE65851417 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-ACCE65851417:t0, leader=null, voted=, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,000 [Thread-1772] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-ACCE65851417 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-ACCE65851417:t0, leader=null, voted=, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,000 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-ACCE65851417-LeaderElection58: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:57,000 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-06-20 14:45:57,000 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-ACCE65851417-LeaderElection58 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:57,002 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-ACCE65851417-LeaderElection58 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,002 [Thread-1773] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-ACCE65851417: receive requestVote(ELECTION, s1, group-ACCE65851417, 1, (t:0, i:0))
2022-06-20 14:45:57,003 [Thread-1773] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-ACCE65851417-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:57,003 [Thread-1773] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-ACCE65851417: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:45:57,003 [Thread-1773] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,003 [Thread-1773] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,003 [s0@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:57,003 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-ACCE65851417: receive requestVote(ELECTION, s1, group-ACCE65851417, 1, (t:0, i:0))
2022-06-20 14:45:57,004 [Thread-1787] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-ACCE65851417-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:45:57,004 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-ACCE65851417: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:45:57,004 [Thread-1787] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,004 [Thread-1787] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,004 [s2@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:57,004 [Thread-1773] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-ACCE65851417 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-ACCE65851417:t1, leader=null, voted=s1, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-ACCE65851417-LeaderElection58: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-ACCE65851417-LeaderElection58 ELECTION round 0: result PASSED
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-ACCE65851417-LeaderElection58
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-ACCE65851417: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-ACCE65851417: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 205ms
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:57,005 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:57,005 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-ACCE65851417 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-ACCE65851417:t1, leader=null, voted=s1, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ACCE65851417-LeaderStateImpl
2022-06-20 14:45:57,006 [s1@group-ACCE65851417-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:57,014 [s1@group-ACCE65851417-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-ACCE65851417: set configuration 0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,015 [Thread-1788] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-ACCE65851417: change Leader from null to s1 at term 1 for appendEntries, leader elected after 204ms
2022-06-20 14:45:57,016 [Thread-1774] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-ACCE65851417: change Leader from null to s1 at term 1 for appendEntries, leader elected after 222ms
2022-06-20 14:45:57,016 [Thread-1772] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:57,017 [s1@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0
2022-06-20 14:45:57,017 [Thread-1786] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:57,017 [Thread-1772] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-ACCE65851417: set configuration 0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,018 [Thread-1772] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:57,021 [Thread-1786] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-ACCE65851417: set configuration 0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null
2022-06-20 14:45:57,021 [Thread-1786] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:57,034 [s0@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0
2022-06-20 14:45:57,034 [s2@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0
2022-06-20 14:45:57,035 [Thread-1821] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1084:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:57,035 [Thread-1822] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1083:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:57,271 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ACCE65851417:t1, leader=s1, voted=s1, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-ACCE65851417:t1, leader=s1, voted=s1, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t1, leader=s1, voted=s1, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0], old=null RUNNING
2022-06-20 14:45:57,271 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:57,272 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s1@group-ACCE65851417: receive client request(RaftClientRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1097, seq=0, RW, message)
2022-06-20 14:45:57,272 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s1@group-ACCE65851417-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1097, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1097@client-272446C6BF02
2022-06-20 14:45:57,273 [Thread-1773] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1097@client-272446C6BF02
2022-06-20 14:45:57,273 [Thread-1787] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1097@client-272446C6BF02
2022-06-20 14:45:57,274 [Thread-1836] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1099:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:57,274 [Thread-1837] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1098:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:57,275 [Thread-1774] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:57,275 [Thread-1788] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:57,276 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1080)) - s1@group-ACCE65851417: receive setConfiguration SetConfigurationRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1101, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-06-20 14:45:57,276 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-ACCE65851417-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1101, seq=0, RW, null, peers:[s0|priority:2, s1|priority:1, s2|priority:1]
2022-06-20 14:45:57,276 [Thread-1840] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1100:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:57,276 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-ACCE65851417: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0]
2022-06-20 14:45:57,277 [Thread-1772] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:2), 1, true, commits[s1:c1, s0:c1, s2:c0], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:57,277 [Thread-1772] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-ACCE65851417: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0]
2022-06-20 14:45:57,277 [Thread-1841] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1102:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:57,277 [Thread-1786] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits[s1:c2, s0:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:57,278 [Thread-1786] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-ACCE65851417: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:42767|admin:localhost:39891|client:localhost:42877|dataStream:localhost:42617|priority:0, s1|rpc:localhost:38193|admin:localhost:46307|client:localhost:37151|dataStream:localhost:45597|priority:0, s2|rpc:localhost:40819|admin:localhost:33071|client:localhost:39645|dataStream:localhost:43625|priority:0]
2022-06-20 14:45:57,278 [Thread-1842] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1103:OK-t1,SUCCESS,nextIndex=4,followerCommit=1
2022-06-20 14:45:57,279 [s1@group-ACCE65851417-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-ACCE65851417: set configuration 5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-06-20 14:45:57,279 [Thread-1773] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c1, s2:c1], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-06-20 14:45:57,279 [Thread-1773] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-ACCE65851417: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,280 [Thread-1843] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1104:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:57,285 [Thread-1787] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits[s1:c3, s0:c1, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-06-20 14:45:57,285 [Thread-1787] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-ACCE65851417: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,285 [Thread-1844] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1105:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-06-20 14:45:57,287 [Thread-1774] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c3, s2:c2], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:57,287 [Thread-1845] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1106:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-06-20 14:45:57,288 [Thread-1788] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits[s1:c5, s0:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:57,289 [Thread-1847] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s0#1107:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:57,290 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(972)) - s1@group-ACCE65851417: receive transferLeadership TransferLeadershipRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1109, seq=0, RO, null
2022-06-20 14:45:57,290 [Thread-1848] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s1<-s2#1108:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:57,590 [s1@group-ACCE65851417-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(975)) - s1@group-ACCE65851417-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-06-20 14:45:57,639 [Thread-1773] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1485)) - s0@group-ACCE65851417: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-06-20 14:45:57,639 [Thread-1773] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,639 [Thread-1773] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-ACCE65851417: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:57,639 [s0@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:57,639 [Thread-1773] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ACCE65851417-LeaderElection59
2022-06-20 14:45:57,641 [Thread-1866] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(594)) - s1@group-ACCE65851417-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-06-20 14:45:57,641 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-ACCE65851417: change Leader from s1 to null at term 1 for ELECTION
2022-06-20 14:45:57,643 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-ACCE65851417-LeaderElection59 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,643 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-ACCE65851417: receive requestVote(ELECTION, s0, group-ACCE65851417, 2, (t:1, i:6))
2022-06-20 14:45:57,643 [Thread-1787] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-ACCE65851417-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-06-20 14:45:57,643 [Thread-1787] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-ACCE65851417: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:57,643 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-ACCE65851417: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:45:57,643 [Thread-1787] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,644 [Thread-1787] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,644 [s2@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:57,644 [Thread-1779] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-ACCE65851417: receive requestVote(ELECTION, s0, group-ACCE65851417, 2, (t:1, i:6))
2022-06-20 14:45:57,644 [Thread-1779] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-ACCE65851417-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-06-20 14:45:57,644 [Thread-1779] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-ACCE65851417: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:57,644 [Thread-1779] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-ACCE65851417: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:45:57,644 [Thread-1779] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-ACCE65851417-LeaderStateImpl
2022-06-20 14:45:57,644 [s1@group-ACCE65851417->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-ACCE65851417->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:57,644 [Thread-1779] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-ACCE65851417-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:57,644 [s1@group-ACCE65851417->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-ACCE65851417->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:57,645 [Thread-1787] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-ACCE65851417 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-ACCE65851417:t2, leader=null, voted=s0, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-ACCE65851417-LeaderElection59: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-ACCE65851417-LeaderElection59 ELECTION round 0: result PASSED
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-ACCE65851417-LeaderElection59
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-ACCE65851417: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:45:57,645 [Thread-1779] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ACCE65851417-FollowerState
2022-06-20 14:45:57,645 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-ACCE65851417: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 4ms
2022-06-20 14:45:57,646 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:57,647 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:57,648 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:57,648 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:57,648 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:57,648 [s0@group-ACCE65851417-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ACCE65851417-LeaderStateImpl
2022-06-20 14:45:57,648 [s0@group-ACCE65851417-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:57,649 [s0@group-ACCE65851417-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,649 [s0@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,651 [Thread-1779] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-ACCE65851417 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-ACCE65851417:t2, leader=null, voted=s0, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-06-20 14:45:57,653 [s0@group-ACCE65851417-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-ACCE65851417: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,654 [Thread-1788] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-ACCE65851417: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-06-20 14:45:57,654 [Thread-1786] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-06-20 14:45:57,654 [Thread-1786] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-ACCE65851417: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,655 [Thread-1786] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:57,655 [s2@group-ACCE65851417-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,656 [s2@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,658 [Thread-1780] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-ACCE65851417: change Leader from null to s0 at term 2 for appendEntries, leader elected after 14ms
2022-06-20 14:45:57,659 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:57,660 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-06-20 14:45:57,660 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-ACCE65851417 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-ACCE65851417 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:57,665 [s0@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s0/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_7
2022-06-20 14:45:57,665 [s2@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s2/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_7
2022-06-20 14:45:57,667 [Thread-1880] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s2#1130:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:45:57,667 [Thread-1781] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-06-20 14:45:57,667 [Thread-1781] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-ACCE65851417: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:57,667 [Thread-1781] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:57,668 [s1@group-ACCE65851417-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,668 [s1@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_0-6
2022-06-20 14:45:57,671 [Thread-1787] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-06-20 14:45:57,673 [Thread-1881] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s2#1132:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-06-20 14:45:57,678 [s1@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-ACCE65851417-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpccc1f84b0/s1/d91bc7fb-b3c5-4362-bcf5-acce65851417/current/log_inprogress_7
2022-06-20 14:45:57,679 [Thread-1882] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s1#1131:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:45:57,679 [Thread-1779] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:7), 8, true, commits[s0:c8, s1:c6, s2:c7], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-06-20 14:45:57,680 [Thread-1883] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s1#1133:OK-t2,SUCCESS,nextIndex=9,followerCommit=8
2022-06-20 14:45:58,114 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-06-20 14:45:58,114 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s1@group-ACCE65851417: receive client request(RaftClientRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1156, seq=0, RW, message)
2022-06-20 14:45:58,114 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-272446C6BF02: suggested new leader: s0. Failed RaftClientRequest:client-272446C6BF02->s1@group-ACCE65851417, cid=1156, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-ACCE65851417 is not the leader s0|rpc:|dataStream:|priority:2
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:696)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:800)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:783)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:783)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:58,115 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-272446C6BF02: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-06-20 14:45:58,115 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-ACCE65851417 client-272446C6BF02: client change Leader from s1 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-06-20 14:45:58,215 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s0@group-ACCE65851417: receive client request(RaftClientRequest:client-272446C6BF02->s0@group-ACCE65851417, cid=1156, seq=0, RW, message)
2022-06-20 14:45:58,216 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s0@group-ACCE65851417-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-272446C6BF02->s0@group-ACCE65851417, cid=1156, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 1156@client-272446C6BF02
2022-06-20 14:45:58,216 [Thread-1786] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits[s0:c8, s1:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 1156@client-272446C6BF02
2022-06-20 14:45:58,216 [Thread-1781] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:8), 8, true, commits[s0:c8, s1:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 1156@client-272446C6BF02
2022-06-20 14:45:58,219 [Thread-1913] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s1#1164:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-06-20 14:45:58,220 [Thread-1914] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s2#1163:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-06-20 14:45:58,220 [Thread-1787] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits[s0:c9, s1:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-06-20 14:45:58,220 [Thread-1779] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: receive appendEntries(s0, 2, (t:2, i:9), 9, true, commits[s0:c9, s1:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:58,221 [Thread-1916] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s2#1165:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-06-20 14:45:58,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:OPENED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:OPENED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-06-20 14:45:58,224 [Thread-1918] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-ACCE65851417: succeeded to handle AppendEntries. Reply: s0<-s1#1166:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-06-20 14:45:58,224 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:58,227 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-ACCE65851417: shutdown
2022-06-20 14:45:58,227 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:58,227 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s0
2022-06-20 14:45:58,229 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-ACCE65851417-LeaderStateImpl
2022-06-20 14:45:58,229 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:58,229 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-ACCE65851417: shutdown
2022-06-20 14:45:58,230 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-ACCE65851417: shutdown
2022-06-20 14:45:58,229 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-ACCE65851417-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:58,229 [s0@group-ACCE65851417->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-ACCE65851417->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:58,229 [s0@group-ACCE65851417->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-ACCE65851417->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:58,230 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s2
2022-06-20 14:45:58,230 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-ACCE65851417-FollowerState
2022-06-20 14:45:58,230 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ACCE65851417,id=s1
2022-06-20 14:45:58,231 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-ACCE65851417-FollowerState
2022-06-20 14:45:58,231 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-ACCE65851417-StateMachineUpdater: set stopIndex = 9
2022-06-20 14:45:58,231 [s1@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:58,231 [s2@group-ACCE65851417-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-ACCE65851417-FollowerState was interrupted
2022-06-20 14:45:58,231 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-ACCE65851417: closes. applyIndex: 9
2022-06-20 14:45:58,232 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-ACCE65851417-StateMachineUpdater: set stopIndex = 9
2022-06-20 14:45:58,232 [s1@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-ACCE65851417-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:58,232 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-ACCE65851417: closes. applyIndex: 9
2022-06-20 14:45:58,232 [s2@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-ACCE65851417-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:58,232 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-ACCE65851417-StateMachineUpdater: set stopIndex = 10
2022-06-20 14:45:58,232 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-ACCE65851417: closes. applyIndex: 10
2022-06-20 14:45:58,232 [s0@group-ACCE65851417-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-ACCE65851417-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:58,233 [java.util.concurrent.ThreadPoolExecutor$Worker@4e905144[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-ACCE65851417-SegmentedRaftLogWorker close()
2022-06-20 14:45:58,234 [java.util.concurrent.ThreadPoolExecutor$Worker@5f9d74f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-ACCE65851417-SegmentedRaftLogWorker close()
2022-06-20 14:45:58,234 [java.util.concurrent.ThreadPoolExecutor$Worker@6e3d9e3[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-ACCE65851417-SegmentedRaftLogWorker close()
2022-06-20 14:45:58,235 [Thread-1782] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,235 [Thread-1783] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,235 [Thread-1784] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,235 [Thread-1779] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,235 [Thread-1780] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [Thread-1781] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@6f50f950] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:58,236 [Thread-1775] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [Thread-1776] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [Thread-1789] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [Thread-1790] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,236 [Thread-1791] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1786] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1787] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1788] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@473022c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:58,237 [Thread-1777] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1772] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1773] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [Thread-1774] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:58,237 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@3d752db6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:58,238 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s0@group-ACCE65851417-SegmentedRaftLog:CLOSED:c10, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s1@group-ACCE65851417-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-ACCE65851417:t2, leader=s0, voted=s0, raftlog=s2@group-ACCE65851417-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null CLOSED
2022-06-20 14:45:58,240 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:58,240 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:58,241 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:58,241 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:58,241 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:58,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:45:58,241 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0]
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:58,242 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], format? true
2022-06-20 14:45:58,242 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0
2022-06-20 14:45:58,243 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0 does not exist.
2022-06-20 14:45:58,243 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0
2022-06-20 14:45:58,243 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:58,243 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:58,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:58,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:58,243 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,244 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,244 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0] (custom)
2022-06-20 14:45:58,245 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] returns group-A986BDB9B872:java.util.concurrent.CompletableFuture@71c4377f[Not completed]
2022-06-20 14:45:58,245 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], format? true
2022-06-20 14:45:58,245 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1
2022-06-20 14:45:58,245 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1 does not exist.
2022-06-20 14:45:58,245 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1
2022-06-20 14:45:58,245 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:58,245 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:58,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:58,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:58,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1] (custom)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,246 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:58,247 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-A986BDB9B872: ConfigurationManager, init=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:58,247 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0] (custom)
2022-06-20 14:45:58,247 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:58,247 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:58,247 [pool-26-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872 does not exist. Creating ...
2022-06-20 14:45:58,247 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,248 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] returns group-A986BDB9B872:java.util.concurrent.CompletableFuture@41c460b8[Not completed]
2022-06-20 14:45:58,248 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:58,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], format? true
2022-06-20 14:45:58,248 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2
2022-06-20 14:45:58,248 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:58,248 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2 does not exist.
2022-06-20 14:45:58,248 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2
2022-06-20 14:45:58,248 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:58,248 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:58,248 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:58,248 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:58,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:58,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:58,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,248 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2] (custom)
2022-06-20 14:45:58,249 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,249 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:58,250 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-A986BDB9B872: ConfigurationManager, init=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:58,250 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1] (custom)
2022-06-20 14:45:58,250 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:58,250 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:58,250 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872 does not exist. Creating ...
2022-06-20 14:45:58,251 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,251 [pool-27-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:58,251 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current
2022-06-20 14:45:58,252 [pool-27-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/sm
2022-06-20 14:45:58,252 [pool-27-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872 has been successfully formatted.
2022-06-20 14:45:58,252 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:58,252 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:58,253 [pool-26-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-A986BDB9B872-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:58,253 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:58,253 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current
2022-06-20 14:45:58,254 [pool-26-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/sm
2022-06-20 14:45:58,254 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:58,254 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:58,254 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:58,254 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,254 [pool-27-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,255 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] returns group-A986BDB9B872:java.util.concurrent.CompletableFuture@38e3aa46[Not completed]
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-A986BDB9B872:[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:58,255 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-A986BDB9B872: ConfigurationManager, init=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:58,256 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2] (custom)
2022-06-20 14:45:58,256 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:58,256 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:58,256 [pool-28-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872 does not exist. Creating ...
2022-06-20 14:45:58,256 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,257 [pool-28-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:58,258 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current
2022-06-20 14:45:58,258 [pool-28-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/sm
2022-06-20 14:45:58,258 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:58,258 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:58,258 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:58,258 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:58,258 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:58,259 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:58,259 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:58,259 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:58,259 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:58,259 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872 has been successfully formatted.
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:58,259 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-A986BDB9B872-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:58,260 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:58,261 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:58,261 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:58,261 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,261 [pool-28-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872 has been successfully formatted.
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-A986BDB9B872-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872
2022-06-20 14:45:58,263 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:58,264 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:58,270 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:58,270 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:58,270 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:58,270 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:58,270 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:58,271 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:58,271 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:58,271 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:58,271 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:58,271 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:58,271 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:58,271 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:58,271 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:58,271 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,271 [pool-26-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:58,273 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:58,273 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-A986BDB9B872: start as a follower, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,273 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-A986BDB9B872: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:58,273 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,274 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s0
2022-06-20 14:45:58,274 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:58,279 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-A986BDB9B872: start as a follower, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,279 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-A986BDB9B872: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:58,279 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,279 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@5ac0cc42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:58,282 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s1
2022-06-20 14:45:58,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:58,286 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@15a53562] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:58,286 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-A986BDB9B872: start as a follower, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,286 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-A986BDB9B872: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:58,286 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,286 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s2
2022-06-20 14:45:58,286 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:58,287 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@6ef75243] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:58,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:58,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
2022-06-20 14:45:58,287 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:418)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:58,515 [s0@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A986BDB9B872-FollowerState: change to CANDIDATE, lastRpcElapsedTime:241965050ns, electionTimeout:241ms
2022-06-20 14:45:58,516 [s0@group-A986BDB9B872-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,516 [s0@group-A986BDB9B872-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-A986BDB9B872: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:58,516 [s0@group-A986BDB9B872-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:58,516 [s0@group-A986BDB9B872-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A986BDB9B872-LeaderElection60
2022-06-20 14:45:58,517 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A986BDB9B872-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,518 [Thread-1933] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-A986BDB9B872: receive requestVote(PRE_VOTE, s0, group-A986BDB9B872, 0, (t:0, i:0))
2022-06-20 14:45:58,518 [Thread-1940] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-A986BDB9B872: receive requestVote(PRE_VOTE, s0, group-A986BDB9B872, 0, (t:0, i:0))
2022-06-20 14:45:58,518 [Thread-1933] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A986BDB9B872-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:58,518 [Thread-1933] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-A986BDB9B872 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,518 [Thread-1940] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A986BDB9B872-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:58,519 [Thread-1940] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-A986BDB9B872 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-A986BDB9B872:t0, leader=null, voted=, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,519 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A986BDB9B872-LeaderElection60: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:58,519 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:45:58,519 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A986BDB9B872-LeaderElection60 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:58,520 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A986BDB9B872-LeaderElection60 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,521 [Thread-1934] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-A986BDB9B872: receive requestVote(ELECTION, s0, group-A986BDB9B872, 1, (t:0, i:0))
2022-06-20 14:45:58,521 [Thread-1942] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-A986BDB9B872: receive requestVote(ELECTION, s0, group-A986BDB9B872, 1, (t:0, i:0))
2022-06-20 14:45:58,521 [Thread-1934] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A986BDB9B872-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:58,521 [Thread-1934] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-A986BDB9B872: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:58,521 [Thread-1934] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,521 [Thread-1934] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,521 [s1@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:58,522 [Thread-1942] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A986BDB9B872-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:58,522 [Thread-1942] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-A986BDB9B872: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:58,522 [Thread-1942] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,522 [Thread-1942] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:58,522 [s2@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:58,523 [Thread-1934] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-A986BDB9B872 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A986BDB9B872:t1, leader=null, voted=s0, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A986BDB9B872-LeaderElection60: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A986BDB9B872-LeaderElection60 ELECTION round 0: result PASSED
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A986BDB9B872-LeaderElection60
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-A986BDB9B872: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-A986BDB9B872: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 260ms
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:58,523 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:58,524 [s0@group-A986BDB9B872-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A986BDB9B872-LeaderStateImpl
2022-06-20 14:45:58,525 [Thread-1942] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-A986BDB9B872 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-A986BDB9B872:t1, leader=null, voted=s0, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,525 [s0@group-A986BDB9B872-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:58,530 [s0@group-A986BDB9B872-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-A986BDB9B872: set configuration 0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,530 [Thread-1935] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-A986BDB9B872: change Leader from null to s0 at term 1 for appendEntries, leader elected after 277ms
2022-06-20 14:45:58,530 [Thread-1941] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-A986BDB9B872: change Leader from null to s0 at term 1 for appendEntries, leader elected after 270ms
2022-06-20 14:45:58,531 [Thread-1933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:58,531 [Thread-1940] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:58,531 [Thread-1933] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-A986BDB9B872: set configuration 0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,531 [Thread-1933] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:58,532 [Thread-1940] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-A986BDB9B872: set configuration 0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null
2022-06-20 14:45:58,532 [Thread-1940] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:58,547 [s1@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0
2022-06-20 14:45:58,547 [s0@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0
2022-06-20 14:45:58,547 [s2@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0
2022-06-20 14:45:58,547 [Thread-1977] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1178:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:58,548 [Thread-1978] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1180:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-06-20 14:45:58,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A986BDB9B872:t1, leader=s0, voted=s0, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A986BDB9B872:t1, leader=s0, voted=s0, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A986BDB9B872:t1, leader=s0, voted=s0, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0], old=null RUNNING
2022-06-20 14:45:58,738 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:58,741 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1045)) - s1@group-A986BDB9B872 receive leaderElectionManagement request LeaderElectionManagementRequest:client-D31CEF3262CD->s1@group-A986BDB9B872, cid=1189, seq=0, RO, null, Pause:
2022-06-20 14:45:58,742 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(791)) - s0@group-A986BDB9B872: receive client request(RaftClientRequest:client-D31CEF3262CD->s0@group-A986BDB9B872, cid=1190, seq=0, RW, message)
2022-06-20 14:45:58,743 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(402)) - s0@group-A986BDB9B872-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D31CEF3262CD->s0@group-A986BDB9B872, cid=1190, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1190@client-D31CEF3262CD
2022-06-20 14:45:58,743 [Thread-1933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1190@client-D31CEF3262CD
2022-06-20 14:45:58,744 [Thread-1940] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1190@client-D31CEF3262CD
2022-06-20 14:45:58,745 [Thread-1990] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1191:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:58,745 [Thread-1991] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1192:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:45:58,747 [Thread-1942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:58,748 [Thread-1934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-06-20 14:45:58,749 [Thread-1994] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1193:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:58,749 [Thread-1993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1194:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:45:58,750 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1080)) - s0@group-A986BDB9B872: receive setConfiguration SetConfigurationRequest:client-D31CEF3262CD->s0@group-A986BDB9B872, cid=1195, seq=0, RW, null, peers:[s0|priority:1, s1|priority:2, s2|priority:1]
2022-06-20 14:45:58,750 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-A986BDB9B872-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-D31CEF3262CD->s0@group-A986BDB9B872, cid=1195, seq=0, RW, null, peers:[s0|priority:1, s1|priority:2, s2|priority:1]
2022-06-20 14:45:58,751 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-A986BDB9B872: set configuration 3: [s0|priority:1, s1|priority:2, s2|priority:1], old=[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0]
2022-06-20 14:45:58,751 [Thread-1941] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits[s0:c2, s1:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:58,751 [Thread-1935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits[s0:c2, s1:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-06-20 14:45:58,751 [Thread-1941] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-A986BDB9B872: set configuration 3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0]
2022-06-20 14:45:58,751 [Thread-1935] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-A986BDB9B872: set configuration 3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:45489|admin:localhost:36285|client:localhost:39539|dataStream:localhost:45611|priority:0, s1|rpc:localhost:33199|admin:localhost:43635|client:localhost:33507|dataStream:localhost:34163|priority:0, s2|rpc:localhost:38219|admin:localhost:32819|client:localhost:37061|dataStream:localhost:33675|priority:0]
2022-06-20 14:45:58,752 [Thread-1996] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1196:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:58,754 [Thread-1997] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1197:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:45:58,755 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-A986BDB9B872: set configuration 5: [s0|priority:1, s1|priority:2, s2|priority:1], old=null
2022-06-20 14:45:58,756 [Thread-1940] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits[s0:c3, s1:c2, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-06-20 14:45:58,756 [Thread-1940] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-A986BDB9B872: set configuration 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:58,756 [Thread-1933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits[s0:c3, s1:c2, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-06-20 14:45:58,756 [Thread-1933] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-A986BDB9B872: set configuration 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:58,758 [Thread-2001] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1199:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-06-20 14:45:58,758 [Thread-1999] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1198:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-06-20 14:45:58,759 [Thread-1934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits[s0:c5, s1:c3, s2:c2], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:58,759 [Thread-1942] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-06-20 14:45:58,760 [Thread-2003] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s1#1202:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:58,761 [Thread-2004] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s0<-s2#1203:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:45:58,762 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1045)) - s1@group-A986BDB9B872 receive leaderElectionManagement request LeaderElectionManagementRequest:client-D31CEF3262CD->s1@group-A986BDB9B872, cid=1204, seq=0, RO, null, Resume:
2022-06-20 14:45:58,770 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:58,870 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:58,971 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s1> but was:<s0>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s1> but was:<s0>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,061 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(975)) - s0@group-A986BDB9B872-LeaderStateImpl send StartLeaderElectionRequest to follower:s1 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-06-20 14:45:59,062 [Thread-1935] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1485)) - s1@group-A986BDB9B872: receive startLeaderElection from:s0, leaderLastEntry:term: 1
index: 6
,
2022-06-20 14:45:59,062 [Thread-1935] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,062 [Thread-1935] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-A986BDB9B872: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:45:59,062 [s1@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:59,062 [Thread-1935] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A986BDB9B872-LeaderElection61
2022-06-20 14:45:59,062 [Thread-2020] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(594)) - s0@group-A986BDB9B872-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s1
2022-06-20 14:45:59,063 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-A986BDB9B872: change Leader from s0 to null at term 1 for ELECTION
2022-06-20 14:45:59,064 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-A986BDB9B872-LeaderElection61 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:59,064 [Thread-1933] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1320)) - s1@group-A986BDB9B872: Not recognize s0 (term=1) as leader, state: s1@group-A986BDB9B872:t2, leader=null, voted=s1, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null reply: s0<-s1#1219:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6
2022-06-20 14:45:59,066 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-A986BDB9B872: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:59,066 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-A986BDB9B872: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2022-06-20 14:45:59,066 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A986BDB9B872-LeaderStateImpl
2022-06-20 14:45:59,067 [s0@group-A986BDB9B872->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-A986BDB9B872->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:59,067 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A986BDB9B872-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:59,067 [s0@group-A986BDB9B872->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-A986BDB9B872->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:59,067 [Thread-1940] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-A986BDB9B872: receive requestVote(ELECTION, s1, group-A986BDB9B872, 2, (t:1, i:6))
2022-06-20 14:45:59,069 [Thread-1940] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A986BDB9B872-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-06-20 14:45:59,069 [Thread-1940] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-A986BDB9B872: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:45:59,069 [Thread-1940] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-A986BDB9B872: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-06-20 14:45:59,069 [Thread-1940] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,069 [Thread-1940] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,069 [s2@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:59,070 [s0@group-A986BDB9B872-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,071 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #4/20: java.lang.NullPointerException, sleep 100ms and then retry.
java.lang.NullPointerException
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,072 [Thread-1926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-A986BDB9B872: receive requestVote(ELECTION, s1, group-A986BDB9B872, 2, (t:1, i:6))
2022-06-20 14:45:59,072 [Thread-1940] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-A986BDB9B872 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-A986BDB9B872:t2, leader=null, voted=s1, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:59,072 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-A986BDB9B872-LeaderElection61: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:59,072 [Thread-1926] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A986BDB9B872-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-06-20 14:45:59,072 [Thread-1926] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-A986BDB9B872: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-06-20 14:45:59,072 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-A986BDB9B872-LeaderElection61 ELECTION round 0: result PASSED
2022-06-20 14:45:59,072 [Thread-1926] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,073 [Thread-1926] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-A986BDB9B872-LeaderElection61
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-A986BDB9B872: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-A986BDB9B872: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 10ms
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:59,073 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:59,074 [Thread-1926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-A986BDB9B872 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-A986BDB9B872:t2, leader=null, voted=s1, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:1, s1|priority:2, s2|priority:1], old=null
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A986BDB9B872-LeaderStateImpl
2022-06-20 14:45:59,074 [s1@group-A986BDB9B872-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:59,075 [s0@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:59,075 [s1@group-A986BDB9B872-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,076 [s1@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,079 [s1@group-A986BDB9B872-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-A986BDB9B872: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:59,079 [Thread-1942] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-A986BDB9B872: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-06-20 14:45:59,079 [Thread-1927] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-A986BDB9B872: change Leader from null to s1 at term 2 for appendEntries, leader elected after 12ms
2022-06-20 14:45:59,080 [Thread-1941] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits[s1:c6, s0:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-06-20 14:45:59,080 [Thread-1941] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-A986BDB9B872: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:59,080 [Thread-1941] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:59,081 [s2@group-A986BDB9B872-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,081 [s2@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,080 [Thread-1928] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-A986BDB9B872: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits[s1:c6, s0:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-06-20 14:45:59,081 [Thread-1928] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-A986BDB9B872: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-06-20 14:45:59,081 [Thread-1928] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-06-20 14:45:59,082 [s0@group-A986BDB9B872-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,082 [s0@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_0-6
2022-06-20 14:45:59,093 [s1@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s1/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_7
2022-06-20 14:45:59,093 [s2@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s2/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_7
2022-06-20 14:45:59,094 [Thread-2033] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s1<-s2#1223:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:45:59,095 [Thread-1940] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits[s1:c7, s0:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-06-20 14:45:59,101 [Thread-2034] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s1<-s2#1225:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-06-20 14:45:59,102 [s0@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpcd9636683/s0/e7012321-e3ea-4e28-bd1e-a986bdb9b872/current/log_inprogress_7
2022-06-20 14:45:59,102 [Thread-2035] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s1<-s0#1224:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:45:59,103 [Thread-1926] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-A986BDB9B872: receive appendEntries(s1, 2, (t:2, i:7), 8, true, commits[s1:c8, s0:c6, s2:c7], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-06-20 14:45:59,103 [Thread-2036] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-A986BDB9B872: succeeded to handle AppendEntries. Reply: s1<-s0#1226:OK-t2,SUCCESS,nextIndex=9,followerCommit=8
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:45:59,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A986BDB9B872:t2, leader=s1, voted=s1, raftlog=s0@group-A986BDB9B872-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A986BDB9B872:t2, leader=s1, voted=s1, raftlog=s1@group-A986BDB9B872-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A986BDB9B872:t2, leader=s1, voted=s1, raftlog=s2@group-A986BDB9B872-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-06-20 14:45:59,173 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:45:59,174 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:45:59,178 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-A986BDB9B872: shutdown
2022-06-20 14:45:59,179 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s1
2022-06-20 14:45:59,179 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-A986BDB9B872-LeaderStateImpl
2022-06-20 14:45:59,179 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-A986BDB9B872-PendingRequests: sendNotLeaderResponses
2022-06-20 14:45:59,178 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:45:59,178 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-A986BDB9B872: shutdown
2022-06-20 14:45:59,179 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s0
2022-06-20 14:45:59,179 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,179 [s0@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:59,180 [s1@group-A986BDB9B872->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-A986BDB9B872->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:45:59,180 [s1@group-A986BDB9B872->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-A986BDB9B872->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:45:59,180 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-A986BDB9B872-StateMachineUpdater: set stopIndex = 8
2022-06-20 14:45:59,180 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-A986BDB9B872: closes. applyIndex: 8
2022-06-20 14:45:59,180 [s0@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:59,180 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-A986BDB9B872: shutdown
2022-06-20 14:45:59,182 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A986BDB9B872,id=s2
2022-06-20 14:45:59,182 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A986BDB9B872-FollowerState
2022-06-20 14:45:59,183 [s2@group-A986BDB9B872-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A986BDB9B872-FollowerState was interrupted
2022-06-20 14:45:59,183 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-A986BDB9B872-StateMachineUpdater: set stopIndex = 7
2022-06-20 14:45:59,183 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-A986BDB9B872: closes. applyIndex: 7
2022-06-20 14:45:59,183 [s2@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:59,183 [java.util.concurrent.ThreadPoolExecutor$Worker@b531309[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-A986BDB9B872-SegmentedRaftLogWorker close()
2022-06-20 14:45:59,183 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-A986BDB9B872-StateMachineUpdater: set stopIndex = 8
2022-06-20 14:45:59,184 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-A986BDB9B872: closes. applyIndex: 8
2022-06-20 14:45:59,184 [s1@group-A986BDB9B872-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:45:59,185 [java.util.concurrent.ThreadPoolExecutor$Worker@3501c61b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-A986BDB9B872-SegmentedRaftLogWorker close()
2022-06-20 14:45:59,186 [Thread-1929] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,186 [Thread-1930] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,186 [Thread-1931] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,187 [java.util.concurrent.ThreadPoolExecutor$Worker@52d93856[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-A986BDB9B872-SegmentedRaftLogWorker close()
2022-06-20 14:45:59,187 [Thread-1926] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,187 [Thread-1927] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,187 [Thread-1928] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,188 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@5ac0cc42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:45:59,188 [Thread-1937] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,188 [Thread-1936] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,188 [Thread-1938] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,188 [Thread-1934] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,188 [Thread-1933] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1935] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1943] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1944] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1945] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1940] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1941] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [Thread-1942] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:45:59,189 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@6ef75243] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:45:59,190 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@15a53562] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:45:59,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:45:59,191 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:45:59,191 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:45:59,191 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:45:59,191 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:45:59,191 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-06-20 14:45:59,192 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(95)) - Running testChangeLeader
2022-06-20 14:45:59,192 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0]
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:45:59,192 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], format? true
2022-06-20 14:45:59,193 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0
2022-06-20 14:45:59,193 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0 does not exist.
2022-06-20 14:45:59,193 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0
2022-06-20 14:45:59,193 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:59,193 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:59,193 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:59,193 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:59,193 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,193 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,194 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0] (custom)
2022-06-20 14:45:59,194 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] returns group-CC3320FB31EC:java.util.concurrent.CompletableFuture@2f43bb22[Not completed]
2022-06-20 14:45:59,194 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], format? true
2022-06-20 14:45:59,194 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1
2022-06-20 14:45:59,194 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1 does not exist.
2022-06-20 14:45:59,194 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1
2022-06-20 14:45:59,194 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:59,195 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:59,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:59,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:59,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1] (custom)
2022-06-20 14:45:59,194 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-CC3320FB31EC: ConfigurationManager, init=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:59,195 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0] (custom)
2022-06-20 14:45:59,196 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:59,196 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:59,196 [pool-29-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec does not exist. Creating ...
2022-06-20 14:45:59,196 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,197 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] returns group-CC3320FB31EC:java.util.concurrent.CompletableFuture@5b617cd3[Not completed]
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:59,197 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], format? true
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:59,197 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,197 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2 does not exist.
2022-06-20 14:45:59,197 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2
2022-06-20 14:45:59,197 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,198 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:59,197 [pool-29-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:59,198 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-CC3320FB31EC: ConfigurationManager, init=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:59,198 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current
2022-06-20 14:45:59,198 [pool-29-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/sm
2022-06-20 14:45:59,198 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:45:59,198 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:45:59,198 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:45:59,198 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:45:59,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2] (custom)
2022-06-20 14:45:59,198 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1] (custom)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec has been successfully formatted.
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:59,199 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:59,200 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:59,199 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,200 [pool-30-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec does not exist. Creating ...
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-CC3320FB31EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:59,200 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:59,201 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,201 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:59,201 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:59,201 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:59,201 [pool-29-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-06-20 14:45:59,202 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,202 [pool-29-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,202 [pool-30-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:59,202 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current
2022-06-20 14:45:59,202 [pool-30-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/sm
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec has been successfully formatted.
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,203 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-CC3320FB31EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:59,204 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:59,210 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:59,210 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:59,210 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:59,210 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:59,210 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:59,211 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:59,211 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:59,211 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:59,211 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:59,211 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:59,211 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:59,211 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:59,211 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:59,212 [pool-30-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:59,212 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] returns group-CC3320FB31EC:java.util.concurrent.CompletableFuture@1411ebc[Not completed]
2022-06-20 14:45:59,212 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-CC3320FB31EC: start as a follower, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,212 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:59,212 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-CC3320FB31EC:[s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:59,212 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:59,213 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:59,213 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:59,213 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:59,213 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:59,213 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:59,212 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,212 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-CC3320FB31EC: ConfigurationManager, init=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2] (custom)
2022-06-20 14:45:59,213 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:45:59,214 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:45:59,214 [pool-31-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec does not exist. Creating ...
2022-06-20 14:45:59,214 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,215 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s0
2022-06-20 14:45:59,215 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:45:59,215 [pool-31-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:45:59,215 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current
2022-06-20 14:45:59,215 [pool-31-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/sm
2022-06-20 14:45:59,216 [pool-31-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec has been successfully formatted.
2022-06-20 14:45:59,216 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:45:59,216 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:45:59,216 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:45:59,216 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-CC3320FB31EC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:45:59,217 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:45:59,218 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:45:59,218 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:45:59,218 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:45:59,218 [pool-31-thread-1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-06-20 14:45:59,218 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,218 [pool-31-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:45:59,218 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-CC3320FB31EC: start as a follower, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,218 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:59,218 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@51166da3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:45:59,222 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:45:59,222 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:45:59,222 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:45:59,222 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:45:59,222 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:45:59,223 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:45:59,223 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:45:59,223 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:45:59,223 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:45:59,223 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:45:59,223 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,223 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s1
2022-06-20 14:45:59,224 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:45:59,227 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-CC3320FB31EC: start as a follower, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,227 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:45:59,227 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@72cdf951] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:45:59,227 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,229 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s2
2022-06-20 14:45:59,230 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:45:59,235 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@e20312e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:45:59,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,235 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,235 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168229887ns, electionTimeout:166ms
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderElection62
2022-06-20 14:45:59,381 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,382 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 0, (t:0, i:0))
2022-06-20 14:45:59,382 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:59,382 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,382 [Thread-2056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 0, (t:0, i:0))
2022-06-20 14:45:59,382 [Thread-2056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:59,382 [Thread-2056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-CC3320FB31EC:t0, leader=null, voted=, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,383 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection62: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:59,383 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:45:59,383 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection62 PRE_VOTE round 0: result PASSED
2022-06-20 14:45:59,385 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection62 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,385 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 1, (t:0, i:0))
2022-06-20 14:45:59,385 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 1, (t:0, i:0))
2022-06-20 14:45:59,385 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:59,385 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:45:59,385 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:59,386 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,386 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,386 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:45:59,386 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:45:59,386 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,386 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:45:59,386 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:45:59,387 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-CC3320FB31EC:t1, leader=null, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,387 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-CC3320FB31EC:t1, leader=null, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection62 ELECTION round 0: result PASSED
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CC3320FB31EC-LeaderElection62
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 188ms
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:59,387 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:45:59,388 [s0@group-CC3320FB31EC-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:45:59,389 [s0@group-CC3320FB31EC-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:59,389 [s0@group-CC3320FB31EC-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-06-20 14:45:59,389 [s0@group-CC3320FB31EC-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:59,398 [s0@group-CC3320FB31EC-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,398 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0
2022-06-20 14:45:59,398 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 195ms
2022-06-20 14:45:59,398 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0)
2022-06-20 14:45:59,399 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-06-20 14:45:59,399 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 182ms
2022-06-20 14:45:59,400 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:59,400 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,400 [Thread-2049] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:59,400 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-06-20 14:45:59,400 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:59,404 [Thread-2056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:59,404 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:45:59,404 [Thread-2056] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:45:59,404 [Thread-2056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-06-20 14:45:59,404 [Thread-2056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:45:59,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0
2022-06-20 14:45:59,414 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0
2022-06-20 14:45:59,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0)
2022-06-20 14:45:59,414 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0)
2022-06-20 14:45:59,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-06-20 14:45:59,415 [Thread-2091] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1238:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-06-20 14:45:59,415 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-06-20 14:45:59,416 [Thread-2092] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1239:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-06-20 14:45:59,686 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,687 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,687 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,688 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,788 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,788 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,788 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,789 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,889 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,889 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,890 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,890 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:45:59,990 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:45:59,990 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,991 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:45:59,991 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,014 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:371118594ns, electionTimeout:293ms
2022-06-20 14:46:00,014 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,014 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:46:00,014 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:00,014 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderElection63
2022-06-20 14:46:00,015 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:46:00,015 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,015 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 1, (t:1, i:0))
2022-06-20 14:46:00,015 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 1, (t:1, i:0))
2022-06-20 14:46:00,015 [Thread-2042] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 627ms. Conf: 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,015 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,015 [Thread-2042] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=298, lastRpcResponseTime=373)
2022-06-20 14:46:00,015 [Thread-2042] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=297, lastRpcResponseTime=372)
2022-06-20 14:46:00,016 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:00,016 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:00,016 [s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:00,016 [s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:00,015 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,016 [Thread-2042] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:00,016 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:00,016 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-06-20 14:46:00,016 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:00,016 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,016 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:46:00,016 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-CC3320FB31EC:t1, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,018 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection63 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,018 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 2, (t:1, i:0))
2022-06-20 14:46:00,018 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 2, (t:1, i:0))
2022-06-20 14:46:00,018 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,018 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,018 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:46:00,018 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:46:00,018 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-06-20 14:46:00,018 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,018 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,018 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-06-20 14:46:00,018 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,018 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,018 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:00,019 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:00,020 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-CC3320FB31EC:t2, leader=null, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,020 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-CC3320FB31EC:t2, leader=null, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection63 ELECTION round 0: result PASSED
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CC3320FB31EC-LeaderElection63
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:00,020 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:00,021 [s2@group-CC3320FB31EC-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:00,022 [s2@group-CC3320FB31EC-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:46:00,022 [s2@group-CC3320FB31EC-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-06-20 14:46:00,022 [s2@group-CC3320FB31EC-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-06-20 14:46:00,022 [s2@group-CC3320FB31EC-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:46:00,023 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,023 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,023 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-06-20 14:46:00,023 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-06-20 14:46:00,031 [s2@group-CC3320FB31EC-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,032 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s2 at term 2 for appendEntries, leader elected after 13ms
2022-06-20 14:46:00,032 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s2 at term 2 for appendEntries, leader elected after 13ms
2022-06-20 14:46:00,032 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:46:00,032 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1
2022-06-20 14:46:00,032 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,033 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,033 [Thread-2042] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:46:00,033 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-06-20 14:46:00,033 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-06-20 14:46:00,033 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:46:00,033 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-06-20 14:46:00,034 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,034 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,034 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-06-20 14:46:00,034 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-06-20 14:46:00,038 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:46:00,038 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,038 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-06-20 14:46:00,038 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-06-20 14:46:00,038 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-06-20 14:46:00,038 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-06-20 14:46:00,039 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,039 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_0-0
2022-06-20 14:46:00,039 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-06-20 14:46:00,039 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-06-20 14:46:00,048 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1
2022-06-20 14:46:00,048 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,048 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1
2022-06-20 14:46:00,049 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,049 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-06-20 14:46:00,049 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-06-20 14:46:00,049 [Thread-2130] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1266:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:46:00,049 [Thread-2131] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1267:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-06-20 14:46:00,049 [s2@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:00,050 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,050 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-06-20 14:46:00,050 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:00,050 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:00,051 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,050 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:00,051 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:00,051 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1)
2022-06-20 14:46:00,051 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-06-20 14:46:00,052 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-06-20 14:46:00,052 [Thread-2132] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1270:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:46:00,053 [Thread-2133] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1271:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-06-20 14:46:00,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,091 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,091 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,092 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-06-20 14:46:00,092 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,092 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,092 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,092 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,193 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,193 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,193 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,293 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,294 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,294 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,294 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,388 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:337055468ns, electionTimeout:183ms
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderElection64
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s2 to null at term 2 for PRE_VOTE
2022-06-20 14:46:00,389 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,389 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 2, (t:2, i:2))
2022-06-20 14:46:00,390 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 2, (t:2, i:2))
2022-06-20 14:46:00,390 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,390 [Thread-2058] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 369ms. Conf: 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,390 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,390 [Thread-2058] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s0(c1,m2,n3, attendVote=true, lastRpcSendTime=261, lastRpcResponseTime=336)
2022-06-20 14:46:00,390 [Thread-2058] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s1(c1,m2,n3, attendVote=true, lastRpcSendTime=262, lastRpcResponseTime=338)
2022-06-20 14:46:00,390 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:00,390 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:00,390 [s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:00,390 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection64: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:00,390 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-06-20 14:46:00,390 [Thread-2058] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:00,390 [s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:00,390 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection64 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:00,391 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,391 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-06-20 14:46:00,391 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t2. Peer's state: s2@group-CC3320FB31EC:t2, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,392 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection64 ELECTION round 0: submit vote requests at term 3 for 1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,393 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 3, (t:2, i:2))
2022-06-20 14:46:00,393 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,393 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s2 to null at term 3 for updateCurrentTerm
2022-06-20 14:46:00,393 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-06-20 14:46:00,393 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,393 [Thread-2043] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,393 [Thread-2056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 3, (t:2, i:2))
2022-06-20 14:46:00,393 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:00,393 [Thread-2056] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,393 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s2 to null at term 3 for updateCurrentTerm
2022-06-20 14:46:00,393 [Thread-2056] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2022-06-20 14:46:00,393 [Thread-2056] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,394 [Thread-2056] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,394 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=null, voted=null, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,395 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=null, voted=null, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=null, voted=null, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,395 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:00,396 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection64 ELECTION round 0: result PASSED
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-CC3320FB31EC-LeaderElection64
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 7ms
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:00,396 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:00,397 [Thread-2056] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-CC3320FB31EC:t3, leader=null, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:00,397 [s1@group-CC3320FB31EC-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:00,398 [s1@group-CC3320FB31EC-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:46:00,398 [s1@group-CC3320FB31EC-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-06-20 14:46:00,398 [s1@group-CC3320FB31EC-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-06-20 14:46:00,398 [s1@group-CC3320FB31EC-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:46:00,399 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,399 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,399 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-06-20 14:46:00,399 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-06-20 14:46:00,403 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s1 at term 3 for appendEntries, leader elected after 9ms
2022-06-20 14:46:00,403 [s1@group-CC3320FB31EC-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,403 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s1 at term 3 for appendEntries, leader elected after 9ms
2022-06-20 14:46:00,403 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 3, (t:2, i:2), 1, true, commits[s1:c1, s0:c1, s2:c1], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:46:00,404 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,404 [Thread-2042] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:46:00,404 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-06-20 14:46:00,404 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-06-20 14:46:00,404 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:46:00,405 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,405 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,405 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-06-20 14:46:00,405 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-06-20 14:46:00,409 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 3, (t:2, i:2), 1, true, commits[s1:c1, s0:c1, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:46:00,409 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,409 [Thread-2058] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-06-20 14:46:00,409 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-06-20 14:46:00,409 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-06-20 14:46:00,409 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-06-20 14:46:00,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3
2022-06-20 14:46:00,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,414 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-06-20 14:46:00,414 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,415 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_1-2
2022-06-20 14:46:00,415 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-06-20 14:46:00,415 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-06-20 14:46:00,418 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3
2022-06-20 14:46:00,418 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,423 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-06-20 14:46:00,423 [Thread-2157] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1284:OK-t3,SUCCESS,nextIndex=4,followerCommit=1
2022-06-20 14:46:00,423 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3
2022-06-20 14:46:00,424 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,424 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-06-20 14:46:00,424 [s1@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:00,424 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,424 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-06-20 14:46:00,425 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits[s1:c3, s0:c1, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:00,425 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:00,425 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,425 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-06-20 14:46:00,426 [Thread-2158] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1285:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-06-20 14:46:00,426 [Thread-2056] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 3, (t:3, i:3), 3, true, commits[s1:c3, s0:c1, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:00,426 [Thread-2056] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:00,427 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3)
2022-06-20 14:46:00,427 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-06-20 14:46:00,428 [Thread-2159] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1288:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:46:00,429 [Thread-2160] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1289:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-06-20 14:46:00,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-06-20 14:46:00,845 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,846 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,846 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,846 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,946 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:00,946 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,947 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:00,947 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190280460ns, electionTimeout:176ms
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderElection65
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s1 to null at term 3 for PRE_VOTE
2022-06-20 14:46:00,997 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,998 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 3, (t:3, i:4))
2022-06-20 14:46:00,998 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 3, (t:3, i:4))
2022-06-20 14:46:00,998 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:00,998 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-06-20 14:46:00,998 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,998 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t3. Peer's state: s1@group-CC3320FB31EC:t3, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:00,998 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection65: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:00,998 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t3
2022-06-20 14:46:00,998 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t3
2022-06-20 14:46:00,998 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection65 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:01,000 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection65 ELECTION round 0: submit vote requests at term 4 for 3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,000 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 4, (t:3, i:4))
2022-06-20 14:46:01,000 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 4, (t:3, i:4))
2022-06-20 14:46:01,000 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,000 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s1 to null at term 4 for updateCurrentTerm
2022-06-20 14:46:01,000 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2022-06-20 14:46:01,000 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,000 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,000 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:01,000 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,001 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s1 to null at term 4 for updateCurrentTerm
2022-06-20 14:46:01,001 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 4 for candidate:s2
2022-06-20 14:46:01,001 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,001 [Thread-2049] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:01,001 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,002 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-CC3320FB31EC:t4, leader=null, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection65: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection65 ELECTION round 0: result PASSED
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CC3320FB31EC-LeaderElection65
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s2 at term 4 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:01,002 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:01,003 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-CC3320FB31EC:t4, leader=null, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,003 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,003 [s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,004 [s2@group-CC3320FB31EC-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,003 [s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,004 [s2@group-CC3320FB31EC-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-06-20 14:46:01,004 [s2@group-CC3320FB31EC-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-06-20 14:46:01,004 [s2@group-CC3320FB31EC-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-06-20 14:46:01,004 [s2@group-CC3320FB31EC-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-06-20 14:46:01,005 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,005 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,005 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-06-20 14:46:01,005 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-06-20 14:46:01,009 [s2@group-CC3320FB31EC-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,009 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s2 at term 4 for appendEntries, leader elected after 8ms
2022-06-20 14:46:01,010 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-06-20 14:46:01,010 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,010 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-06-20 14:46:01,010 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-06-20 14:46:01,010 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-06-20 14:46:01,010 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-06-20 14:46:01,012 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,012 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,012 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-06-20 14:46:01,012 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-06-20 14:46:01,015 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5
2022-06-20 14:46:01,015 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,015 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s2 at term 4 for appendEntries, leader elected after 14ms
2022-06-20 14:46:01,015 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-06-20 14:46:01,016 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 4, (t:3, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-06-20 14:46:01,016 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,016 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-06-20 14:46:01,016 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-06-20 14:46:01,016 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-06-20 14:46:01,016 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-06-20 14:46:01,017 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,017 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_3-4
2022-06-20 14:46:01,017 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-06-20 14:46:01,017 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-06-20 14:46:01,031 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5
2022-06-20 14:46:01,031 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5
2022-06-20 14:46:01,032 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,032 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,032 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-06-20 14:46:01,032 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-06-20 14:46:01,032 [Thread-2199] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1319:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-06-20 14:46:01,032 [Thread-2200] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1317:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-06-20 14:46:01,032 [s2@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:01,033 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,033 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 4, (t:4, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:01,033 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:01,033 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,033 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 4, (t:4, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:01,034 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:01,034 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5)
2022-06-20 14:46:01,033 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-06-20 14:46:01,034 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-06-20 14:46:01,034 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-06-20 14:46:01,034 [Thread-2201] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1322:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:46:01,035 [Thread-2202] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1323:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-06-20 14:46:01,047 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,047 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,047 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,047 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-06-20 14:46:01,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,048 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,048 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,048 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,148 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,149 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,249 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,249 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,249 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,250 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,350 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,350 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,350 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,351 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,451 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,451 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,451 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,469 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:434449097ns, electionTimeout:213ms
2022-06-20 14:46:01,469 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,469 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-06-20 14:46:01,469 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:01,469 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderElection66
2022-06-20 14:46:01,470 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s2 to null at term 4 for PRE_VOTE
2022-06-20 14:46:01,470 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 4 for 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,470 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 4, (t:4, i:6))
2022-06-20 14:46:01,470 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,470 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,470 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection66: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:01,470 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 4, (t:4, i:6))
2022-06-20 14:46:01,470 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t4
2022-06-20 14:46:01,471 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection66 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:01,471 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 468ms. Conf: 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,471 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s0(c5,m6,n7, attendVote=true, lastRpcSendTime=360, lastRpcResponseTime=436)
2022-06-20 14:46:01,471 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s1(c5,m6,n7, attendVote=true, lastRpcSendTime=359, lastRpcResponseTime=434)
2022-06-20 14:46:01,471 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:01,471 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,471 [Thread-2057] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:01,471 [s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,471 [s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,472 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection66 ELECTION round 0: submit vote requests at term 5 for 5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,472 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,473 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-06-20 14:46:01,473 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 5, (t:4, i:6))
2022-06-20 14:46:01,473 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,473 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s2 to null at term 5 for updateCurrentTerm
2022-06-20 14:46:01,473 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2022-06-20 14:46:01,473 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,473 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t4. Peer's state: s2@group-CC3320FB31EC:t4, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,473 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,473 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:01,473 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 5, (t:4, i:6))
2022-06-20 14:46:01,474 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,474 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s2 to null at term 5 for updateCurrentTerm
2022-06-20 14:46:01,474 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2022-06-20 14:46:01,474 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,474 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,474 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:01,475 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-CC3320FB31EC:t5, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c5, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection66: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection66 ELECTION round 0: result PASSED
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-CC3320FB31EC-LeaderElection66
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s1 at term 5 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,475 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,476 [s1@group-CC3320FB31EC-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,477 [s1@group-CC3320FB31EC-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-06-20 14:46:01,477 [s1@group-CC3320FB31EC-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-06-20 14:46:01,477 [s1@group-CC3320FB31EC-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-06-20 14:46:01,477 [s1@group-CC3320FB31EC-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-06-20 14:46:01,477 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s1<-s2#0:OK-t5. Peer's state: s2@group-CC3320FB31EC:t5, leader=null, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,478 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,478 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,478 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-06-20 14:46:01,478 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-06-20 14:46:01,482 [s1@group-CC3320FB31EC-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,482 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s1 at term 5 for appendEntries, leader elected after 8ms
2022-06-20 14:46:01,482 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s1 at term 5 for appendEntries, leader elected after 8ms
2022-06-20 14:46:01,482 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 5, (t:4, i:6), 5, true, commits[s1:c5, s0:c5, s2:c5], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-06-20 14:46:01,482 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,482 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-06-20 14:46:01,483 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-06-20 14:46:01,483 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-06-20 14:46:01,483 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-06-20 14:46:01,483 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,483 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,483 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-06-20 14:46:01,483 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-06-20 14:46:01,487 [Thread-2057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 5, (t:4, i:6), 5, true, commits[s1:c5, s0:c5, s2:c6], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-06-20 14:46:01,487 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,487 [Thread-2057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-06-20 14:46:01,487 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-06-20 14:46:01,487 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-06-20 14:46:01,487 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-06-20 14:46:01,488 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,488 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_5-6
2022-06-20 14:46:01,488 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-06-20 14:46:01,488 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-06-20 14:46:01,495 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7
2022-06-20 14:46:01,495 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,500 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-06-20 14:46:01,501 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7
2022-06-20 14:46:01,501 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,501 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7
2022-06-20 14:46:01,501 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,501 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-06-20 14:46:01,501 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-06-20 14:46:01,501 [Thread-2228] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1340:OK-t5,SUCCESS,nextIndex=8,followerCommit=5
2022-06-20 14:46:01,501 [Thread-2229] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1341:OK-t5,SUCCESS,nextIndex=8,followerCommit=6
2022-06-20 14:46:01,502 [s1@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-06-20 14:46:01,502 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,502 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits[s1:c7, s0:c5, s2:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-06-20 14:46:01,502 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 5, (t:5, i:7), 7, true, commits[s1:c7, s0:c5, s2:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-06-20 14:46:01,502 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-06-20 14:46:01,502 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-06-20 14:46:01,502 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,503 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-06-20 14:46:01,503 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7)
2022-06-20 14:46:01,503 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-06-20 14:46:01,503 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-06-20 14:46:01,503 [Thread-2231] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1342:OK-t5,SUCCESS,nextIndex=9,followerCommit=7
2022-06-20 14:46:01,504 [Thread-2230] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1343:OK-t5,SUCCESS,nextIndex=9,followerCommit=7
2022-06-20 14:46:01,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,552 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,552 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,552 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-06-20 14:46:01,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,552 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,553 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,553 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,653 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,653 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,653 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,754 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,754 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,754 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,754 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,792 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:289039595ns, electionTimeout:154ms
2022-06-20 14:46:01,792 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,792 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-06-20 14:46:01,793 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:01,793 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderElection67
2022-06-20 14:46:01,793 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s1 to null at term 5 for PRE_VOTE
2022-06-20 14:46:01,793 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 5 for 7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,793 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 5, (t:5, i:8))
2022-06-20 14:46:01,793 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-06-20 14:46:01,793 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 5, (t:5, i:8))
2022-06-20 14:46:01,793 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t5. Peer's state: s1@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,793 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,794 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s2#0:OK-t5. Peer's state: s2@group-CC3320FB31EC:t5, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,794 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection67: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:01,794 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t5
2022-06-20 14:46:01,794 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t5
2022-06-20 14:46:01,794 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection67 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:01,795 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection67 ELECTION round 0: submit vote requests at term 6 for 7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,795 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 6, (t:5, i:8))
2022-06-20 14:46:01,795 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,796 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s1 to null at term 6 for updateCurrentTerm
2022-06-20 14:46:01,796 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 6 for candidate:s0
2022-06-20 14:46:01,796 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,796 [Thread-2049] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:01,796 [s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,796 [s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:01,796 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,796 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 6, (t:5, i:8))
2022-06-20 14:46:01,796 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:01,796 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s1 to null at term 6 for updateCurrentTerm
2022-06-20 14:46:01,796 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s0
2022-06-20 14:46:01,796 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,797 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:01,797 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:01,798 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s0<-s1#0:OK-t6. Peer's state: s1@group-CC3320FB31EC:t6, leader=null, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t6
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection67 ELECTION round 0: result PASSED
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CC3320FB31EC-LeaderElection67
2022-06-20 14:46:01,798 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-CC3320FB31EC:t6, leader=null, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s0 at term 6 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,798 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:01,799 [s0@group-CC3320FB31EC-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:01,800 [s0@group-CC3320FB31EC-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-06-20 14:46:01,800 [s0@group-CC3320FB31EC-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-06-20 14:46:01,800 [s0@group-CC3320FB31EC-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-06-20 14:46:01,800 [s0@group-CC3320FB31EC-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-06-20 14:46:01,801 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,801 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,801 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-06-20 14:46:01,801 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-06-20 14:46:01,805 [s0@group-CC3320FB31EC-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,805 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s0 at term 6 for appendEntries, leader elected after 8ms
2022-06-20 14:46:01,805 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s0 at term 6 for appendEntries, leader elected after 9ms
2022-06-20 14:46:01,807 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 6, (t:5, i:8), 7, true, commits[s0:c7, s1:c8, s2:c6], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-06-20 14:46:01,807 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,807 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-06-20 14:46:01,807 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-06-20 14:46:01,807 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-06-20 14:46:01,807 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-06-20 14:46:01,808 [Thread-2057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 6, (t:5, i:8), 7, true, commits[s0:c7, s1:c8, s2:c7], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-06-20 14:46:01,808 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:01,808 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,808 [Thread-2057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-06-20 14:46:01,808 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,808 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-06-20 14:46:01,808 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-06-20 14:46:01,808 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-06-20 14:46:01,809 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,809 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_7-8
2022-06-20 14:46:01,809 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-06-20 14:46:01,809 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-06-20 14:46:01,808 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-06-20 14:46:01,810 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-06-20 14:46:01,811 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9
2022-06-20 14:46:01,811 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,814 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-06-20 14:46:01,823 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9
2022-06-20 14:46:01,824 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,823 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9
2022-06-20 14:46:01,824 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,824 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-06-20 14:46:01,824 [Thread-2252] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1357:OK-t6,SUCCESS,nextIndex=10,followerCommit=7
2022-06-20 14:46:01,825 [s0@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-06-20 14:46:01,825 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,825 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-06-20 14:46:01,825 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 6, (t:6, i:9), 9, true, commits[s0:c9, s1:c8, s2:c7], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-06-20 14:46:01,825 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-06-20 14:46:01,825 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,826 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-06-20 14:46:01,826 [Thread-2253] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1356:OK-t6,SUCCESS,nextIndex=10,followerCommit=8
2022-06-20 14:46:01,826 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-06-20 14:46:01,826 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 6, (t:6, i:9), 9, true, commits[s0:c9, s1:c8, s2:c7], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-06-20 14:46:01,826 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-06-20 14:46:01,827 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9)
2022-06-20 14:46:01,827 [Thread-2254] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1358:OK-t6,SUCCESS,nextIndex=11,followerCommit=9
2022-06-20 14:46:01,827 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-06-20 14:46:01,828 [Thread-2255] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1359:OK-t6,SUCCESS,nextIndex=11,followerCommit=9
2022-06-20 14:46:01,855 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,856 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,856 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,856 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-06-20 14:46:01,856 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,856 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,856 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,856 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:01,957 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:01,957 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,957 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:01,957 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,057 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,058 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,058 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,058 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,158 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,159 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,159 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,159 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,260 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,260 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,260 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,306 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:480103047ns, electionTimeout:224ms
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderElection68
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s0 to null at term 6 for PRE_VOTE
2022-06-20 14:46:02,307 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 6 for 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,307 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 6, (t:6, i:10))
2022-06-20 14:46:02,308 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 6, (t:6, i:10))
2022-06-20 14:46:02,308 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 509ms. Conf: 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,308 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,308 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s1(c9,m10,n11, attendVote=true, lastRpcSendTime=404, lastRpcResponseTime=479)
2022-06-20 14:46:02,308 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s2(c9,m10,n11, attendVote=true, lastRpcSendTime=405, lastRpcResponseTime=481)
2022-06-20 14:46:02,308 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:02,308 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:02,308 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s1#0:OK-t6. Peer's state: s1@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,308 [Thread-2044] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:02,308 [s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:02,308 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,308 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection68: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:02,308 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t6
2022-06-20 14:46:02,308 [s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:02,309 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:46:02,309 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t6. Peer's state: s0@group-CC3320FB31EC:t6, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,309 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection68 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:02,310 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection68 ELECTION round 0: submit vote requests at term 7 for 9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,310 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 7, (t:6, i:10))
2022-06-20 14:46:02,311 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,311 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-06-20 14:46:02,311 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-06-20 14:46:02,311 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,311 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,311 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 7, (t:6, i:10))
2022-06-20 14:46:02,311 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,311 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s0 to null at term 7 for updateCurrentTerm
2022-06-20 14:46:02,311 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-06-20 14:46:02,311 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,311 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,311 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:02,311 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:02,312 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-CC3320FB31EC:t7, leader=null, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,312 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s2<-s0#0:OK-t7. Peer's state: s0@group-CC3320FB31EC:t7, leader=null, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,312 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection68: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t7
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection68 ELECTION round 0: result PASSED
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CC3320FB31EC-LeaderElection68
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s2 at term 7 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:02,313 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-06-20 14:46:02,314 [s2@group-CC3320FB31EC-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-06-20 14:46:02,315 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,315 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,315 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-06-20 14:46:02,315 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-06-20 14:46:02,319 [s2@group-CC3320FB31EC-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,319 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s2 at term 7 for appendEntries, leader elected after 8ms
2022-06-20 14:46:02,319 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s2 at term 7 for appendEntries, leader elected after 8ms
2022-06-20 14:46:02,320 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c9, s1:c9], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-06-20 14:46:02,320 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,320 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-06-20 14:46:02,320 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-06-20 14:46:02,320 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-06-20 14:46:02,320 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-06-20 14:46:02,320 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c10, s1:c9], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-06-20 14:46:02,320 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,321 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-06-20 14:46:02,321 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-06-20 14:46:02,321 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,321 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,321 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-06-20 14:46:02,321 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-06-20 14:46:02,321 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,322 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_9-10
2022-06-20 14:46:02,322 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-06-20 14:46:02,322 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-06-20 14:46:02,321 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-06-20 14:46:02,323 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-06-20 14:46:02,325 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11
2022-06-20 14:46:02,325 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,325 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-06-20 14:46:02,338 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11
2022-06-20 14:46:02,338 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11
2022-06-20 14:46:02,338 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,338 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,338 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-06-20 14:46:02,338 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-06-20 14:46:02,338 [Thread-2283] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1379:OK-t7,SUCCESS,nextIndex=12,followerCommit=10
2022-06-20 14:46:02,339 [Thread-2284] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1378:OK-t7,SUCCESS,nextIndex=12,followerCommit=9
2022-06-20 14:46:02,339 [s2@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-06-20 14:46:02,339 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,339 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 7, (t:7, i:11), 11, true, commits[s2:c11, s0:c10, s1:c9], entries: (t:7, i:12), METADATAENTRY(c:11)
2022-06-20 14:46:02,339 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-06-20 14:46:02,340 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-06-20 14:46:02,340 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,339 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 7, (t:7, i:11), 11, true, commits[s2:c11, s0:c10, s1:c9], entries: (t:7, i:12), METADATAENTRY(c:11)
2022-06-20 14:46:02,340 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-06-20 14:46:02,340 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-06-20 14:46:02,340 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11)
2022-06-20 14:46:02,340 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-06-20 14:46:02,340 [Thread-2285] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1380:OK-t7,SUCCESS,nextIndex=13,followerCommit=11
2022-06-20 14:46:02,341 [Thread-2286] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1381:OK-t7,SUCCESS,nextIndex=13,followerCommit=11
2022-06-20 14:46:02,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,360 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,361 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,361 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-06-20 14:46:02,361 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,361 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,361 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,361 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,461 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,462 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,462 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,462 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,562 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,562 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,563 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,563 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,663 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,663 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,663 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:368221460ns, electionTimeout:214ms
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderElection69
2022-06-20 14:46:02,709 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s2 to null at term 7 for PRE_VOTE
2022-06-20 14:46:02,710 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 7 for 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,710 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 7, (t:7, i:12))
2022-06-20 14:46:02,710 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 7, (t:7, i:12))
2022-06-20 14:46:02,710 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,710 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s2@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 397ms. Conf: 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,710 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s0(c11,m12,n13, attendVote=true, lastRpcSendTime=293, lastRpcResponseTime=369)
2022-06-20 14:46:02,710 [Thread-2057] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s2@group-CC3320FB31EC->s1(c11,m12,n13, attendVote=true, lastRpcSendTime=294, lastRpcResponseTime=369)
2022-06-20 14:46:02,710 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:02,710 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:02,710 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,710 [Thread-2057] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:02,710 [s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:02,711 [Thread-2057] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,711 [s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:02,711 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-06-20 14:46:02,711 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t7. Peer's state: s2@group-CC3320FB31EC:t7, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,711 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection69: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:02,711 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t7
2022-06-20 14:46:02,711 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection69 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:02,712 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection69 ELECTION round 0: submit vote requests at term 8 for 11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,713 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 8, (t:7, i:12))
2022-06-20 14:46:02,713 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,713 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-06-20 14:46:02,713 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-06-20 14:46:02,713 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,713 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,713 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:02,713 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 8, (t:7, i:12))
2022-06-20 14:46:02,713 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:02,713 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-06-20 14:46:02,713 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-06-20 14:46:02,713 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,713 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:02,714 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:02,715 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s0<-s2#0:OK-t8. Peer's state: s2@group-CC3320FB31EC:t8, leader=null, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,719 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s0<-s1#0:OK-t8. Peer's state: s1@group-CC3320FB31EC:t8, leader=null, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection69: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t8
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection69 ELECTION round 0: result PASSED
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CC3320FB31EC-LeaderElection69
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s0 at term 8 for becomeLeader, leader elected after 10ms
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:02,720 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-06-20 14:46:02,721 [s0@group-CC3320FB31EC-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-06-20 14:46:02,722 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,722 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,722 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-06-20 14:46:02,722 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-06-20 14:46:02,724 [s0@group-CC3320FB31EC-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-06-20 14:46:02,730 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s0 at term 8 for appendEntries, leader elected after 17ms
2022-06-20 14:46:02,731 [s0@group-CC3320FB31EC-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,731 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s0 at term 8 for appendEntries, leader elected after 17ms
2022-06-20 14:46:02,733 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13
2022-06-20 14:46:02,733 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,733 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-06-20 14:46:02,737 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits[s0:c11, s1:c11, s2:c11], entries: (t:8, i:13), CONFIGURATIONENTRY
2022-06-20 14:46:02,737 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,737 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-06-20 14:46:02,737 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-06-20 14:46:02,738 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-06-20 14:46:02,738 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-06-20 14:46:02,738 [Thread-2057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits[s0:c11, s1:c11, s2:c12], entries: (t:8, i:13), CONFIGURATIONENTRY
2022-06-20 14:46:02,738 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:02,738 [Thread-2057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-06-20 14:46:02,738 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-06-20 14:46:02,738 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-06-20 14:46:02,738 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,738 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,738 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-06-20 14:46:02,738 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-06-20 14:46:02,738 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-06-20 14:46:02,742 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,742 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_11-12
2022-06-20 14:46:02,742 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-06-20 14:46:02,742 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-06-20 14:46:02,753 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13
2022-06-20 14:46:02,753 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13
2022-06-20 14:46:02,753 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,753 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,754 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-06-20 14:46:02,754 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-06-20 14:46:02,754 [Thread-2310] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1397:OK-t8,SUCCESS,nextIndex=14,followerCommit=12
2022-06-20 14:46:02,754 [Thread-2311] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1396:OK-t8,SUCCESS,nextIndex=14,followerCommit=11
2022-06-20 14:46:02,757 [s0@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-06-20 14:46:02,757 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,758 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-06-20 14:46:02,758 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits[s0:c13, s1:c11, s2:c12], entries: (t:8, i:14), METADATAENTRY(c:13)
2022-06-20 14:46:02,758 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-06-20 14:46:02,758 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,758 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits[s0:c13, s1:c11, s2:c12], entries: (t:8, i:14), METADATAENTRY(c:13)
2022-06-20 14:46:02,758 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-06-20 14:46:02,758 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-06-20 14:46:02,758 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13)
2022-06-20 14:46:02,759 [Thread-2312] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1398:OK-t8,SUCCESS,nextIndex=15,followerCommit=13
2022-06-20 14:46:02,759 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-06-20 14:46:02,759 [Thread-2313] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1399:OK-t8,SUCCESS,nextIndex=15,followerCommit=13
2022-06-20 14:46:02,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-06-20 14:46:02,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,764 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,865 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,865 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,865 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:02,966 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:02,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:02,966 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,067 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,067 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,067 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,157 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:398673961ns, electionTimeout:150ms
2022-06-20 14:46:03,157 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,157 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-06-20 14:46:03,157 [s2@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:03,157 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderElection70
2022-06-20 14:46:03,158 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s0 to null at term 8 for PRE_VOTE
2022-06-20 14:46:03,158 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 8 for 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,158 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 8, (t:8, i:14))
2022-06-20 14:46:03,158 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s2, group-CC3320FB31EC, 8, (t:8, i:14))
2022-06-20 14:46:03,158 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 438ms. Conf: 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,158 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,158 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s1(c13,m14,n15, attendVote=true, lastRpcSendTime=322, lastRpcResponseTime=397)
2022-06-20 14:46:03,159 [Thread-2044] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-CC3320FB31EC->s2(c13,m14,n15, attendVote=true, lastRpcSendTime=322, lastRpcResponseTime=397)
2022-06-20 14:46:03,159 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:03,159 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:03,159 [s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:03,159 [s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:03,158 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,159 [Thread-2044] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:03,159 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection70: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:03,159 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t8
2022-06-20 14:46:03,159 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,159 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-06-20 14:46:03,159 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection70 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:03,160 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-CC3320FB31EC:t8, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,161 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-CC3320FB31EC-LeaderElection70 ELECTION round 0: submit vote requests at term 9 for 13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,161 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 9, (t:8, i:14))
2022-06-20 14:46:03,161 [Thread-2042] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,161 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-06-20 14:46:03,161 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s2, group-CC3320FB31EC, 9, (t:8, i:14))
2022-06-20 14:46:03,162 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-06-20 14:46:03,162 [Thread-2049] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,162 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,162 [Thread-2042] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,162 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:03,162 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-06-20 14:46:03,162 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-06-20 14:46:03,162 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,162 [Thread-2049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,162 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:03,163 [Thread-2042] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-CC3320FB31EC:t9, leader=null, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,163 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-CC3320FB31EC-LeaderElection70: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:03,163 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t9
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-CC3320FB31EC-LeaderElection70 ELECTION round 0: result PASSED
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-CC3320FB31EC-LeaderElection70
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:03,164 [Thread-2049] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-CC3320FB31EC:t9, leader=null, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:03,164 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-06-20 14:46:03,165 [s2@group-CC3320FB31EC-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-06-20 14:46:03,166 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,166 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,166 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-06-20 14:46:03,166 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-06-20 14:46:03,167 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,167 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=null, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=null, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,168 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-CC3320FB31EC not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-CC3320FB31EC not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,170 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s2 at term 9 for appendEntries, leader elected after 8ms
2022-06-20 14:46:03,170 [s2@group-CC3320FB31EC-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,170 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 9, (t:8, i:14), 13, true, commits[s2:c13, s0:c14, s1:c11], entries: (t:9, i:15), CONFIGURATIONENTRY
2022-06-20 14:46:03,170 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,171 [Thread-2044] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-06-20 14:46:03,171 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-06-20 14:46:03,171 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-06-20 14:46:03,171 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-06-20 14:46:03,172 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,172 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,172 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-06-20 14:46:03,172 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-06-20 14:46:03,175 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s2 at term 9 for appendEntries, leader elected after 13ms
2022-06-20 14:46:03,176 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 9, (t:8, i:14), 13, true, commits[s2:c13, s0:c14, s1:c13], entries: (t:9, i:15), CONFIGURATIONENTRY
2022-06-20 14:46:03,176 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,176 [Thread-2051] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-06-20 14:46:03,176 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-06-20 14:46:03,176 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-06-20 14:46:03,176 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-06-20 14:46:03,181 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15
2022-06-20 14:46:03,182 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,182 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_13-14
2022-06-20 14:46:03,182 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,182 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-06-20 14:46:03,182 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-06-20 14:46:03,182 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15
2022-06-20 14:46:03,182 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,182 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-06-20 14:46:03,182 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-06-20 14:46:03,185 [Thread-2339] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1416:OK-t9,SUCCESS,nextIndex=16,followerCommit=14
2022-06-20 14:46:03,186 [s2@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-06-20 14:46:03,186 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,186 [Thread-2042] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits[s2:c15, s0:c14, s1:c13], entries: (t:9, i:16), METADATAENTRY(c:15)
2022-06-20 14:46:03,186 [Thread-2042] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-06-20 14:46:03,187 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,190 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-06-20 14:46:03,190 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-06-20 14:46:03,191 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15
2022-06-20 14:46:03,191 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,191 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-06-20 14:46:03,191 [Thread-2340] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s0#1418:OK-t9,SUCCESS,nextIndex=17,followerCommit=15
2022-06-20 14:46:03,192 [Thread-2341] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1417:OK-t9,SUCCESS,nextIndex=16,followerCommit=13
2022-06-20 14:46:03,192 [Thread-2049] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s2, 9, (t:9, i:15), 16, true, commits[s2:c16, s0:c15, s1:c13], entries: (t:9, i:16), METADATAENTRY(c:15)
2022-06-20 14:46:03,192 [Thread-2049] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-06-20 14:46:03,192 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15)
2022-06-20 14:46:03,193 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-06-20 14:46:03,193 [Thread-2342] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s2<-s1#1419:OK-t9,SUCCESS,nextIndex=17,followerCommit=16
2022-06-20 14:46:03,618 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,618 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-06-20 14:46:03,618 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,618 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,619 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,619 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,719 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,719 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,720 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,782 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211719320ns, electionTimeout:164ms
2022-06-20 14:46:03,782 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,782 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-06-20 14:46:03,782 [s1@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:03,782 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderElection71
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s2 to null at term 9 for PRE_VOTE
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 9 for 15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,783 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 9, (t:9, i:16))
2022-06-20 14:46:03,783 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s1, group-CC3320FB31EC, 9, (t:9, i:16))
2022-06-20 14:46:03,783 [Thread-2043] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,783 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-06-20 14:46:03,783 [Thread-2043] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,783 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-CC3320FB31EC:t9, leader=s2, voted=s2, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection71: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t9
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t9
2022-06-20 14:46:03,783 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection71 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:03,785 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-CC3320FB31EC-LeaderElection71 ELECTION round 0: submit vote requests at term 10 for 15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,785 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 10, (t:9, i:16))
2022-06-20 14:46:03,785 [Thread-2044] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,785 [Thread-2044] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-06-20 14:46:03,785 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-06-20 14:46:03,785 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,786 [Thread-2044] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,786 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:03,786 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s1, group-CC3320FB31EC, 10, (t:9, i:16))
2022-06-20 14:46:03,786 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:03,786 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-06-20 14:46:03,786 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 10 for candidate:s1
2022-06-20 14:46:03,786 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:03,786 [Thread-2058] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:03,786 [s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:03,786 [s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:03,786 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:03,787 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-CC3320FB31EC:t10, leader=null, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,788 [Thread-2044] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-CC3320FB31EC replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-CC3320FB31EC:t10, leader=null, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CC3320FB31EC-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t10
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-CC3320FB31EC-LeaderElection71 ELECTION round 0: result PASSED
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-CC3320FB31EC-LeaderElection71
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 5ms
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:03,788 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-06-20 14:46:03,789 [s1@group-CC3320FB31EC-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-06-20 14:46:03,790 [s1@group-CC3320FB31EC-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-06-20 14:46:03,791 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,791 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,791 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-06-20 14:46:03,791 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-06-20 14:46:03,795 [Thread-2042] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s1 at term 10 for appendEntries, leader elected after 9ms
2022-06-20 14:46:03,795 [s1@group-CC3320FB31EC-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,796 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s1 at term 10 for appendEntries, leader elected after 10ms
2022-06-20 14:46:03,796 [Thread-2043] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits[s1:c16, s0:c16, s2:c16], entries: (t:10, i:17), CONFIGURATIONENTRY
2022-06-20 14:46:03,796 [Thread-2043] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,797 [Thread-2043] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-06-20 14:46:03,797 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-06-20 14:46:03,797 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-06-20 14:46:03,797 [Thread-2043] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-06-20 14:46:03,798 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,798 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,798 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-06-20 14:46:03,798 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-06-20 14:46:03,802 [Thread-2057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits[s1:c16, s0:c16, s2:c16], entries: (t:10, i:17), CONFIGURATIONENTRY
2022-06-20 14:46:03,802 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:03,802 [Thread-2057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-06-20 14:46:03,802 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-06-20 14:46:03,802 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-06-20 14:46:03,802 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-06-20 14:46:03,807 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17
2022-06-20 14:46:03,807 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,807 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,807 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_15-16
2022-06-20 14:46:03,807 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-06-20 14:46:03,807 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-06-20 14:46:03,807 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17
2022-06-20 14:46:03,807 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,807 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-06-20 14:46:03,807 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-06-20 14:46:03,808 [Thread-2381] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1450:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-06-20 14:46:03,808 [s1@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-06-20 14:46:03,808 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,810 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-06-20 14:46:03,811 [Thread-2044] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits[s1:c17, s0:c16, s2:c16], entries: (t:10, i:18), METADATAENTRY(c:17)
2022-06-20 14:46:03,811 [Thread-2044] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-06-20 14:46:03,811 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,816 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-06-20 14:46:03,816 [Thread-2382] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s0#1452:OK-t10,SUCCESS,nextIndex=19,followerCommit=17
2022-06-20 14:46:03,816 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17
2022-06-20 14:46:03,816 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,816 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-06-20 14:46:03,817 [Thread-2383] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1451:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-06-20 14:46:03,817 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s1, 10, (t:10, i:17), 18, true, commits[s1:c18, s0:c17, s2:c16], entries: (t:10, i:18), METADATAENTRY(c:17)
2022-06-20 14:46:03,817 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-06-20 14:46:03,817 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17)
2022-06-20 14:46:03,817 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-06-20 14:46:03,818 [Thread-2384] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s1<-s2#1453:OK-t10,SUCCESS,nextIndex=19,followerCommit=18
2022-06-20 14:46:03,820 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,820 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,820 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,820 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-06-20 14:46:03,820 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,821 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,821 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,821 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:03,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:03,921 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,921 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:03,922 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:04,022 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:04,022 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:04,022 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:04,023 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-CC3320FB31EC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:302978428ns, electionTimeout:154ms
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderElection72
2022-06-20 14:46:04,119 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from s1 to null at term 10 for PRE_VOTE
2022-06-20 14:46:04,120 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 10 for 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,120 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 10, (t:10, i:18))
2022-06-20 14:46:04,120 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s1@group-CC3320FB31EC-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 332ms. Conf: 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,120 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-CC3320FB31EC->s0(c17,m18,n19, attendVote=true, lastRpcSendTime=228, lastRpcResponseTime=303)
2022-06-20 14:46:04,120 [Thread-2050] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s1@group-CC3320FB31EC->s2(c18,m18,n19, attendVote=true, lastRpcSendTime=226, lastRpcResponseTime=301)
2022-06-20 14:46:04,120 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:04,120 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:04,120 [Thread-2050] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:04,120 [s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:04,121 [Thread-2050] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,121 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(PRE_VOTE, s0, group-CC3320FB31EC, 10, (t:10, i:18))
2022-06-20 14:46:04,121 [Thread-2057] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:04,121 [Thread-2057] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s2#0:OK-t10. Peer's state: s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,121 [s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-CC3320FB31EC->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-06-20 14:46:04,121 [Thread-2050] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-06-20 14:46:04,121 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection72: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:04,122 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t10
2022-06-20 14:46:04,122 [Thread-2050] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t10. Peer's state: s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,122 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection72 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:04,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:04,123 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-CC3320FB31EC:t11, leader=null, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:04,123 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-CC3320FB31EC:t11, leader=null, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-CC3320FB31EC:t11, leader=null, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t10, leader=s1, voted=s1, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:04,124 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-CC3320FB31EC-LeaderElection72 ELECTION round 0: submit vote requests at term 11 for 17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,125 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 11, (t:10, i:18))
2022-06-20 14:46:04,125 [Thread-2051] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:04,125 [Thread-2051] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-06-20 14:46:04,125 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-06-20 14:46:04,125 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,125 [Thread-2051] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,125 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:04,127 [Thread-2051] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-CC3320FB31EC replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-CC3320FB31EC:t11, leader=null, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CC3320FB31EC-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t11
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-CC3320FB31EC-LeaderElection72 ELECTION round 0: result PASSED
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-CC3320FB31EC-LeaderElection72
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-CC3320FB31EC: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-CC3320FB31EC: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 7ms
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:04,127 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:04,128 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-CC3320FB31EC: receive requestVote(ELECTION, s0, group-CC3320FB31EC, 11, (t:10, i:18))
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:04,128 [Thread-2058] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-CC3320FB31EC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:04,128 [Thread-2058] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-06-20 14:46:04,128 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-CC3320FB31EC: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-06-20 14:46:04,128 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,128 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:04,128 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:04,128 [Thread-2058] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-06-20 14:46:04,129 [s0@group-CC3320FB31EC-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-06-20 14:46:04,130 [Thread-2049] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-CC3320FB31EC: change Leader from null to s0 at term 11 for appendEntries, leader elected after 5ms
2022-06-20 14:46:04,130 [Thread-2058] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-CC3320FB31EC replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-CC3320FB31EC:t11, leader=null, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,131 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,131 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,131 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-06-20 14:46:04,131 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-06-20 14:46:04,135 [s0@group-CC3320FB31EC-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-CC3320FB31EC: set configuration 19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,135 [Thread-2056] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-CC3320FB31EC: change Leader from null to s0 at term 11 for appendEntries, leader elected after 6ms
2022-06-20 14:46:04,135 [Thread-2057] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 11, (t:10, i:18), 17, true, commits[s0:c17, s1:c17, s2:c18], entries: (t:11, i:19), CONFIGURATIONENTRY
2022-06-20 14:46:04,135 [Thread-2057] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-CC3320FB31EC: set configuration 19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,136 [Thread-2057] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-06-20 14:46:04,136 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-06-20 14:46:04,136 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-06-20 14:46:04,136 [Thread-2057] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-06-20 14:46:04,136 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,136 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,136 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-06-20 14:46:04,137 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-06-20 14:46:04,140 [Thread-2050] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 11, (t:10, i:18), 17, true, commits[s0:c17, s1:c18, s2:c18], entries: (t:11, i:19), CONFIGURATIONENTRY
2022-06-20 14:46:04,140 [Thread-2050] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-CC3320FB31EC: set configuration 19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null
2022-06-20 14:46:04,140 [Thread-2050] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-06-20 14:46:04,140 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-06-20 14:46:04,141 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-06-20 14:46:04,141 [Thread-2050] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-06-20 14:46:04,146 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19
2022-06-20 14:46:04,146 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,147 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,147 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_17-18
2022-06-20 14:46:04,147 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-06-20 14:46:04,147 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-06-20 14:46:04,150 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-06-20 14:46:04,150 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19
2022-06-20 14:46:04,150 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,155 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-06-20 14:46:04,156 [Thread-2408] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1468:OK-t11,SUCCESS,nextIndex=20,followerCommit=18
2022-06-20 14:46:04,156 [s0@group-CC3320FB31EC-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-06-20 14:46:04,156 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s0/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,156 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19
2022-06-20 14:46:04,156 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,157 [Thread-2058] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits[s0:c19, s1:c18, s2:c18], entries: (t:11, i:20), METADATAENTRY(c:19)
2022-06-20 14:46:04,157 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-06-20 14:46:04,157 [Thread-2058] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-06-20 14:46:04,157 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-06-20 14:46:04,157 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s2/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,158 [Thread-2409] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1469:OK-t11,SUCCESS,nextIndex=20,followerCommit=18
2022-06-20 14:46:04,159 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-06-20 14:46:04,159 [Thread-2051] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits[s0:c19, s1:c18, s2:c18], entries: (t:11, i:20), METADATAENTRY(c:19)
2022-06-20 14:46:04,159 [Thread-2051] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-06-20 14:46:04,159 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpca88df5fc/s1/29afc7f5-cad1-4b23-b909-cc3320fb31ec/current/log_inprogress_19)
2022-06-20 14:46:04,159 [Thread-2410] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s2#1470:OK-t11,SUCCESS,nextIndex=21,followerCommit=19
2022-06-20 14:46:04,159 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-06-20 14:46:04,160 [Thread-2411] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s1@group-CC3320FB31EC: succeeded to handle AppendEntries. Reply: s0<-s1#1471:OK-t11,SUCCESS,nextIndex=21,followerCommit=19
2022-06-20 14:46:04,574 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:04,574 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-06-20 14:46:04,574 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:04,574 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s0@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s1@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CC3320FB31EC:t11, leader=s0, voted=s0, raftlog=s2@group-CC3320FB31EC-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:34009|admin:localhost:35801|client:localhost:35953|dataStream:localhost:42649|priority:0, s1|rpc:localhost:36095|admin:localhost:37963|client:localhost:44663|dataStream:localhost:42917|priority:0, s2|rpc:localhost:44637|admin:localhost:35939|client:localhost:44957|dataStream:localhost:40479|priority:0], old=null RUNNING
2022-06-20 14:46:04,575 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:46:04,575 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:04,575 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-CC3320FB31EC: shutdown
2022-06-20 14:46:04,575 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:46:04,576 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s1
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-CC3320FB31EC: shutdown
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-CC3320FB31EC: shutdown
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-CC3320FB31EC-StateMachineUpdater: set stopIndex = 20
2022-06-20 14:46:04,577 [s1@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s2
2022-06-20 14:46:04,578 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-CC3320FB31EC-FollowerState
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CC3320FB31EC,id=s0
2022-06-20 14:46:04,578 [s2@group-CC3320FB31EC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-CC3320FB31EC-FollowerState was interrupted
2022-06-20 14:46:04,577 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-CC3320FB31EC: closes. applyIndex: 20
2022-06-20 14:46:04,578 [s1@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:04,578 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-CC3320FB31EC-StateMachineUpdater: set stopIndex = 20
2022-06-20 14:46:04,578 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-CC3320FB31EC: closes. applyIndex: 20
2022-06-20 14:46:04,579 [s2@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:04,579 [java.util.concurrent.ThreadPoolExecutor$Worker@78b286c1[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-CC3320FB31EC-SegmentedRaftLogWorker close()
2022-06-20 14:46:04,578 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-CC3320FB31EC-LeaderStateImpl
2022-06-20 14:46:04,587 [s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-CC3320FB31EC->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:46:04,587 [s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-CC3320FB31EC->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-06-20 14:46:04,587 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-CC3320FB31EC-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:04,587 [Thread-2052] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,587 [Thread-2053] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,587 [Thread-2054] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,588 [Thread-2049] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,589 [java.util.concurrent.ThreadPoolExecutor$Worker@4efac863[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-CC3320FB31EC-SegmentedRaftLogWorker close()
2022-06-20 14:46:04,591 [Thread-2051] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,591 [Thread-2050] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,591 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-CC3320FB31EC-StateMachineUpdater: set stopIndex = 20
2022-06-20 14:46:04,591 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-CC3320FB31EC: closes. applyIndex: 20
2022-06-20 14:46:04,592 [s0@group-CC3320FB31EC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:04,592 [java.util.concurrent.ThreadPoolExecutor$Worker@652779d2[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-CC3320FB31EC-SegmentedRaftLogWorker close()
2022-06-20 14:46:04,599 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@72cdf951] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:46:04,599 [Thread-2045] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,599 [Thread-2046] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,599 [Thread-2047] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,599 [Thread-2042] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,599 [Thread-2043] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,599 [Thread-2044] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [Thread-2059] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [Thread-2060] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [Thread-2061] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@51166da3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:04,600 [Thread-2056] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [Thread-2057] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [Thread-2058] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-06-20 14:46:04,600 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@e20312e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:46:04,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-06-20 14:46:04,601 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:04,601 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:04,601 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:46:04,601 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:46:06,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,001 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(214)) - any@group-B0F5E587BE7C-LeaderElection73: skip starting since this is already CLOSED
2022-06-20 14:46:06,001 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:06,002 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:06,002 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:46:06,002 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:46:06,012 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,013 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:06,013 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:06,013 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-06-20 14:46:06,013 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-06-20 14:46:06,014 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0]
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:06,015 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], format? true
2022-06-20 14:46:06,016 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0
2022-06-20 14:46:06,019 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0 does not exist.
2022-06-20 14:46:06,019 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0
2022-06-20 14:46:06,020 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:46:06,021 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0] (custom)
2022-06-20 14:46:06,044 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] returns group-5BF6DD247002:java.util.concurrent.CompletableFuture@17d5539c[Not completed]
2022-06-20 14:46:06,044 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], format? true
2022-06-20 14:46:06,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1
2022-06-20 14:46:06,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1 does not exist.
2022-06-20 14:46:06,045 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1
2022-06-20 14:46:06,045 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:46:06,045 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1] (custom)
2022-06-20 14:46:06,055 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] returns group-5BF6DD247002:java.util.concurrent.CompletableFuture@6428f21c[Not completed]
2022-06-20 14:46:06,055 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:46:06,055 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,055 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,055 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], format? true
2022-06-20 14:46:06,055 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:46:06,055 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,056 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2
2022-06-20 14:46:06,056 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,056 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2 does not exist.
2022-06-20 14:46:06,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2
2022-06-20 14:46:06,056 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,056 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-06-20 14:46:06,056 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,057 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-5BF6DD247002: ConfigurationManager, init=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,057 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0] (custom)
2022-06-20 14:46:06,057 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,057 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,058 [pool-32-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 does not exist. Creating ...
2022-06-20 14:46:06,058 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,059 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,059 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-5BF6DD247002: ConfigurationManager, init=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,060 [pool-32-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:46:06,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2] (custom)
2022-06-20 14:46:06,060 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current
2022-06-20 14:46:06,061 [pool-32-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/sm
2022-06-20 14:46:06,061 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1] (custom)
2022-06-20 14:46:06,062 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,064 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,065 [pool-33-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 does not exist. Creating ...
2022-06-20 14:46:06,065 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,062 [pool-32-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 has been successfully formatted.
2022-06-20 14:46:06,066 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,066 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,066 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,067 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-5BF6DD247002-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,068 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,068 [pool-33-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:46:06,069 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current
2022-06-20 14:46:06,069 [pool-33-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/sm
2022-06-20 14:46:06,071 [pool-33-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 has been successfully formatted.
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,073 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,074 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,074 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,074 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-5BF6DD247002-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,074 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,075 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,076 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,073 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,074 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] returns group-5BF6DD247002:java.util.concurrent.CompletableFuture@8ceb84d[Not completed]
2022-06-20 14:46:06,076 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,076 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,076 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,076 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5BF6DD247002-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,077 [pool-32-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-5BF6DD247002-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,077 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,077 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-5BF6DD247002-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,078 [pool-33-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-5BF6DD247002-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,078 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-5BF6DD247002:[s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0] with BaseStateMachine:uninitialized
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-5BF6DD247002: ConfigurationManager, init=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,079 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2] (custom)
2022-06-20 14:46:06,080 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,080 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,080 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,080 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,080 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:46:06,082 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:46:06,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,084 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,084 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,084 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,084 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,084 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,084 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,085 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-5BF6DD247002: start as a follower, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,085 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-5BF6DD247002: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,085 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,086 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5BF6DD247002,id=s0
2022-06-20 14:46:06,082 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,086 [pool-34-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 does not exist. Creating ...
2022-06-20 14:46:06,087 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:06,087 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,095 [pool-34-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/in_use.lock acquired by nodename 6394@fv-az223-267.yvdtcyk4fxruhab3fij3c3d4ph.cx.internal.cloudapp.net
2022-06-20 14:46:06,095 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current
2022-06-20 14:46:06,095 [pool-34-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/sm
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002 has been successfully formatted.
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,097 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-5BF6DD247002-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,098 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,099 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,103 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,103 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,103 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,103 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-5BF6DD247002-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,103 [pool-34-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-5BF6DD247002-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,108 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@68aeeb27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:06,109 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,109 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,109 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-5BF6DD247002: start as a follower, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,109 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,109 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5BF6DD247002: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,109 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,109 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,109 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2022-06-20 14:46:06,110 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5BF6DD247002,id=s1
2022-06-20 14:46:06,110 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,110 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,110 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,110 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,110 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,111 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:46:06,115 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-5BF6DD247002: start as a follower, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,115 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-5BF6DD247002: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,115 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,116 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@54307332] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:46:06,117 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5BF6DD247002,id=s2
2022-06-20 14:46:06,120 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:46:06,128 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$260/721331247@4633f409] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:46:06,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,131 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s1@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
2022-06-20 14:46:06,131 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s1@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s1@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:320)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:06,284 [s1@group-5BF6DD247002-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5BF6DD247002-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174923785ns, electionTimeout:173ms
2022-06-20 14:46:06,285 [s1@group-5BF6DD247002-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,285 [s1@group-5BF6DD247002-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5BF6DD247002: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:06,285 [s1@group-5BF6DD247002-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,285 [s1@group-5BF6DD247002-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5BF6DD247002-LeaderElection75
2022-06-20 14:46:06,285 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5BF6DD247002-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,290 [Thread-2472] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-5BF6DD247002: receive requestVote(PRE_VOTE, s1, group-5BF6DD247002, 0, (t:0, i:0))
2022-06-20 14:46:06,290 [Thread-2472] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-5BF6DD247002-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,290 [Thread-2489] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-5BF6DD247002: receive requestVote(PRE_VOTE, s1, group-5BF6DD247002, 0, (t:0, i:0))
2022-06-20 14:46:06,290 [Thread-2489] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5BF6DD247002-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,291 [Thread-2489] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-5BF6DD247002 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,291 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5BF6DD247002-LeaderElection75: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,291 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-06-20 14:46:06,291 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5BF6DD247002-LeaderElection75 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:06,291 [Thread-2472] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-5BF6DD247002 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-5BF6DD247002:t0, leader=null, voted=, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,293 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-5BF6DD247002-LeaderElection75 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,300 [Thread-2473] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-5BF6DD247002: receive requestVote(ELECTION, s1, group-5BF6DD247002, 1, (t:0, i:0))
2022-06-20 14:46:06,301 [Thread-2473] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-5BF6DD247002-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,301 [Thread-2473] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-5BF6DD247002: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:46:06,301 [Thread-2473] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,301 [Thread-2473] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,301 [Thread-2488] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-5BF6DD247002: receive requestVote(ELECTION, s1, group-5BF6DD247002, 1, (t:0, i:0))
2022-06-20 14:46:06,301 [Thread-2488] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-5BF6DD247002-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,301 [Thread-2488] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-5BF6DD247002: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-06-20 14:46:06,301 [Thread-2488] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,301 [s0@group-5BF6DD247002-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5BF6DD247002-FollowerState was interrupted
2022-06-20 14:46:06,301 [Thread-2488] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5BF6DD247002-FollowerState
2022-06-20 14:46:06,301 [s2@group-5BF6DD247002-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5BF6DD247002-FollowerState was interrupted
2022-06-20 14:46:06,303 [Thread-2473] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-5BF6DD247002 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-5BF6DD247002:t1, leader=null, voted=s1, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-5BF6DD247002-LeaderElection75: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-5BF6DD247002-LeaderElection75 ELECTION round 0: result PASSED
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5BF6DD247002-LeaderElection75
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-5BF6DD247002: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-5BF6DD247002: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 230ms
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:06,303 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,304 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:06,305 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:06,305 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,305 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:06,305 [s1@group-5BF6DD247002-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5BF6DD247002-LeaderStateImpl
2022-06-20 14:46:06,305 [s1@group-5BF6DD247002-LeaderElection75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-5BF6DD247002-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,309 [Thread-2488] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-5BF6DD247002 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-5BF6DD247002:t1, leader=null, voted=s1, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,311 [Thread-2474] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-5BF6DD247002: change Leader from null to s1 at term 1 for appendEntries, leader elected after 245ms
2022-06-20 14:46:06,316 [s1@group-5BF6DD247002-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-5BF6DD247002-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s1/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current/log_inprogress_0
2022-06-20 14:46:06,318 [s1@group-5BF6DD247002-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-5BF6DD247002: set configuration 0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,322 [Thread-2490] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-5BF6DD247002: change Leader from null to s1 at term 1 for appendEntries, leader elected after 225ms
2022-06-20 14:46:06,322 [Thread-2472] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-5BF6DD247002: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:46:06,327 [Thread-2472] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-5BF6DD247002: set configuration 0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,327 [Thread-2472] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-5BF6DD247002-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,331 [Thread-2489] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5BF6DD247002: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-06-20 14:46:06,331 [Thread-2489] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-5BF6DD247002: set configuration 0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null
2022-06-20 14:46:06,332 [Thread-2489] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-5BF6DD247002-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,341 [s0@group-5BF6DD247002-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-5BF6DD247002-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s0/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current/log_inprogress_0
2022-06-20 14:46:06,341 [s2@group-5BF6DD247002-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-5BF6DD247002-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/109298b2/MiniRaftClusterWithSimulatedRpc58774e16/s2/6d1d3a22-1f50-4d47-9d37-5bf6dd247002/current/log_inprogress_0
2022-06-20 14:46:06,343 [Thread-2523] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s2@group-5BF6DD247002: succeeded to handle AppendEntries. Reply: s1<-s2#1538:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-06-20 14:46:06,344 [Thread-2524] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1258)) - s0@group-5BF6DD247002: succeeded to handle AppendEntries. Reply: s1<-s0#1537:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-06-20 14:46:06,582 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5BF6DD247002:t1, leader=s1, voted=s1, raftlog=s0@group-5BF6DD247002-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-5BF6DD247002:t1, leader=s1, voted=s1, raftlog=s1@group-5BF6DD247002-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5BF6DD247002:t1, leader=s1, voted=s1, raftlog=s2@group-5BF6DD247002-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38909|admin:localhost:35755|client:localhost:45671|dataStream:localhost:46615|priority:0, s1|rpc:localhost:36653|admin:localhost:43913|client:localhost:42577|dataStream:localhost:43095|priority:0, s2|rpc:localhost:38021|admin:localhost:44363|client:localhost:42901|dataStream:localhost:43771|priority:0], old=null RUNNING
