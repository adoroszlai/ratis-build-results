2022-06-20 14:46:05,255 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:05,258 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:05,261 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-06-20 14:46:05,272 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:46:05,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithGrpc with group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0]
2022-06-20 14:46:05,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:05,313 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:05,313 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithGrpc
2022-06-20 14:46:05,313 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:05,313 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:05,313 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:05,318 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], format? true
2022-06-20 14:46:05,320 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0
2022-06-20 14:46:05,322 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0 does not exist.
2022-06-20 14:46:05,322 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0
2022-06-20 14:46:05,345 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:05,391 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:05,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41561 (custom)
2022-06-20 14:46:05,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45665 (custom)
2022-06-20 14:46:05,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45701 (custom)
2022-06-20 14:46:05,395 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:05,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,398 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:05,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:05,417 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:05,417 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:05,585 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:05,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:05,588 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:05,588 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,589 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0] (custom)
2022-06-20 14:46:05,600 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] returns group-DC99044563B7:java.util.concurrent.CompletableFuture@3df066a[Not completed]
2022-06-20 14:46:05,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], format? true
2022-06-20 14:46:05,601 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1
2022-06-20 14:46:05,601 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1 does not exist.
2022-06-20 14:46:05,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1
2022-06-20 14:46:05,602 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:05,602 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:05,602 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40917 (custom)
2022-06-20 14:46:05,602 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44781 (custom)
2022-06-20 14:46:05,602 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34781 (custom)
2022-06-20 14:46:05,602 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:05,602 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,603 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:05,603 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:05,603 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:05,603 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:05,605 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:05,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:05,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:05,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,606 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1] (custom)
2022-06-20 14:46:05,606 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] returns group-DC99044563B7:java.util.concurrent.CompletableFuture@28407a6f[Not completed]
2022-06-20 14:46:05,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], format? true
2022-06-20 14:46:05,606 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2
2022-06-20 14:46:05,607 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2 does not exist.
2022-06-20 14:46:05,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2
2022-06-20 14:46:05,607 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:05,607 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:05,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40375 (custom)
2022-06-20 14:46:05,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42615 (custom)
2022-06-20 14:46:05,608 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33903 (custom)
2022-06-20 14:46:05,608 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:05,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,608 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:05,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:05,608 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:05,608 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:05,609 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2] (custom)
2022-06-20 14:46:05,621 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] returns group-DC99044563B7:java.util.concurrent.CompletableFuture@3ab35e60[Not completed]
2022-06-20 14:46:05,621 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,621 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,621 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,622 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,622 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,623 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,625 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,622 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,625 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,625 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,626 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:05,627 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:05,627 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:05,627 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,627 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,627 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:05,632 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-DC99044563B7: ConfigurationManager, init=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:05,632 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:05,632 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:05,632 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:05,633 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,633 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,633 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:05,633 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-DC99044563B7: ConfigurationManager, init=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:05,633 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1] (custom)
2022-06-20 14:46:05,637 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0] (custom)
2022-06-20 14:46:05,638 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:05,638 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:05,637 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:05,638 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:05,640 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7 does not exist. Creating ...
2022-06-20 14:46:05,642 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,640 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7 does not exist. Creating ...
2022-06-20 14:46:05,639 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,643 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-DC99044563B7:[s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,643 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,643 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-DC99044563B7: ConfigurationManager, init=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:05,644 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2] (custom)
2022-06-20 14:46:05,645 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:05,645 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:05,645 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7 does not exist. Creating ...
2022-06-20 14:46:05,646 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,647 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:05,647 [pool-3-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:05,647 [pool-2-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:05,648 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7/current
2022-06-20 14:46:05,648 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7/current
2022-06-20 14:46:05,649 [pool-3-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7/sm
2022-06-20 14:46:05,648 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7/current
2022-06-20 14:46:05,651 [pool-2-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7/sm
2022-06-20 14:46:05,652 [pool-1-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7/sm
2022-06-20 14:46:05,656 [pool-2-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7 has been successfully formatted.
2022-06-20 14:46:05,656 [pool-1-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7 has been successfully formatted.
2022-06-20 14:46:05,657 [pool-2-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,656 [pool-3-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7 has been successfully formatted.
2022-06-20 14:46:05,657 [pool-1-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,658 [pool-3-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:05,659 [pool-2-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:05,659 [pool-1-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:05,659 [pool-3-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:05,660 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:05,661 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:05,660 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:05,662 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:05,660 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:05,662 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:05,667 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:05,667 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:05,667 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,667 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,668 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:05,668 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:05,668 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:05,671 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:05,671 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:05,672 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-06-20 14:46:05,716 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,716 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,717 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,722 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:05,722 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:05,723 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:05,722 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:05,723 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:05,726 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:05,726 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-DC99044563B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,726 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-DC99044563B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,726 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-DC99044563B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7
2022-06-20 14:46:05,727 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:05,727 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:05,728 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,728 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,729 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:05,729 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:05,730 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:05,730 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:05,730 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:05,730 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:05,733 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:05,733 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:05,739 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:05,739 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:05,739 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:05,739 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:05,740 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:05,740 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:05,743 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,746 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:05,746 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,746 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:05,746 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:05,746 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:05,751 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DC99044563B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,751 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:05,752 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:05,752 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:05,752 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DC99044563B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,752 [pool-3-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DC99044563B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,751 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DC99044563B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,752 [pool-2-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DC99044563B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,752 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DC99044563B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:05,755 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:05,756 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:05,756 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:05,759 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:05,759 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:05,759 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:05,763 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:05,763 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:05,763 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:05,765 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:05,765 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:05,771 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:05,771 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:05,771 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:05,771 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:05,788 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:05,788 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:05,788 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:05,789 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:05,789 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:05,790 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:05,790 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:05,790 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:05,790 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:05,790 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:05,791 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-DC99044563B7: start as a follower, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:05,791 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DC99044563B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:05,792 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DC99044563B7-FollowerState
2022-06-20 14:46:05,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:05,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:05,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:05,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:05,793 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:05,794 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s0
2022-06-20 14:46:05,796 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:05,831 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 45701
2022-06-20 14:46:05,832 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 41561
2022-06-20 14:46:05,832 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 45665
2022-06-20 14:46:05,835 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-DC99044563B7: start as a follower, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:05,835 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DC99044563B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:05,835 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:05,835 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@7e1ddcee] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:05,838 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s1
2022-06-20 14:46:05,839 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:46:05,840 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 34781
2022-06-20 14:46:05,841 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 40917
2022-06-20 14:46:05,843 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 44781
2022-06-20 14:46:05,844 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-DC99044563B7: start as a follower, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:05,844 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DC99044563B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:05,844 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:05,845 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@219a3f20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:46:05,845 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s2
2022-06-20 14:46:05,846 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:46:05,847 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 33903
2022-06-20 14:46:05,847 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 40375
2022-06-20 14:46:05,848 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 42615
2022-06-20 14:46:05,849 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@31706d51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:46:05,850 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:05,852 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
2022-06-20 14:46:05,855 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:05,988 [s0@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DC99044563B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196581763ns, electionTimeout:191ms
2022-06-20 14:46:05,989 [s0@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DC99044563B7-FollowerState
2022-06-20 14:46:05,990 [s0@group-DC99044563B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DC99044563B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:05,992 [s0@group-DC99044563B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:05,992 [s0@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DC99044563B7-LeaderElection1
2022-06-20 14:46:05,994 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DC99044563B7-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,044 [s1@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DC99044563B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208912067ns, electionTimeout:186ms
2022-06-20 14:46:06,044 [s1@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,044 [s1@group-DC99044563B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DC99044563B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:06,044 [s1@group-DC99044563B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,045 [s1@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DC99044563B7-LeaderElection2
2022-06-20 14:46:06,052 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-DC99044563B7-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,052 [s2@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-DC99044563B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208276361ns, electionTimeout:206ms
2022-06-20 14:46:06,055 [s2@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,055 [s2@group-DC99044563B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DC99044563B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:06,063 [s2@group-DC99044563B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,063 [s2@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DC99044563B7-LeaderElection3
2022-06-20 14:46:06,088 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-DC99044563B7-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,280 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DC99044563B7-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-06-20 14:46:06,280 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DC99044563B7-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-06-20 14:46:06,281 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DC99044563B7-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,307 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:06,331 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,331 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DC99044563B7: receive requestVote(PRE_VOTE, s2, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,332 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,335 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(PRE_VOTE, s1, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,335 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,337 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,331 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,337 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,338 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,338 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,338 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,337 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DC99044563B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,340 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,340 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,340 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,341 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,341 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,341 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-DC99044563B7:t0, leader=null, voted=, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,344 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(PRE_VOTE, s2, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,344 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,344 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-DC99044563B7:t0, leader=null, voted=, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,347 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DC99044563B7: receive requestVote(PRE_VOTE, s1, group-DC99044563B7, 0, (t:0, i:0))
2022-06-20 14:46:06,348 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DC99044563B7-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,348 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DC99044563B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-DC99044563B7:t0, leader=null, voted=, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,354 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DC99044563B7-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,354 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-06-20 14:46:06,354 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DC99044563B7-LeaderElection1 PRE_VOTE round 1: result PASSED
2022-06-20 14:46:06,356 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DC99044563B7-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,364 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-DC99044563B7-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,364 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-06-20 14:46:06,364 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-DC99044563B7-LeaderElection3 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:06,364 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-DC99044563B7-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,364 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-06-20 14:46:06,365 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-DC99044563B7-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:06,366 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-DC99044563B7-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,367 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-DC99044563B7-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,369 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(ELECTION, s0, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,369 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-06-20 14:46:06,369 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-DC99044563B7:t1, leader=null, voted=s1, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,373 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(ELECTION, s0, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,373 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-06-20 14:46:06,373 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-DC99044563B7:t1, leader=null, voted=s2, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,374 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DC99044563B7-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:06,374 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-06-20 14:46:06,374 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-06-20 14:46:06,375 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DC99044563B7: receive requestVote(ELECTION, s2, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,376 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DC99044563B7-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-06-20 14:46:06,376 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DC99044563B7 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-DC99044563B7:t1, leader=null, voted=s0, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,381 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DC99044563B7-LeaderElection1 ELECTION round 0: result REJECTED
2022-06-20 14:46:06,382 [s0@group-DC99044563B7-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DC99044563B7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:46:06,382 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DC99044563B7-LeaderElection1
2022-06-20 14:46:06,382 [s0@group-DC99044563B7-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,383 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DC99044563B7: receive requestVote(ELECTION, s1, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,383 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DC99044563B7-FOLLOWER: reject ELECTION from s1: already has voted for s0 at current term 1
2022-06-20 14:46:06,383 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DC99044563B7 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-DC99044563B7:t1, leader=null, voted=s0, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,384 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(ELECTION, s1, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,384 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2022-06-20 14:46:06,384 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-DC99044563B7:t1, leader=null, voted=s2, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,386 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(ELECTION, s2, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,386 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2022-06-20 14:46:06,386 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-DC99044563B7:t1, leader=null, voted=s1, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-DC99044563B7-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-DC99044563B7-LeaderElection2 ELECTION round 0: result REJECTED
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DC99044563B7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DC99044563B7-LeaderElection2
2022-06-20 14:46:06,387 [s1@group-DC99044563B7-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-DC99044563B7-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-DC99044563B7-LeaderElection3 ELECTION round 0: result REJECTED
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DC99044563B7: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-DC99044563B7-LeaderElection3
2022-06-20 14:46:06,388 [s2@group-DC99044563B7-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,551 [s0@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DC99044563B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169025827ns, electionTimeout:166ms
2022-06-20 14:46:06,552 [s0@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,552 [s0@group-DC99044563B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DC99044563B7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:46:06,552 [s0@group-DC99044563B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:06,552 [s0@group-DC99044563B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DC99044563B7-LeaderElection4
2022-06-20 14:46:06,553 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DC99044563B7-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,556 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,557 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,559 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-DC99044563B7:t1, leader=null, voted=s1, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,559 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(PRE_VOTE, s0, group-DC99044563B7, 1, (t:0, i:0))
2022-06-20 14:46:06,559 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,560 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-DC99044563B7:t1, leader=null, voted=s2, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,561 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DC99044563B7-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,561 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:46:06,561 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DC99044563B7-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:06,563 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DC99044563B7-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,565 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DC99044563B7: receive requestVote(ELECTION, s0, group-DC99044563B7, 2, (t:0, i:0))
2022-06-20 14:46:06,565 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DC99044563B7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,565 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DC99044563B7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:46:06,565 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,565 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,565 [s1@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DC99044563B7-FollowerState was interrupted
2022-06-20 14:46:06,568 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DC99044563B7: receive requestVote(ELECTION, s0, group-DC99044563B7, 2, (t:0, i:0))
2022-06-20 14:46:06,568 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DC99044563B7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:06,568 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DC99044563B7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-06-20 14:46:06,569 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,569 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,569 [s2@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DC99044563B7-FollowerState was interrupted
2022-06-20 14:46:06,570 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DC99044563B7 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-DC99044563B7:t2, leader=null, voted=s0, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,571 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DC99044563B7 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-DC99044563B7:t2, leader=null, voted=s0, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,572 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DC99044563B7-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:06,573 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-06-20 14:46:06,573 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DC99044563B7-LeaderElection4 ELECTION round 0: result PASSED
2022-06-20 14:46:06,573 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DC99044563B7-LeaderElection4
2022-06-20 14:46:06,573 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DC99044563B7: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:46:06,573 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-DC99044563B7: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 913ms
2022-06-20 14:46:06,577 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:06,580 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:06,581 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,586 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:06,586 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:06,586 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:06,590 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:06,592 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:06,599 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:06,599 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,600 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:06,602 [s0@group-DC99044563B7-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:06,602 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:06,602 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:06,604 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,606 [s0@group-DC99044563B7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DC99044563B7-LeaderStateImpl
2022-06-20 14:46:06,620 [s0@group-DC99044563B7-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-DC99044563B7-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,648 [s0@group-DC99044563B7-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-DC99044563B7: set configuration 0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,662 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-DC99044563B7: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1002ms
2022-06-20 14:46:06,663 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-DC99044563B7: change Leader from null to s0 at term 2 for appendEntries, leader elected after 1004ms
2022-06-20 14:46:06,684 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-DC99044563B7: set configuration 0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,684 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-DC99044563B7-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,692 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-DC99044563B7: set configuration 0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null
2022-06-20 14:46:06,692 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-DC99044563B7-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:06,737 [s0@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-DC99044563B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s0/5a5780e6-66fa-46c2-a22e-dc99044563b7/current/log_inprogress_0
2022-06-20 14:46:06,737 [s1@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-DC99044563B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s1/5a5780e6-66fa-46c2-a22e-dc99044563b7/current/log_inprogress_0
2022-06-20 14:46:06,737 [s2@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-DC99044563B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc21cdf1b2/s2/5a5780e6-66fa-46c2-a22e-dc99044563b7/current/log_inprogress_0
2022-06-20 14:46:06,759 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c-1, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
2022-06-20 14:46:06,797 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:06,797 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:06,840 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-BFB4E44DEDC6->s0: receive RaftClientReply:client-BFB4E44DEDC6->s0@group-DC99044563B7, cid=0, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-06-20 14:46:06,867 [s0@group-DC99044563B7-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-BFB4E44DEDC6
2022-06-20 14:46:06,869 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-BFB4E44DEDC6->s0: receive RaftClientReply:client-BFB4E44DEDC6->s0@group-DC99044563B7, cid=1, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-06-20 14:46:06,886 [s1@group-DC99044563B7-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-BFB4E44DEDC6
2022-06-20 14:46:06,889 [s2@group-DC99044563B7-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-BFB4E44DEDC6
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithGrpc
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:06,893 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s0@group-DC99044563B7-SegmentedRaftLog:OPENED:c2, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s1@group-DC99044563B7-SegmentedRaftLog:OPENED:c1, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DC99044563B7:t2, leader=s0, voted=s0, raftlog=s2@group-DC99044563B7-SegmentedRaftLog:OPENED:c1, conf=0: [s0|rpc:localhost:45701|admin:localhost:41561|client:localhost:45665|dataStream:localhost:42355|priority:0, s1|rpc:localhost:34781|admin:localhost:40917|client:localhost:44781|dataStream:localhost:45713|priority:0, s2|rpc:localhost:33903|admin:localhost:40375|client:localhost:42615|dataStream:localhost:36099|priority:0], old=null RUNNING
2022-06-20 14:46:06,896 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:06,897 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-DC99044563B7: shutdown
2022-06-20 14:46:06,897 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s0
2022-06-20 14:46:06,897 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-DC99044563B7-LeaderStateImpl
2022-06-20 14:46:06,897 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-DC99044563B7-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:06,898 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-DC99044563B7-StateMachineUpdater: set stopIndex = 2
2022-06-20 14:46:06,899 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-DC99044563B7: closes. applyIndex: 2
2022-06-20 14:46:06,899 [s0@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-DC99044563B7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:06,900 [s0@group-DC99044563B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-DC99044563B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:06,900 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-DC99044563B7-SegmentedRaftLogWorker close()
2022-06-20 14:46:06,901 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 45701 now
2022-06-20 14:46:06,902 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#13-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:06,902 [s0@group-DC99044563B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-DC99044563B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:06,903 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-DC99044563B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:06,905 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DC99044563B7->s2: nextIndex: updateUnconditionally 3 -> 2
2022-06-20 14:46:06,905 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:46:06,905 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-DC99044563B7: shutdown
2022-06-20 14:46:06,905 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s1
2022-06-20 14:46:06,905 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,906 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-DC99044563B7-StateMachineUpdater: set stopIndex = 1
2022-06-20 14:46:06,906 [s1@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DC99044563B7-FollowerState was interrupted
2022-06-20 14:46:06,906 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-DC99044563B7: closes. applyIndex: 1
2022-06-20 14:46:06,906 [s1@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-DC99044563B7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:06,907 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-DC99044563B7-SegmentedRaftLogWorker close()
2022-06-20 14:46:06,907 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#12-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-06-20 14:46:06,908 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:46:06,908 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-DC99044563B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:06,908 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 34781 now
2022-06-20 14:46:06,914 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-DC99044563B7: shutdown
2022-06-20 14:46:06,914 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DC99044563B7,id=s2
2022-06-20 14:46:06,914 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DC99044563B7-FollowerState
2022-06-20 14:46:06,914 [s2@group-DC99044563B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DC99044563B7-FollowerState was interrupted
2022-06-20 14:46:06,914 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-DC99044563B7-StateMachineUpdater: set stopIndex = 1
2022-06-20 14:46:06,914 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-DC99044563B7: closes. applyIndex: 1
2022-06-20 14:46:06,914 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(118)) - s0@group-DC99044563B7->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:97)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:102)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:06,915 [s2@group-DC99044563B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-DC99044563B7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:06,916 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-DC99044563B7-SegmentedRaftLogWorker close()
2022-06-20 14:46:06,916 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 33903 now
2022-06-20 14:46:06,917 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 45701 successfully
2022-06-20 14:46:06,917 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 41561 now
2022-06-20 14:46:06,917 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 41561 successfully
2022-06-20 14:46:06,918 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 45665 now
2022-06-20 14:46:06,918 [java.util.concurrent.ThreadPoolExecutor$Worker@73f81150[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 45665 successfully
2022-06-20 14:46:06,918 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@7e1ddcee] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:06,919 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 34781 successfully
2022-06-20 14:46:06,920 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 40917 now
2022-06-20 14:46:06,920 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 40917 successfully
2022-06-20 14:46:06,920 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 44781 now
2022-06-20 14:46:06,920 [java.util.concurrent.ThreadPoolExecutor$Worker@3670dea5[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 44781 successfully
2022-06-20 14:46:06,920 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@219a3f20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:46:06,921 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 33903 successfully
2022-06-20 14:46:06,921 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 40375 now
2022-06-20 14:46:06,921 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 40375 successfully
2022-06-20 14:46:06,921 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 42615 now
2022-06-20 14:46:06,923 [java.util.concurrent.ThreadPoolExecutor$Worker@50e672cf[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 42615 successfully
2022-06-20 14:46:06,923 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@31706d51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:46:06,924 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithGrpc shutdown completed
2022-06-20 14:46:06,932 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:06,932 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:06,932 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-06-20 14:46:06,940 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithGrpc with group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0]
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithGrpc
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], format? true
2022-06-20 14:46:06,941 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0
2022-06-20 14:46:06,941 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0 does not exist.
2022-06-20 14:46:06,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0
2022-06-20 14:46:06,942 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:06,942 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:06,942 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42657 (custom)
2022-06-20 14:46:06,942 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39691 (custom)
2022-06-20 14:46:06,942 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45907 (custom)
2022-06-20 14:46:06,942 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:06,942 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,942 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:06,942 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:06,943 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:06,943 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0] (custom)
2022-06-20 14:46:06,945 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] returns group-2E98F6827CC1:java.util.concurrent.CompletableFuture@65da7878[Not completed]
2022-06-20 14:46:06,945 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], format? true
2022-06-20 14:46:06,945 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1
2022-06-20 14:46:06,945 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1 does not exist.
2022-06-20 14:46:06,945 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1
2022-06-20 14:46:06,946 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44027 (custom)
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33409 (custom)
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42715 (custom)
2022-06-20 14:46:06,946 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:06,946 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:06,947 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,948 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,948 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,948 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,948 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,948 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1] (custom)
2022-06-20 14:46:06,948 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,948 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-2E98F6827CC1: ConfigurationManager, init=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0] (custom)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,949 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,950 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1 does not exist. Creating ...
2022-06-20 14:46:06,950 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,951 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] returns group-2E98F6827CC1:java.util.concurrent.CompletableFuture@573bca3c[Not completed]
2022-06-20 14:46:06,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], format? true
2022-06-20 14:46:06,951 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2
2022-06-20 14:46:06,951 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2 does not exist.
2022-06-20 14:46:06,951 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2
2022-06-20 14:46:06,952 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:06,952 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:06,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46769 (custom)
2022-06-20 14:46:06,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41261 (custom)
2022-06-20 14:46:06,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34215 (custom)
2022-06-20 14:46:06,952 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:06,952 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,952 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:06,952 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:06,952 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:06,953 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2] (custom)
2022-06-20 14:46:06,951 [pool-6-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:06,955 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current
2022-06-20 14:46:06,955 [pool-6-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1/sm
2022-06-20 14:46:06,955 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,955 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,955 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,955 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-2E98F6827CC1: ConfigurationManager, init=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1] (custom)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,956 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1 does not exist. Creating ...
2022-06-20 14:46:06,957 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,957 [pool-6-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1 has been successfully formatted.
2022-06-20 14:46:06,957 [pool-6-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,957 [pool-6-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:06,957 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,957 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-2E98F6827CC1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,958 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,959 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,960 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,960 [pool-6-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,961 [pool-7-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:06,962 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current
2022-06-20 14:46:06,962 [pool-7-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1/sm
2022-06-20 14:46:06,963 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,963 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,963 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,963 [pool-7-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1 has been successfully formatted.
2022-06-20 14:46:06,963 [pool-7-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,964 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-2E98F6827CC1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,967 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] returns group-2E98F6827CC1:java.util.concurrent.CompletableFuture@45a8a278[Not completed]
2022-06-20 14:46:06,967 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,967 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:06,968 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,968 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,968 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,968 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,968 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,968 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-2E98F6827CC1: start as a follower, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:06,968 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-2E98F6827CC1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,969 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:06,969 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,969 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,969 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,970 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,970 [pool-7-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,970 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,970 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,970 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,970 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s0
2022-06-20 14:46:06,971 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-2E98F6827CC1:[s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-2E98F6827CC1: ConfigurationManager, init=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:06,971 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2] (custom)
2022-06-20 14:46:06,972 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:06,972 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:06,972 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1 does not exist. Creating ...
2022-06-20 14:46:06,972 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,972 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 45907
2022-06-20 14:46:06,973 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 42657
2022-06-20 14:46:06,973 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 39691
2022-06-20 14:46:06,974 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,974 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,974 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,974 [pool-8-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:06,974 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current
2022-06-20 14:46:06,974 [pool-8-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1/sm
2022-06-20 14:46:06,975 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,975 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:06,976 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,976 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,976 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,976 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,976 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,976 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-2E98F6827CC1: start as a follower, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:06,976 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-2E98F6827CC1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,976 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:06,976 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@4c4bfadb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1 has been successfully formatted.
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:06,977 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-2E98F6827CC1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:06,978 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:06,979 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s1
2022-06-20 14:46:06,979 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:06,979 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:06,979 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:06,980 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,980 [pool-8-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:06,981 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:46:06,981 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 42715
2022-06-20 14:46:06,981 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 44027
2022-06-20 14:46:06,982 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 33409
2022-06-20 14:46:06,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:06,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:06,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:06,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:06,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:06,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:06,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:06,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:06,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:06,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:06,983 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-2E98F6827CC1: start as a follower, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:06,983 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-2E98F6827CC1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:06,983 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:06,984 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@e95d6f0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:46:06,984 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s2
2022-06-20 14:46:06,984 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:46:06,985 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 34215
2022-06-20 14:46:06,985 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 46769
2022-06-20 14:46:06,986 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 41261
2022-06-20 14:46:06,986 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@24bdc7bb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:46:06,988 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:06,988 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,010 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-206AFA93848A->s0: receive RaftClientReply:client-206AFA93848A->s0@group-2E98F6827CC1, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-2E98F6827CC1 is not the leader, logIndex=0, commits[s0:c-1]
2022-06-20 14:46:07,116 [java.util.concurrent.ThreadPoolExecutor$Worker@405b70ea[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,116 [java.util.concurrent.ThreadPoolExecutor$Worker@405b70ea[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,126 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-206AFA93848A->s2: receive RaftClientReply:client-206AFA93848A->s2@group-2E98F6827CC1, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-2E98F6827CC1 is not the leader, logIndex=0, commits[s2:c-1]
2022-06-20 14:46:07,138 [s0@group-2E98F6827CC1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2E98F6827CC1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169265326ns, electionTimeout:167ms
2022-06-20 14:46:07,138 [s0@group-2E98F6827CC1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,138 [s0@group-2E98F6827CC1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-2E98F6827CC1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:07,138 [s0@group-2E98F6827CC1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:07,138 [s0@group-2E98F6827CC1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2E98F6827CC1-LeaderElection5
2022-06-20 14:46:07,139 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2E98F6827CC1-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,145 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-2E98F6827CC1: receive requestVote(PRE_VOTE, s0, group-2E98F6827CC1, 0, (t:0, i:0))
2022-06-20 14:46:07,146 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2E98F6827CC1-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:07,146 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-2E98F6827CC1 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-2E98F6827CC1:t0, leader=null, voted=, raftlog=s1@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,147 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2E98F6827CC1-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:07,147 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-06-20 14:46:07,147 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2E98F6827CC1-LeaderElection5 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:07,149 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2E98F6827CC1-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,153 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-2E98F6827CC1: receive requestVote(ELECTION, s0, group-2E98F6827CC1, 1, (t:0, i:0))
2022-06-20 14:46:07,153 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2E98F6827CC1-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:07,154 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-2E98F6827CC1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:46:07,154 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,154 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,154 [s1@group-2E98F6827CC1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2E98F6827CC1-FollowerState was interrupted
2022-06-20 14:46:07,154 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-2E98F6827CC1: receive requestVote(PRE_VOTE, s0, group-2E98F6827CC1, 0, (t:0, i:0))
2022-06-20 14:46:07,154 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2E98F6827CC1-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:07,155 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-2E98F6827CC1 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-2E98F6827CC1:t0, leader=null, voted=, raftlog=s2@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,158 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-2E98F6827CC1: receive requestVote(ELECTION, s0, group-2E98F6827CC1, 1, (t:0, i:0))
2022-06-20 14:46:07,158 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2E98F6827CC1-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:07,158 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-2E98F6827CC1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:46:07,158 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,158 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,158 [s2@group-2E98F6827CC1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2E98F6827CC1-FollowerState was interrupted
2022-06-20 14:46:07,160 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-2E98F6827CC1 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2E98F6827CC1:t1, leader=null, voted=s0, raftlog=s1@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2E98F6827CC1-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2E98F6827CC1-LeaderElection5 ELECTION round 0: result PASSED
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2E98F6827CC1-LeaderElection5
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-2E98F6827CC1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-2E98F6827CC1: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 206ms
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-06-20 14:46:07,164 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:07,165 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-2E98F6827CC1 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-2E98F6827CC1:t1, leader=null, voted=s0, raftlog=s2@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,165 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:07,166 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:07,166 [s0@group-2E98F6827CC1-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:07,166 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:07,166 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2E98F6827CC1-LeaderStateImpl
2022-06-20 14:46:07,168 [s0@group-2E98F6827CC1-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:07,176 [s0@group-2E98F6827CC1-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-2E98F6827CC1: set configuration 0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,181 [s0@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s0/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current/log_inprogress_0
2022-06-20 14:46:07,184 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-2E98F6827CC1: change Leader from null to s0 at term 1 for appendEntries, leader elected after 220ms
2022-06-20 14:46:07,186 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-2E98F6827CC1: set configuration 0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,186 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:07,198 [s1@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s1/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current/log_inprogress_0
2022-06-20 14:46:07,199 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-2E98F6827CC1: change Leader from null to s0 at term 1 for appendEntries, leader elected after 222ms
2022-06-20 14:46:07,201 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-2E98F6827CC1: set configuration 0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null
2022-06-20 14:46:07,201 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:07,213 [s2@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc6c1bac00/s2/17d05460-a539-4b7d-ab5b-2e98f6827cc1/current/log_inprogress_0
2022-06-20 14:46:07,228 [java.util.concurrent.ThreadPoolExecutor$Worker@4a786354[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,228 [java.util.concurrent.ThreadPoolExecutor$Worker@4a786354[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,235 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-206AFA93848A->s1: receive RaftClientReply:client-206AFA93848A->s1@group-2E98F6827CC1, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-2E98F6827CC1 is not the leader s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, logIndex=0, commits[s1:c0, s0:c0, s2:c-1]
2022-06-20 14:46:07,237 [java.util.concurrent.ThreadPoolExecutor$Worker@380f9563[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,237 [java.util.concurrent.ThreadPoolExecutor$Worker@380f9563[State = -1, empty queue]] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,242 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-206AFA93848A->s0: receive RaftClientReply:client-206AFA93848A->s0@group-2E98F6827CC1, cid=2, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-06-20 14:46:07,248 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-206AFA93848A
2022-06-20 14:46:07,251 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-206AFA93848A->s0: receive RaftClientReply:client-206AFA93848A->s0@group-2E98F6827CC1, cid=3, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-06-20 14:46:07,252 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-206AFA93848A
2022-06-20 14:46:07,254 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-06-20 14:46:07,254 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,255 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,260 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-206AFA93848A
2022-06-20 14:46:07,262 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,262 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,265 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-3ECCA5728286->s0: receive RaftClientReply:client-3ECCA5728286->s0@group-2E98F6827CC1, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-06-20 14:46:07,271 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,272 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,273 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-19B87DE32FBF->s0: receive RaftClientReply:client-19B87DE32FBF->s0@group-2E98F6827CC1, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-06-20 14:46:07,273 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,273 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,278 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,278 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,283 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D2B477149916->s0: receive RaftClientReply:client-D2B477149916->s0@group-2E98F6827CC1, cid=8, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-06-20 14:46:07,286 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,287 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,288 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-597578080B32->s0: receive RaftClientReply:client-597578080B32->s0@group-2E98F6827CC1, cid=10, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-06-20 14:46:07,291 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,292 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,296 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,296 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,300 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B904D5DFB308->s0: receive RaftClientReply:client-B904D5DFB308->s0@group-2E98F6827CC1, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-06-20 14:46:07,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,306 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E9A12B69FDA2->s0: receive RaftClientReply:client-E9A12B69FDA2->s0@group-2E98F6827CC1, cid=14, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c2]
2022-06-20 14:46:07,312 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,312 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,313 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-5D73E35AE99C->s0: receive RaftClientReply:client-5D73E35AE99C->s0@group-2E98F6827CC1, cid=18, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-06-20 14:46:07,313 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,313 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,332 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E67AEBE1B770->s0: receive RaftClientReply:client-E67AEBE1B770->s0@group-2E98F6827CC1, cid=16, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-06-20 14:46:07,337 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-7BDFE8728A91->s0: receive RaftClientReply:client-7BDFE8728A91->s0@group-2E98F6827CC1, cid=20, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-06-20 14:46:07,337 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-9F2F0A3EC086->s0: receive RaftClientReply:client-9F2F0A3EC086->s0@group-2E98F6827CC1, cid=22, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-06-20 14:46:07,344 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-7F99A1656FC8->s0: receive RaftClientReply:client-7F99A1656FC8->s0@group-2E98F6827CC1, cid=24, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-06-20 14:46:07,371 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-2E98F6827CC1: Failed to acquire a pending write request for RaftClientRequest:client-7F99A1656FC8->s0@group-2E98F6827CC1, cid=25, seq=2, RW, Message:6d6573736167652039
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:258)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-2E98F6827CC1: Failed to acquire a pending write request for RaftClientRequest:client-7F99A1656FC8->s0@group-2E98F6827CC1, cid=25, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:734)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:846)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:783)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:783)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-06-20 14:46:07,627 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-06-20 14:46:07,630 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3ECCA5728286
2022-06-20 14:46:07,632 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-19B87DE32FBF
2022-06-20 14:46:07,632 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-D2B477149916
2022-06-20 14:46:07,632 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-597578080B32
2022-06-20 14:46:07,632 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-3ECCA5728286->s0: receive RaftClientReply:client-3ECCA5728286->s0@group-2E98F6827CC1, cid=5, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-06-20 14:46:07,633 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-B904D5DFB308
2022-06-20 14:46:07,633 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-5D73E35AE99C
2022-06-20 14:46:07,633 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-E9A12B69FDA2
2022-06-20 14:46:07,633 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-E67AEBE1B770
2022-06-20 14:46:07,634 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-7BDFE8728A91
2022-06-20 14:46:07,634 [s0@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-9F2F0A3EC086
2022-06-20 14:46:07,636 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-597578080B32->s0: receive RaftClientReply:client-597578080B32->s0@group-2E98F6827CC1, cid=11, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,636 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-19B87DE32FBF->s0: receive RaftClientReply:client-19B87DE32FBF->s0@group-2E98F6827CC1, cid=7, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,636 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-5D73E35AE99C->s0: receive RaftClientReply:client-5D73E35AE99C->s0@group-2E98F6827CC1, cid=19, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,637 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-D2B477149916->s0: receive RaftClientReply:client-D2B477149916->s0@group-2E98F6827CC1, cid=9, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,643 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-B904D5DFB308->s0: receive RaftClientReply:client-B904D5DFB308->s0@group-2E98F6827CC1, cid=13, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,645 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E9A12B69FDA2->s0: receive RaftClientReply:client-E9A12B69FDA2->s0@group-2E98F6827CC1, cid=15, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,645 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-7BDFE8728A91->s0: receive RaftClientReply:client-7BDFE8728A91->s0@group-2E98F6827CC1, cid=21, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,646 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-E67AEBE1B770->s0: receive RaftClientReply:client-E67AEBE1B770->s0@group-2E98F6827CC1, cid=17, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,647 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-9F2F0A3EC086->s0: receive RaftClientReply:client-9F2F0A3EC086->s0@group-2E98F6827CC1, cid=23, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-06-20 14:46:07,648 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3ECCA5728286
2022-06-20 14:46:07,657 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 5@client-3ECCA5728286
2022-06-20 14:46:07,657 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:07,658 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:07,658 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-19B87DE32FBF
2022-06-20 14:46:07,658 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-D2B477149916
2022-06-20 14:46:07,662 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 7@client-19B87DE32FBF
2022-06-20 14:46:07,663 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-D2B477149916
2022-06-20 14:46:07,663 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-597578080B32
2022-06-20 14:46:07,663 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-B904D5DFB308
2022-06-20 14:46:07,664 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-5D73E35AE99C
2022-06-20 14:46:07,664 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-E9A12B69FDA2
2022-06-20 14:46:07,664 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-E67AEBE1B770
2022-06-20 14:46:07,665 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-7BDFE8728A91
2022-06-20 14:46:07,665 [s2@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-9F2F0A3EC086
2022-06-20 14:46:07,666 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-597578080B32
2022-06-20 14:46:07,666 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-B904D5DFB308
2022-06-20 14:46:07,667 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 19@client-5D73E35AE99C
2022-06-20 14:46:07,667 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 4 -> (t:1, i:9), STATEMACHINELOGENTRY, 15@client-E9A12B69FDA2
2022-06-20 14:46:07,667 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 17@client-E67AEBE1B770
2022-06-20 14:46:07,668 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 21@client-7BDFE8728A91
2022-06-20 14:46:07,668 [s1@group-2E98F6827CC1-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-9F2F0A3EC086
2022-06-20 14:46:07,674 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-ABF42C7F7DE3->s0: receive RaftClientReply:client-ABF42C7F7DE3->s0@group-2E98F6827CC1, cid=26, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-06-20 14:46:07,686 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-2E98F6827CC1: Failed to acquire a pending write request for RaftClientRequest:client-ABF42C7F7DE3->s0@group-2E98F6827CC1, cid=27, seq=2, RW, Message:986511412e670ca76e2a...(size=1049600)
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:292)
	at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:308)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:607)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:364)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:258)
	at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:884)
	at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:866)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1990)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:405)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:342)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-2E98F6827CC1: Failed to acquire a pending write request for RaftClientRequest:client-ABF42C7F7DE3->s0@group-2E98F6827CC1, cid=27, seq=2, RW, Message:986511412e670ca76e2a...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:734)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:846)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:783)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:783)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	... 3 more
2022-06-20 14:46:07,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:07,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:07,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithGrpc
2022-06-20 14:46:07,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:07,990 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:07,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2E98F6827CC1:t1, leader=s0, voted=s0, raftlog=s0@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c14, conf=0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2E98F6827CC1:t1, leader=s0, voted=s0, raftlog=s1@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c14, conf=0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2E98F6827CC1:t1, leader=s0, voted=s0, raftlog=s2@group-2E98F6827CC1-SegmentedRaftLog:OPENED:c14, conf=0: [s0|rpc:localhost:45907|admin:localhost:42657|client:localhost:39691|dataStream:localhost:44433|priority:0, s1|rpc:localhost:42715|admin:localhost:44027|client:localhost:33409|dataStream:localhost:45237|priority:0, s2|rpc:localhost:34215|admin:localhost:46769|client:localhost:41261|dataStream:localhost:45855|priority:0], old=null RUNNING
2022-06-20 14:46:07,993 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:07,993 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-2E98F6827CC1: shutdown
2022-06-20 14:46:07,993 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s0
2022-06-20 14:46:07,993 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2E98F6827CC1-LeaderStateImpl
2022-06-20 14:46:07,993 [s0@group-2E98F6827CC1->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-2E98F6827CC1->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:07,993 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-2E98F6827CC1-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:07,993 [s0@group-2E98F6827CC1->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-2E98F6827CC1->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:07,994 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-2E98F6827CC1-StateMachineUpdater: set stopIndex = 14
2022-06-20 14:46:07,994 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#23-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-06-20 14:46:07,995 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-2E98F6827CC1->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:07,995 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-2E98F6827CC1->s2: nextIndex: updateUnconditionally 15 -> 14
2022-06-20 14:46:07,995 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:46:07,995 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-2E98F6827CC1: shutdown
2022-06-20 14:46:07,995 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-2E98F6827CC1: closes. applyIndex: 14
2022-06-20 14:46:07,995 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#25-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-06-20 14:46:07,996 [s0@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:07,996 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-2E98F6827CC1->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:07,996 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-2E98F6827CC1->s1: nextIndex: updateUnconditionally 15 -> 14
2022-06-20 14:46:07,996 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-2E98F6827CC1-SegmentedRaftLogWorker close()
2022-06-20 14:46:07,996 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s2
2022-06-20 14:46:07,997 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:07,997 [s2@group-2E98F6827CC1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2E98F6827CC1-FollowerState was interrupted
2022-06-20 14:46:07,997 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-2E98F6827CC1-StateMachineUpdater: set stopIndex = 14
2022-06-20 14:46:07,997 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-2E98F6827CC1: closes. applyIndex: 14
2022-06-20 14:46:07,997 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 45907 now
2022-06-20 14:46:07,997 [s2@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:07,999 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 45907 successfully
2022-06-20 14:46:07,999 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 42657 now
2022-06-20 14:46:07,999 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-2E98F6827CC1-SegmentedRaftLogWorker close()
2022-06-20 14:46:08,000 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 42657 successfully
2022-06-20 14:46:08,000 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 39691 now
2022-06-20 14:46:08,000 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 34215 now
2022-06-20 14:46:08,001 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 34215 successfully
2022-06-20 14:46:08,001 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 46769 now
2022-06-20 14:46:08,001 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 46769 successfully
2022-06-20 14:46:08,001 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 41261 now
2022-06-20 14:46:08,000 [java.util.concurrent.ThreadPoolExecutor$Worker@5b60de2[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 39691 successfully
2022-06-20 14:46:08,001 [java.util.concurrent.ThreadPoolExecutor$Worker@11735d43[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 41261 successfully
2022-06-20 14:46:08,002 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@24bdc7bb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:46:08,002 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:46:08,003 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@4c4bfadb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:08,004 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-2E98F6827CC1: shutdown
2022-06-20 14:46:08,004 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E98F6827CC1,id=s1
2022-06-20 14:46:08,004 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2E98F6827CC1-FollowerState
2022-06-20 14:46:08,004 [s1@group-2E98F6827CC1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2E98F6827CC1-FollowerState was interrupted
2022-06-20 14:46:08,004 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-2E98F6827CC1-StateMachineUpdater: set stopIndex = 14
2022-06-20 14:46:08,008 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-2E98F6827CC1: closes. applyIndex: 14
2022-06-20 14:46:08,008 [s1@group-2E98F6827CC1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:08,009 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-2E98F6827CC1-SegmentedRaftLogWorker close()
2022-06-20 14:46:08,009 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 42715 now
2022-06-20 14:46:08,010 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 42715 successfully
2022-06-20 14:46:08,010 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 44027 now
2022-06-20 14:46:08,010 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 44027 successfully
2022-06-20 14:46:08,010 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 33409 now
2022-06-20 14:46:08,010 [java.util.concurrent.ThreadPoolExecutor$Worker@4cc35a0c[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 33409 successfully
2022-06-20 14:46:08,010 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@e95d6f0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:46:08,011 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithGrpc shutdown completed
2022-06-20 14:46:08,011 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:08,011 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:08,011 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithGrpc with group-63E683FD9DF0:[s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0]
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithGrpc
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:08,013 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-63E683FD9DF0:[s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], format? true
2022-06-20 14:46:08,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0
2022-06-20 14:46:08,014 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0 does not exist.
2022-06-20 14:46:08,014 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0
2022-06-20 14:46:08,014 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:08,014 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:08,014 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42025 (custom)
2022-06-20 14:46:08,014 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36165 (custom)
2022-06-20 14:46:08,015 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35097 (custom)
2022-06-20 14:46:08,015 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:08,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,015 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:08,015 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:08,015 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:08,015 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:08,016 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:08,016 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:08,017 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:08,017 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,017 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,017 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0] (custom)
2022-06-20 14:46:08,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-63E683FD9DF0:[s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0] returns group-63E683FD9DF0:java.util.concurrent.CompletableFuture@220d2791[Not completed]
2022-06-20 14:46:08,020 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,021 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:08,021 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-63E683FD9DF0:[s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-63E683FD9DF0: ConfigurationManager, init=-1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0] (custom)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:08,022 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:08,023 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0 does not exist. Creating ...
2022-06-20 14:46:08,023 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0
2022-06-20 14:46:08,028 [pool-9-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:08,028 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0/current
2022-06-20 14:46:08,029 [pool-9-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0/sm
2022-06-20 14:46:08,030 [pool-9-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0 has been successfully formatted.
2022-06-20 14:46:08,030 [pool-9-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:08,030 [pool-9-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:08,030 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:08,030 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-63E683FD9DF0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:08,031 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:08,032 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:08,033 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:08,033 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:08,033 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:08,033 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:08,033 [pool-9-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:08,035 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:08,035 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:08,035 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:08,035 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:08,035 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:08,036 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:08,036 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:08,036 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:08,036 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:08,036 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:08,043 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-63E683FD9DF0: start as a follower, conf=-1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null
2022-06-20 14:46:08,043 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-63E683FD9DF0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:08,043 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-63E683FD9DF0-FollowerState
2022-06-20 14:46:08,047 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-63E683FD9DF0,id=s0
2022-06-20 14:46:08,048 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:08,048 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 35097
2022-06-20 14:46:08,049 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 42025
2022-06-20 14:46:08,049 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 36165
2022-06-20 14:46:08,050 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@71dac94a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:08,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:08,051 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-63E683FD9DF0:t0, leader=null, voted=, raftlog=s0@group-63E683FD9DF0-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null RUNNING
2022-06-20 14:46:08,051 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-63E683FD9DF0:t0, leader=null, voted=, raftlog=s0@group-63E683FD9DF0-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-63E683FD9DF0:t0, leader=null, voted=, raftlog=s0@group-63E683FD9DF0-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:145)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:08,254 [s0@group-63E683FD9DF0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-63E683FD9DF0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210614169ns, electionTimeout:206ms
2022-06-20 14:46:08,254 [s0@group-63E683FD9DF0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-63E683FD9DF0-FollowerState
2022-06-20 14:46:08,254 [s0@group-63E683FD9DF0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-63E683FD9DF0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:08,254 [s0@group-63E683FD9DF0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:08,254 [s0@group-63E683FD9DF0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-63E683FD9DF0-LeaderElection6
2022-06-20 14:46:08,255 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-63E683FD9DF0-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null
2022-06-20 14:46:08,255 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-63E683FD9DF0-LeaderElection6 PRE_VOTE round 0: result PASSED (term=0)
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-63E683FD9DF0-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-63E683FD9DF0-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-63E683FD9DF0-LeaderElection6
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-63E683FD9DF0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-63E683FD9DF0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 226ms
2022-06-20 14:46:08,257 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:08,258 [s0@group-63E683FD9DF0-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-63E683FD9DF0-LeaderStateImpl
2022-06-20 14:46:08,259 [s0@group-63E683FD9DF0-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:08,260 [s0@group-63E683FD9DF0-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-63E683FD9DF0: set configuration 0: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null
2022-06-20 14:46:08,271 [s0@group-63E683FD9DF0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc9f32d42b/s0/0d148ffc-7814-4a21-87b4-63e683fd9df0/current/log_inprogress_0
2022-06-20 14:46:08,502 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-63E683FD9DF0:t1, leader=s0, voted=s0, raftlog=s0@group-63E683FD9DF0-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null RUNNING
2022-06-20 14:46:08,502 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42025 (custom)
2022-06-20 14:46:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36165 (custom)
2022-06-20 14:46:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35097 (custom)
2022-06-20 14:46:08,503 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:08,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,503 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:08,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:08,505 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-06-20 14:46:08,505 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:308)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$0(TestRaftServerWithGrpc.java:149)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:148)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:08,506 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-06-20 14:46:08,506 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:314)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:153)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:152)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithGrpc
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-63E683FD9DF0:t1, leader=s0, voted=s0, raftlog=s0@group-63E683FD9DF0-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:35097|admin:localhost:42025|client:localhost:36165|dataStream:localhost:37793|priority:0], old=null RUNNING
2022-06-20 14:46:08,507 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:08,507 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-63E683FD9DF0: shutdown
2022-06-20 14:46:08,507 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-63E683FD9DF0,id=s0
2022-06-20 14:46:08,507 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-63E683FD9DF0-LeaderStateImpl
2022-06-20 14:46:08,508 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-63E683FD9DF0-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:08,508 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-63E683FD9DF0-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:46:08,508 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-63E683FD9DF0: closes. applyIndex: 0
2022-06-20 14:46:08,508 [s0@group-63E683FD9DF0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:08,509 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-63E683FD9DF0-SegmentedRaftLogWorker close()
2022-06-20 14:46:08,509 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 35097 now
2022-06-20 14:46:08,510 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 35097 successfully
2022-06-20 14:46:08,510 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 42025 now
2022-06-20 14:46:08,510 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 42025 successfully
2022-06-20 14:46:08,510 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 36165 now
2022-06-20 14:46:08,510 [java.util.concurrent.ThreadPoolExecutor$Worker@df8b048[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 36165 successfully
2022-06-20 14:46:08,510 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@71dac94a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:08,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithGrpc shutdown completed
2022-06-20 14:46:08,511 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:08,511 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:08,511 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-06-20 14:46:08,512 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:46:08,512 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithGrpc with group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0]
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithGrpc
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], format? true
2022-06-20 14:46:08,513 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0
2022-06-20 14:46:08,513 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0 does not exist.
2022-06-20 14:46:08,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0
2022-06-20 14:46:08,514 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41551 (custom)
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34913 (custom)
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46017 (custom)
2022-06-20 14:46:08,514 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:08,514 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:08,518 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] returns group-E9B77009D5C9:java.util.concurrent.CompletableFuture@19c8d344[Not completed]
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,518 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,519 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:08,519 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-E9B77009D5C9: ConfigurationManager, init=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:08,520 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:08,520 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:08,520 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:08,520 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9 does not exist. Creating ...
2022-06-20 14:46:08,521 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
2022-06-20 14:46:08,522 [pool-10-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:08,523 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/current
2022-06-20 14:46:08,523 [pool-10-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/sm
2022-06-20 14:46:08,524 [pool-10-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9 has been successfully formatted.
2022-06-20 14:46:08,524 [pool-10-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:08,524 [pool-10-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:08,524 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:08,524 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-E9B77009D5C9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:08,525 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:08,526 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:08,526 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:08,526 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:08,526 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:08,526 [pool-10-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:08,530 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:08,531 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:08,531 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-E9B77009D5C9: start as a follower, conf=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:46:08,531 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E9B77009D5C9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:08,531 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9B77009D5C9-FollowerState
2022-06-20 14:46:08,531 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9B77009D5C9,id=s0
2022-06-20 14:46:08,532 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:08,533 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 46017
2022-06-20 14:46:08,533 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 41551
2022-06-20 14:46:08,534 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 34913
2022-06-20 14:46:08,534 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@5e5379c1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:08,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:08,534 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E9B77009D5C9:t0, leader=null, voted=, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:46:08,534 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E9B77009D5C9:t0, leader=null, voted=, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E9B77009D5C9:t0, leader=null, voted=, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:108)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:92)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:08,686 [s0@group-E9B77009D5C9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E9B77009D5C9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155429105ns, electionTimeout:155ms
2022-06-20 14:46:08,687 [s0@group-E9B77009D5C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E9B77009D5C9-FollowerState
2022-06-20 14:46:08,687 [s0@group-E9B77009D5C9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E9B77009D5C9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:08,687 [s0@group-E9B77009D5C9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:08,687 [s0@group-E9B77009D5C9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9B77009D5C9-LeaderElection7
2022-06-20 14:46:08,688 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E9B77009D5C9-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:46:08,688 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E9B77009D5C9-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2022-06-20 14:46:08,689 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-E9B77009D5C9-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-E9B77009D5C9-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E9B77009D5C9-LeaderElection7
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-E9B77009D5C9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-E9B77009D5C9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 165ms
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:08,690 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:08,691 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:08,691 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:08,691 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:08,691 [s0@group-E9B77009D5C9-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E9B77009D5C9-LeaderStateImpl
2022-06-20 14:46:08,691 [s0@group-E9B77009D5C9-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:08,696 [s0@group-E9B77009D5C9-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-E9B77009D5C9: set configuration 0: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null
2022-06-20 14:46:08,702 [s0@group-E9B77009D5C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/current/log_inprogress_0
2022-06-20 14:46:08,986 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E9B77009D5C9:t1, leader=s0, voted=s0, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:46:08,989 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:08,989 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:08,989 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41551 (custom)
2022-06-20 14:46:08,989 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34913 (custom)
2022-06-20 14:46:08,989 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46017 (custom)
2022-06-20 14:46:08,989 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:08,989 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,989 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:08,990 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:08,990 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:08,990 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:08,991 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:08,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:08,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:08,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,992 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:08,993 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
2022-06-20 14:46:08,993 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] returns group-E9B77009D5C9:java.util.concurrent.CompletableFuture@3dee5597[Not completed]
2022-06-20 14:46:08,993 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 46017 now
2022-06-20 14:46:08,994 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] with SimpleStateMachine4Testing:s0:group-E9B77009D5C9
2022-06-20 14:46:08,994 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:08,994 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:08,994 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 46017 successfully
2022-06-20 14:46:08,994 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 41551 now
2022-06-20 14:46:08,994 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 41551 successfully
2022-06-20 14:46:08,994 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 34913 now
2022-06-20 14:46:08,994 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:08,994 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 34913 successfully
2022-06-20 14:46:08,995 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,995 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,995 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (TestRaftServerWithGrpc.java:runTestServerRestartOnException(129)) - start a new server with the same address
2022-06-20 14:46:08,995 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:08,995 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-E9B77009D5C9: ConfigurationManager, init=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:08,995 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:08,995 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:08,995 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:08,995 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41551 (custom)
2022-06-20 14:46:08,995 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34913 (custom)
2022-06-20 14:46:08,995 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46017 (custom)
2022-06-20 14:46:08,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:08,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:08,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:08,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:08,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:08,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:08,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:08,998 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:08,998 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:08,998 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:08,998 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:08,999 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(247)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
2022-06-20 14:46:09,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] returns group-E9B77009D5C9:java.util.concurrent.CompletableFuture@1fd1b809[Not completed]
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-E9B77009D5C9:[s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0] with SimpleStateMachine4Testing:s0:group-E9B77009D5C9
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:09,009 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-E9B77009D5C9: ConfigurationManager, init=-1: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:09,010 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0] (custom)
2022-06-20 14:46:09,010 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:09,010 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:09,010 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:09,010 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:09,999 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:10,000 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:10,012 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:10,013 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:11,001 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:11,002 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:11,013 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:11,019 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:12,002 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:12,003 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:12,020 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:12,020 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:13,004 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:13,005 [pool-11-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:13,021 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:13,022 [pool-12-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:13,506 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:13,506 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:13,523 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:13,523 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:14,507 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:14,508 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:14,524 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:14,525 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:15,509 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:15,510 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:15,525 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:15,526 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:16,511 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:16,512 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:16,527 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:16,527 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:17,512 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:17,513 [pool-11-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:17,528 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:17,528 [pool-12-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:18,014 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:18,015 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:18,029 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:18,029 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:18,535 [Timer-3] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$6(325)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING    LEADER s0@group-E9B77009D5C9:t1, leader=s0, voted=s0, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:46:19,016 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:19,017 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:19,030 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:19,030 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:20,017 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:20,018 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:20,031 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:20,031 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:21,019 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:21,020 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:21,032 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:21,033 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:22,020 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:22,021 [pool-11-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:22,034 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:22,034 [pool-12-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:22,522 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:22,523 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:22,535 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:22,535 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:23,523 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:23,524 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:23,536 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:23,536 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:24,525 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:24,526 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:24,537 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:24,537 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:25,527 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:25,528 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:25,538 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:25,539 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:26,528 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:26,529 [pool-11-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:26,539 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:26,540 [pool-12-thread-1] WARN  storage.RaftStorage (JavaUtils.java:attempt(172)) - FAILED "new RaftStorageImpl", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 500ms and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:27,030 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:27,031 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:27,040 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:27,040 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:28,032 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:28,033 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:28,041 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:28,042 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:28,534 [Timer-3] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$6(325)) - TIMED-PRINT: printing ALL groups
  s0:  RUNNING    LEADER s0@group-E9B77009D5C9:t1, leader=s0, voted=s0, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:46:29,033 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:29,034 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:29,043 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:29,043 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:30,035 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:30,035 [pool-11-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:30,043 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:30,044 [pool-12-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:236)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	... 24 more
2022-06-20 14:46:31,036 [pool-11-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,044 [pool-12-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(233)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpc3be7d632/s0/0123cbd0-8278-428a-bb62-e9b77009d5c9
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:224)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:194)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:153)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:87)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:57)
	at org.apache.ratis.server.storage.StorageImplUtils.lambda$newRaftStorage$0(StorageImplUtils.java:45)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.storage.StorageImplUtils.newRaftStorage(StorageImplUtils.java:44)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ratis.server.storage.RaftStorage$Builder.newRaftStorage(RaftStorage.java:75)
	at org.apache.ratis.server.storage.RaftStorage$Builder.build(RaftStorage.java:115)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:120)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:201)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$5(RaftServerProxy.java:274)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,045 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:31,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41551 (custom)
2022-06-20 14:46:31,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34913 (custom)
2022-06-20 14:46:31,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46017 (custom)
2022-06-20 14:46:31,046 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,046 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:31,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:31,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:31,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:31,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithGrpc
2022-06-20 14:46:31,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:31,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:31,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E9B77009D5C9:t1, leader=s0, voted=s0, raftlog=s0@group-E9B77009D5C9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:46017|admin:localhost:41551|client:localhost:34913|dataStream:localhost:39889|priority:0], old=null RUNNING
2022-06-20 14:46:31,048 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:31,048 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-E9B77009D5C9: shutdown
2022-06-20 14:46:31,049 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9B77009D5C9,id=s0
2022-06-20 14:46:31,049 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E9B77009D5C9-LeaderStateImpl
2022-06-20 14:46:31,049 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E9B77009D5C9-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:31,049 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-E9B77009D5C9-StateMachineUpdater: set stopIndex = 0
2022-06-20 14:46:31,049 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-E9B77009D5C9: closes. applyIndex: 0
2022-06-20 14:46:31,049 [s0@group-E9B77009D5C9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:31,050 [java.util.concurrent.ThreadPoolExecutor$Worker@505c1489[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-E9B77009D5C9-SegmentedRaftLogWorker close()
2022-06-20 14:46:31,050 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@5e5379c1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:31,051 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithGrpc shutdown completed
2022-06-20 14:46:31,051 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-06-20 14:46:31,051 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-06-20 14:46:31,051 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-06-20 14:46:31,054 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-06-20 14:46:31,054 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithGrpc with group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0]
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(315)) - .............................................................. 
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(316)) - ... 
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(317)) - ...     Starting MiniRaftClusterWithGrpc
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(318)) - ... 
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(319)) - .............................................................. 
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-06-20 14:46:31,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s0, group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], format? true
2022-06-20 14:46:31,055 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0
2022-06-20 14:46:31,056 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0 does not exist.
2022-06-20 14:46:31,056 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0
2022-06-20 14:46:31,056 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:31,056 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:31,056 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41249 (custom)
2022-06-20 14:46:31,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37583 (custom)
2022-06-20 14:46:31,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42967 (custom)
2022-06-20 14:46:31,057 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,057 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,057 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,057 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:31,057 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:31,058 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:31,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:31,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:31,058 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0] (custom)
2022-06-20 14:46:31,063 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] returns group-DFD35037D0CE:java.util.concurrent.CompletableFuture@665faf3e[Not completed]
2022-06-20 14:46:31,063 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s1, group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], format? true
2022-06-20 14:46:31,063 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1
2022-06-20 14:46:31,064 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1 does not exist.
2022-06-20 14:46:31,064 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1
2022-06-20 14:46:31,064 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:31,064 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:31,064 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39809 (custom)
2022-06-20 14:46:31,064 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35299 (custom)
2022-06-20 14:46:31,064 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34227 (custom)
2022-06-20 14:46:31,064 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,065 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,065 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,065 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:31,065 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:31,065 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s0: new RaftServerImpl for group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:31,066 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:31,066 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s0@group-DFD35037D0CE: ConfigurationManager, init=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:31,066 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:31,067 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0] (custom)
2022-06-20 14:46:31,067 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:31,067 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,067 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,067 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:31,067 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1] (custom)
2022-06-20 14:46:31,067 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:31,068 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] returns group-DFD35037D0CE:java.util.concurrent.CompletableFuture@1d4d2ab9[Not completed]
2022-06-20 14:46:31,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(358)) - newRaftServer: s2, group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], format? true
2022-06-20 14:46:31,068 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2
2022-06-20 14:46:31,068 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce does not exist. Creating ...
2022-06-20 14:46:31,068 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2 does not exist.
2022-06-20 14:46:31,068 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(363)) - Formatted directory target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2
2022-06-20 14:46:31,068 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-06-20 14:46:31,068 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,068 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,068 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2022-06-20 14:46:31,069 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37063 (custom)
2022-06-20 14:46:31,069 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33437 (custom)
2022-06-20 14:46:31,069 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46567 (custom)
2022-06-20 14:46:31,069 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,069 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,069 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,069 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,069 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-06-20 14:46:31,069 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-06-20 14:46:31,071 [pool-13-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:31,071 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current
2022-06-20 14:46:31,071 [pool-13-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/sm
2022-06-20 14:46:31,071 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-06-20 14:46:31,071 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-06-20 14:46:31,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-06-20 14:46:31,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,072 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2] (custom)
2022-06-20 14:46:31,072 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,072 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s1: new RaftServerImpl for group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,073 [pool-13-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce has been successfully formatted.
2022-06-20 14:46:31,073 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] returns group-DFD35037D0CE:java.util.concurrent.CompletableFuture@7225f5cf[Not completed]
2022-06-20 14:46:31,073 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,073 [pool-13-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,074 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(190)) - s2: new RaftServerImpl for group-DFD35037D0CE:[s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0] with SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,074 [pool-13-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,074 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s1@group-DFD35037D0CE: ConfigurationManager, init=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-06-20 14:46:31,074 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-06-20 14:46:31,075 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(107)) - s2@group-DFD35037D0CE: ConfigurationManager, init=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null, confs=<EMPTY_MAP>
2022-06-20 14:46:31,075 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2] (custom)
2022-06-20 14:46:31,075 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:31,075 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:31,075 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce does not exist. Creating ...
2022-06-20 14:46:31,075 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,076 [pool-15-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:31,077 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current
2022-06-20 14:46:31,077 [pool-15-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/sm
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce has been successfully formatted.
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:31,078 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-DFD35037D0CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:31,079 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:31,080 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:31,080 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:31,074 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-DFD35037D0CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,094 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:31,095 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:31,096 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,096 [pool-13-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,094 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1] (custom)
2022-06-20 14:46:31,096 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-06-20 14:46:31,096 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-06-20 14:46:31,096 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce does not exist. Creating ...
2022-06-20 14:46:31,097 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,097 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:31,097 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:31,097 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:31,097 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:31,097 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:31,098 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:31,098 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:31,098 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:31,098 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:31,098 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:31,098 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s0@group-DFD35037D0CE: start as a follower, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,098 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DFD35037D0CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:31,098 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,103 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s0
2022-06-20 14:46:31,103 [pool-14-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/in_use.lock acquired by nodename 9271@fv-az130-643.w2idpbytgoxujjjp101z4a4ccc.phxx.internal.cloudapp.net
2022-06-20 14:46:31,104 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current
2022-06-20 14:46:31,104 [pool-14-thread-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/sm
2022-06-20 14:46:31,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:31,105 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:31,105 [pool-14-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(79)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce has been successfully formatted.
2022-06-20 14:46:31,105 [pool-14-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-06-20 14:46:31,106 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,106 [pool-15-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-06-20 14:46:31,106 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-DFD35037D0CE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-06-20 14:46:31,107 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-06-20 14:46:31,108 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s0: start RPC server
2022-06-20 14:46:31,108 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-06-20 14:46:31,109 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-06-20 14:46:31,109 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-06-20 14:46:31,109 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,109 [pool-14-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-06-20 14:46:31,109 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:31,109 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:31,109 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:31,109 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:31,109 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:31,110 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:31,110 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:31,110 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:31,110 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:31,110 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:31,111 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-06-20 14:46:31,111 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-06-20 14:46:31,111 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-06-20 14:46:31,112 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-06-20 14:46:31,113 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 42967
2022-06-20 14:46:31,114 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 41249
2022-06-20 14:46:31,115 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s0: GrpcService started, listening on 37583
2022-06-20 14:46:31,115 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s1@group-DFD35037D0CE: start as a follower, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,115 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DFD35037D0CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:31,115 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,115 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@64901d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-06-20 14:46:31,115 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s1
2022-06-20 14:46:31,119 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s1: start RPC server
2022-06-20 14:46:31,123 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 34227
2022-06-20 14:46:31,124 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 39809
2022-06-20 14:46:31,125 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s1: GrpcService started, listening on 35299
2022-06-20 14:46:31,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(310)) - s2@group-DFD35037D0CE: start as a follower, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,125 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@23e2ab0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-06-20 14:46:31,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DFD35037D0CE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-06-20 14:46:31,125 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,126 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s2
2022-06-20 14:46:31,131 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$6(382)) - s2: start RPC server
2022-06-20 14:46:31,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 46567
2022-06-20 14:46:31,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 37063
2022-06-20 14:46:31,136 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(260)) - s2: GrpcService started, listening on 33437
2022-06-20 14:46:31,136 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@1f008f9e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-06-20 14:46:31,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,137 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,137 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,330 [s0@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DFD35037D0CE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231248347ns, electionTimeout:226ms
2022-06-20 14:46:31,330 [s0@group-DFD35037D0CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,330 [s0@group-DFD35037D0CE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DFD35037D0CE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-06-20 14:46:31,330 [s0@group-DFD35037D0CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:31,330 [s0@group-DFD35037D0CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DFD35037D0CE-LeaderElection8
2022-06-20 14:46:31,331 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DFD35037D0CE-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,345 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DFD35037D0CE: receive requestVote(PRE_VOTE, s0, group-DFD35037D0CE, 0, (t:0, i:0))
2022-06-20 14:46:31,345 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DFD35037D0CE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:31,345 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DFD35037D0CE replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,347 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DFD35037D0CE-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:31,347 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-06-20 14:46:31,347 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DFD35037D0CE-LeaderElection8 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:31,348 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DFD35037D0CE: receive requestVote(PRE_VOTE, s0, group-DFD35037D0CE, 0, (t:0, i:0))
2022-06-20 14:46:31,348 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DFD35037D0CE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:31,348 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DFD35037D0CE replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-DFD35037D0CE:t0, leader=null, voted=, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,349 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-DFD35037D0CE-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,352 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s1@group-DFD35037D0CE: receive requestVote(ELECTION, s0, group-DFD35037D0CE, 1, (t:0, i:0))
2022-06-20 14:46:31,353 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-DFD35037D0CE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:31,353 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DFD35037D0CE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:46:31,353 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,353 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,353 [s1@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:31,360 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DFD35037D0CE: receive requestVote(ELECTION, s0, group-DFD35037D0CE, 1, (t:0, i:0))
2022-06-20 14:46:31,360 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DFD35037D0CE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-06-20 14:46:31,360 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DFD35037D0CE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-06-20 14:46:31,360 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,360 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:31,360 [s2@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:31,362 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DFD35037D0CE replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-DFD35037D0CE:t1, leader=null, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,363 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s1@group-DFD35037D0CE replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-DFD35037D0CE:t1, leader=null, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,364 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-DFD35037D0CE-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:31,364 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-DFD35037D0CE-LeaderElection8 ELECTION round 0: result PASSED
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DFD35037D0CE-LeaderElection8
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DFD35037D0CE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-DFD35037D0CE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 290ms
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:31,365 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,366 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:31,368 [s0@group-DFD35037D0CE-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DFD35037D0CE-LeaderStateImpl
2022-06-20 14:46:31,369 [s0@group-DFD35037D0CE-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:31,377 [s0@group-DFD35037D0CE-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-DFD35037D0CE: set configuration 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,381 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-DFD35037D0CE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 275ms
2022-06-20 14:46:31,387 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-DFD35037D0CE: set configuration 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,387 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:31,398 [s0@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0
2022-06-20 14:46:31,401 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-DFD35037D0CE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 323ms
2022-06-20 14:46:31,403 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-DFD35037D0CE: set configuration 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:31,404 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: Starting segment from index:0
2022-06-20 14:46:31,408 [s1@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0
2022-06-20 14:46:31,416 [s2@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0
2022-06-20 14:46:31,588 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,588 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,588 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,598 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-91ACEE027687->s0: receive RaftClientReply:client-91ACEE027687->s0@group-DFD35037D0CE, cid=28, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-06-20 14:46:31,604 [s0@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-91ACEE027687
2022-06-20 14:46:31,612 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-91ACEE027687->s0: receive RaftClientReply:client-91ACEE027687->s0@group-DFD35037D0CE, cid=29, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-06-20 14:46:31,617 [s2@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-91ACEE027687
2022-06-20 14:46:31,620 [s1@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-91ACEE027687
2022-06-20 14:46:31,624 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:31,624 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:31,643 [s0@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB0CF5FDCF8C
2022-06-20 14:46:31,646 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AB0CF5FDCF8C->s0: receive RaftClientReply:client-AB0CF5FDCF8C->s0@group-DFD35037D0CE, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c1, s2:c2]
2022-06-20 14:46:31,647 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-06-20 14:46:31,649 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2022-06-20 14:46:31,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,649 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c2, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c2, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,649 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c2, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c2, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,651 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:189)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,651 [s2@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB0CF5FDCF8C
2022-06-20 14:46:31,664 [s1@group-DFD35037D0CE-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-AB0CF5FDCF8C
2022-06-20 14:46:31,730 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-06-20 14:46:31,740 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-06-20 14:46:31,751 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,751 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,752 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,752 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:189)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,852 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,852 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,853 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,853 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:189)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:31,953 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:31,954 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,954 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:31,954 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:189)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:32,018 [s1@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DFD35037D0CE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:354798433ns, electionTimeout:244ms
2022-06-20 14:46:32,018 [s1@group-DFD35037D0CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,018 [s1@group-DFD35037D0CE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DFD35037D0CE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-06-20 14:46:32,018 [s1@group-DFD35037D0CE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-06-20 14:46:32,018 [s1@group-DFD35037D0CE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DFD35037D0CE-LeaderElection9
2022-06-20 14:46:32,019 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-DFD35037D0CE: change Leader from s0 to null at term 1 for PRE_VOTE
2022-06-20 14:46:32,019 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-DFD35037D0CE-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,034 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DFD35037D0CE: receive requestVote(PRE_VOTE, s1, group-DFD35037D0CE, 1, (t:1, i:4))
2022-06-20 14:46:32,035 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DFD35037D0CE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:32,035 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DFD35037D0CE replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,042 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-DFD35037D0CE-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:32,042 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DFD35037D0CE: receive requestVote(PRE_VOTE, s1, group-DFD35037D0CE, 1, (t:1, i:4))
2022-06-20 14:46:32,042 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2022-06-20 14:46:32,042 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-DFD35037D0CE-LeaderElection9 PRE_VOTE round 0: result PASSED
2022-06-20 14:46:32,042 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1018)) - s0@group-DFD35037D0CE-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 677ms. Conf: 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,044 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-DFD35037D0CE-LeaderElection9 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,044 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-DFD35037D0CE->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=36, lastRpcResponseTime=379)
2022-06-20 14:46:32,044 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1022)) - Follower s0@group-DFD35037D0CE->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=9, lastRpcResponseTime=391)
2022-06-20 14:46:32,044 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DFD35037D0CE: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-06-20 14:46:32,044 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-DFD35037D0CE-LeaderStateImpl
2022-06-20 14:46:32,045 [s0@group-DFD35037D0CE->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-DFD35037D0CE->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:32,047 [s0@group-DFD35037D0CE->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s0@group-DFD35037D0CE->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:32,048 [grpc-default-executor-4] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-DFD35037D0CE-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:32,051 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s0@group-DFD35037D0CE: receive requestVote(ELECTION, s1, group-DFD35037D0CE, 2, (t:1, i:4))
2022-06-20 14:46:32,052 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,054 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DFD35037D0CE-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-06-20 14:46:32,054 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DFD35037D0CE replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,054 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-DFD35037D0CE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:32,054 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-DFD35037D0CE: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:46:32,054 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s0@group-DFD35037D0CE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-06-20 14:46:32,054 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-06-20 14:46:32,054 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t2, leader=null, voted=null, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-DFD35037D0CE:t2, leader=null, voted=s1, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:32,055 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t2, leader=null, voted=null, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-DFD35037D0CE:t2, leader=null, voted=s1, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t2, leader=null, voted=null, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-DFD35037D0CE:t2, leader=null, voted=s1, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t1, leader=s0, voted=s0, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:533)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:567)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:560)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:189)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-06-20 14:46:32,055 [s0@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:32,055 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,057 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s0@group-DFD35037D0CE replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-DFD35037D0CE:t2, leader=null, voted=s1, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,058 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-DFD35037D0CE-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-06-20 14:46:32,058 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1152)) - s2@group-DFD35037D0CE: receive requestVote(ELECTION, s1, group-DFD35037D0CE, 2, (t:1, i:4))
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-DFD35037D0CE-LeaderElection9 ELECTION round 0: result PASSED
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DFD35037D0CE-LeaderElection9
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s1@group-DFD35037D0CE: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s1@group-DFD35037D0CE: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 40ms
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-DFD35037D0CE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-DFD35037D0CE: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(299)) - s2@group-DFD35037D0CE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,059 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:32,060 [s2@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:32,059 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-06-20 14:46:32,060 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-06-20 14:46:32,060 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-06-20 14:46:32,060 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-06-20 14:46:32,060 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-06-20 14:46:32,060 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-06-20 14:46:32,061 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1184)) - s2@group-DFD35037D0CE replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-DFD35037D0CE:t2, leader=null, voted=s1, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c3, conf=0: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:32,061 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DFD35037D0CE-LeaderStateImpl
2022-06-20 14:46:32,062 [s1@group-DFD35037D0CE-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-06-20 14:46:32,065 [s1@group-DFD35037D0CE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,065 [s1@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,075 [s1@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s1/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_5
2022-06-20 14:46:32,078 [s1@group-DFD35037D0CE-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s1@group-DFD35037D0CE: set configuration 5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,084 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s2@group-DFD35037D0CE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 25ms
2022-06-20 14:46:32,087 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s2@group-DFD35037D0CE: set configuration 5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,087 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-06-20 14:46:32,087 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(291)) - s0@group-DFD35037D0CE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 33ms
2022-06-20 14:46:32,088 [s2@group-DFD35037D0CE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,088 [s2@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,093 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(397)) - s0@group-DFD35037D0CE: set configuration 5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null
2022-06-20 14:46:32,094 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-06-20 14:46:32,095 [s0@group-DFD35037D0CE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,095 [s0@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_0-4
2022-06-20 14:46:32,106 [s2@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s2/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_5
2022-06-20 14:46:32,106 [s0@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/108fa2d4/MiniRaftClusterWithGrpcb49a62ff/s0/8584d223-fe8e-484b-a575-dfd35037d0ce/current/log_inprogress_5
2022-06-20 14:46:32,505 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:32,506 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-06-20 14:46:32,506 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2022-06-20 14:46:32,506 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-06-20 14:46:32,506 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-AB0CF5FDCF8C->s0: Stream completed: no reply for async request cid=2
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:193)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-AB0CF5FDCF8C->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:407)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:311)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:347)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:477)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-06-20 14:46:32,507 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-06-20 14:46:32,509 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-06-20 14:46:32,509 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-06-20 14:46:32,511 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-06-20 14:46:32,631 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-06-20 14:46:32,637 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:32,638 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-DFD35037D0CE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:32,638 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DFD35037D0CE->s2: nextIndex: updateUnconditionally 5 -> 4
2022-06-20 14:46:32,641 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-06-20 14:46:32,645 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#24-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-06-20 14:46:32,646 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s0@group-DFD35037D0CE->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:32,646 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DFD35037D0CE->s1: nextIndex: updateUnconditionally 5 -> 4
2022-06-20 14:46:33,512 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: Request #3 timeout 1s
	at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
	at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:201)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:159)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: Request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.util.Optional.ifPresent(Optional.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:389)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:384)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:377)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$0(TimeoutScheduler.java:141)
	at org.apache.ratis.util.TimeoutScheduler.lambda$onTimeout$1(TimeoutScheduler.java:155)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2022-06-20 14:46:33,521 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(322)) - client-AB0CF5FDCF8C->s0: receive RaftClientReply:client-AB0CF5FDCF8C->s0@group-DFD35037D0CE, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-06-20 14:46:36,513 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=317, target=localhost:37583}}. 
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(760)) - ************************************************************** 
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(761)) - *** 
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(762)) - ***     Stopping MiniRaftClusterWithGrpc
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(763)) - *** 
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(764)) - ************************************************************** 
2022-06-20 14:46:36,518 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(765)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s0@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s1@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DFD35037D0CE:t2, leader=s1, voted=s1, raftlog=s2@group-DFD35037D0CE-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:42967|admin:localhost:41249|client:localhost:37583|dataStream:localhost:38701|priority:0, s1|rpc:localhost:34227|admin:localhost:39809|client:localhost:35299|dataStream:localhost:39469|priority:0, s2|rpc:localhost:46567|admin:localhost:37063|client:localhost:33437|dataStream:localhost:35995|priority:0], old=null RUNNING
2022-06-20 14:46:36,519 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s1: close
2022-06-20 14:46:36,523 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s1@group-DFD35037D0CE: shutdown
2022-06-20 14:46:36,523 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s0: close
2022-06-20 14:46:36,523 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s1
2022-06-20 14:46:36,523 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-DFD35037D0CE-LeaderStateImpl
2022-06-20 14:46:36,523 [s1@group-DFD35037D0CE->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s1@group-DFD35037D0CE->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:36,523 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-DFD35037D0CE-PendingRequests: sendNotLeaderResponses
2022-06-20 14:46:36,523 [s1@group-DFD35037D0CE->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(172)) - s1@group-DFD35037D0CE->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-06-20 14:46:36,524 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#3-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:36,524 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s1@group-DFD35037D0CE->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:36,524 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DFD35037D0CE->s0: nextIndex: updateUnconditionally 7 -> 6
2022-06-20 14:46:36,524 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-06-20 14:46:36,525 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(340)) - s1@group-DFD35037D0CE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-06-20 14:46:36,525 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DFD35037D0CE->s2: nextIndex: updateUnconditionally 7 -> 6
2022-06-20 14:46:36,527 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(398)) - s2: close
2022-06-20 14:46:36,527 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s0@group-DFD35037D0CE: shutdown
2022-06-20 14:46:36,527 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(434)) - s2@group-DFD35037D0CE: shutdown
2022-06-20 14:46:36,528 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s2
2022-06-20 14:46:36,528 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:36,529 [s2@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:36,529 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-DFD35037D0CE-StateMachineUpdater: set stopIndex = 6
2022-06-20 14:46:36,529 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s1@group-DFD35037D0CE: closes. applyIndex: 6
2022-06-20 14:46:36,529 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-DFD35037D0CE-StateMachineUpdater: set stopIndex = 6
2022-06-20 14:46:36,529 [s1@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:36,529 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD35037D0CE,id=s0
2022-06-20 14:46:36,529 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DFD35037D0CE-FollowerState
2022-06-20 14:46:36,531 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s2@group-DFD35037D0CE: closes. applyIndex: 6
2022-06-20 14:46:36,531 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-DFD35037D0CE-SegmentedRaftLogWorker close()
2022-06-20 14:46:36,532 [s2@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:36,531 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-DFD35037D0CE-StateMachineUpdater: set stopIndex = 6
2022-06-20 14:46:36,531 [s0@group-DFD35037D0CE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DFD35037D0CE-FollowerState was interrupted
2022-06-20 14:46:36,532 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(433)) - s0@group-DFD35037D0CE: closes. applyIndex: 6
2022-06-20 14:46:36,532 [s0@group-DFD35037D0CE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-06-20 14:46:36,533 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-DFD35037D0CE-SegmentedRaftLogWorker close()
2022-06-20 14:46:36,534 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 34227 now
2022-06-20 14:46:36,534 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 46567 now
2022-06-20 14:46:36,536 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 46567 successfully
2022-06-20 14:46:36,536 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 37063 now
2022-06-20 14:46:36,537 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-DFD35037D0CE-SegmentedRaftLogWorker close()
2022-06-20 14:46:36,543 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 37063 successfully
2022-06-20 14:46:36,543 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s2: shutdown server with port 33437 now
2022-06-20 14:46:36,543 [java.util.concurrent.ThreadPoolExecutor$Worker@148abc1f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s2: shutdown server with port 33437 successfully
2022-06-20 14:46:36,543 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@1f008f9e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-06-20 14:46:36,544 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 42967 now
2022-06-20 14:46:36,544 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 34227 successfully
2022-06-20 14:46:36,544 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 39809 now
2022-06-20 14:46:36,545 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 39809 successfully
2022-06-20 14:46:36,545 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s1: shutdown server with port 35299 now
2022-06-20 14:46:36,545 [java.util.concurrent.ThreadPoolExecutor$Worker@4c2d858f[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s1: shutdown server with port 35299 successfully
2022-06-20 14:46:36,545 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@23e2ab0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-06-20 14:46:36,547 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 42967 successfully
2022-06-20 14:46:36,547 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 41249 now
2022-06-20 14:46:36,549 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 41249 successfully
2022-06-20 14:46:36,549 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(269)) - s0: shutdown server with port 37583 now
2022-06-20 14:46:36,549 [java.util.concurrent.ThreadPoolExecutor$Worker@7e69e8b8[State = -1, empty queue]] INFO  server.GrpcService (GrpcService.java:closeImpl(278)) - s0: shutdown server with port 37583 successfully
2022-06-20 14:46:36,550 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$286/973387599@64901d0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-06-20 14:46:36,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - MiniRaftClusterWithGrpc shutdown completed
