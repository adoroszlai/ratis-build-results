2022-07-21 18:24:05,455 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:05,458 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:05,462 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:05,462 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:05,466 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(223)) - Running testEnforceLeader
2022-07-21 18:24:05,486 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:05,543 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:05,544 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:05,549 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s3, group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:05,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3
2022-07-21 18:24:05,552 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3 does not exist.
2022-07-21 18:24:05,553 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3
2022-07-21 18:24:05,563 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:05,577 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:05,604 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:05,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:05,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3] (custom)
2022-07-21 18:24:05,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] returns group-C3E9AA6170F9:java.util.concurrent.CompletableFuture@1fa3d3fe[Not completed]
2022-07-21 18:24:05,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s4, group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:05,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4
2022-07-21 18:24:05,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4 does not exist.
2022-07-21 18:24:05,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4
2022-07-21 18:24:05,629 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:05,629 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:05,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:05,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:05,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4] (custom)
2022-07-21 18:24:05,644 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] returns group-C3E9AA6170F9:java.util.concurrent.CompletableFuture@cf72018[Not completed]
2022-07-21 18:24:05,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:05,645 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0
2022-07-21 18:24:05,645 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0 does not exist.
2022-07-21 18:24:05,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0
2022-07-21 18:24:05,645 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:05,645 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:05,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:05,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:05,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0] (custom)
2022-07-21 18:24:05,648 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s3: new RaftServerImpl for group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:05,648 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s4: new RaftServerImpl for group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:05,649 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:05,650 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:05,650 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:05,650 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,650 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,651 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,651 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:05,651 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:05,652 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,652 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,652 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:05,653 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] returns group-C3E9AA6170F9:java.util.concurrent.CompletableFuture@61c64251[Not completed]
2022-07-21 18:24:05,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:05,653 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1
2022-07-21 18:24:05,653 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1 does not exist.
2022-07-21 18:24:05,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1
2022-07-21 18:24:05,653 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:05,654 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:05,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:05,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:05,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1] (custom)
2022-07-21 18:24:05,656 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:05,657 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s3@group-C3E9AA6170F9: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:05,657 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s4@group-C3E9AA6170F9: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:05,660 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4] (custom)
2022-07-21 18:24:05,666 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:05,668 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:05,659 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:05,669 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3] (custom)
2022-07-21 18:24:05,669 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:05,669 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:05,659 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] returns group-C3E9AA6170F9:java.util.concurrent.CompletableFuture@34afbcd5[Not completed]
2022-07-21 18:24:05,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:05,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2
2022-07-21 18:24:05,675 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2 does not exist.
2022-07-21 18:24:05,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2
2022-07-21 18:24:05,676 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:05,676 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:05,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:05,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:05,676 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2] (custom)
2022-07-21 18:24:05,659 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:05,676 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:05,677 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,677 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,677 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:05,678 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:05,678 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,678 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,678 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,679 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,685 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:05,685 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-C3E9AA6170F9: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:05,685 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1] (custom)
2022-07-21 18:24:05,685 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:05,684 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] returns group-C3E9AA6170F9:java.util.concurrent.CompletableFuture@1993c30d[Not completed]
2022-07-21 18:24:05,682 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:05,679 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:05,682 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:05,690 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-C3E9AA6170F9:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:05,690 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:05,688 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-C3E9AA6170F9: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:05,686 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:05,691 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0] (custom)
2022-07-21 18:24:05,691 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:05,691 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:05,690 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:05,691 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:05,691 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:05,691 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:05,692 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:05,692 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:05,692 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:05,691 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:05,696 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:05,708 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:05,708 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,708 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:05,708 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:05,708 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:05,709 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:05,709 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-C3E9AA6170F9: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:05,709 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2] (custom)
2022-07-21 18:24:05,710 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:05,710 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:05,710 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:05,710 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:05,710 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:05,726 [pool-2-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-07-21 18:24:05,826 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:05,826 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:05,827 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:05,827 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:05,828 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:05,828 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:05,827 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:05,827 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:05,828 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:05,828 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:05,828 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:05,828 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:05,829 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:05,830 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:05,830 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:05,831 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:05,832 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:05,832 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:05,828 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:05,832 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:05,832 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:05,832 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:05,832 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:05,832 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:05,832 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:05,833 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 does not exist. Creating ...
2022-07-21 18:24:05,834 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,838 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:05,838 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current
2022-07-21 18:24:05,839 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/sm
2022-07-21 18:24:05,853 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 has been successfully formatted.
2022-07-21 18:24:05,855 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:05,860 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:05,861 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:05,862 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:05,863 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,867 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:05,868 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:05,871 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-C3E9AA6170F9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,871 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:05,872 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:05,872 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,873 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:05,873 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:05,874 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:05,874 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:05,874 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:05,884 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:05,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:05,885 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:05,892 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,892 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,894 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s3@group-C3E9AA6170F9: start as a follower, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:05,895 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:05,895 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:05,897 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s3
2022-07-21 18:24:05,899 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:05,899 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:05,900 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:05,902 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s3: start RPC server
2022-07-21 18:24:05,906 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 does not exist. Creating ...
2022-07-21 18:24:05,906 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@3c14d348] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-07-21 18:24:05,906 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,908 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:05,908 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current
2022-07-21 18:24:05,908 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/sm
2022-07-21 18:24:05,909 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 has been successfully formatted.
2022-07-21 18:24:05,909 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-C3E9AA6170F9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:05,910 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:05,911 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:05,912 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:05,912 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,912 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s4@group-C3E9AA6170F9: start as a follower, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s4
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:05,916 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:05,917 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:05,917 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s4: start RPC server
2022-07-21 18:24:05,919 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 does not exist. Creating ...
2022-07-21 18:24:05,919 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,919 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@6214af3c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-07-21 18:24:05,921 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:05,921 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current
2022-07-21 18:24:05,921 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/sm
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 has been successfully formatted.
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,923 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-C3E9AA6170F9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:05,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:05,925 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:05,925 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:05,925 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:05,925 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,925 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,926 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-C3E9AA6170F9: start as a follower, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:05,926 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C3E9AA6170F9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:05,926 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:05,926 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s0
2022-07-21 18:24:05,926 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:05,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:05,927 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:05,927 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:05,928 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@7800aea5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:05,932 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 does not exist. Creating ...
2022-07-21 18:24:05,933 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,934 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:05,934 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current
2022-07-21 18:24:05,934 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/sm
2022-07-21 18:24:05,935 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 has been successfully formatted.
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:05,936 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-C3E9AA6170F9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:05,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,938 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-C3E9AA6170F9: start as a follower, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-C3E9AA6170F9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s1
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:05,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:05,942 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:05,946 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@713a2c8c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:05,946 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 does not exist. Creating ...
2022-07-21 18:24:05,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,948 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:05,948 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current
2022-07-21 18:24:05,948 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/sm
2022-07-21 18:24:05,949 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9 has been successfully formatted.
2022-07-21 18:24:05,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:05,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-C3E9AA6170F9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:05,950 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:05,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:05,952 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,952 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:05,954 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-C3E9AA6170F9: start as a follower, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:05,955 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-C3E9AA6170F9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:05,955 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:05,959 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s2
2022-07-21 18:24:05,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:05,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:05,959 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:05,961 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:05,965 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@5861559] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:05,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:05,970 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:05,973 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:06,056 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161135827ns, electionTimeout:158ms
2022-07-21 18:24:06,057 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,058 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:06,060 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:06,060 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection1
2022-07-21 18:24:06,062 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,080 [s0@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154223757ns, electionTimeout:153ms
2022-07-21 18:24:06,080 [s0@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,080 [s0@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:06,081 [s0@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:06,081 [s0@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C3E9AA6170F9-LeaderElection2
2022-07-21 18:24:06,082 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C3E9AA6170F9-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,097 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,098 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,100 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s3@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s0, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,100 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-C3E9AA6170F9-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,108 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s3@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,108 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,116 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,116 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s0, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,117 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,117 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,117 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,117 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s0, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,116 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,117 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,117 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,117 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,118 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,118 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,117 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,118 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,118 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,117 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s0, group-C3E9AA6170F9, 0, (t:0, i:0))
2022-07-21 18:24:06,118 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,118 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-C3E9AA6170F9:t0, leader=null, voted=, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,119 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C3E9AA6170F9-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:06,119 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection1: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:06,119 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t0
2022-07-21 18:24:06,119 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t0
2022-07-21 18:24:06,120 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C3E9AA6170F9-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:06,119 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:OK-t0
2022-07-21 18:24:06,120 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t0
2022-07-21 18:24:06,120 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:06,122 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-C3E9AA6170F9-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,122 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,124 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s3@group-C3E9AA6170F9: receive requestVote(ELECTION, s0, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,124 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-C3E9AA6170F9-CANDIDATE: reject ELECTION from s0: already has voted for s3 at current term 1
2022-07-21 18:24:06,125 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s3@group-C3E9AA6170F9 replies to ELECTION vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C3E9AA6170F9:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,140 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(ELECTION, s3, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,141 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,141 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-07-21 18:24:06,141 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,142 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(ELECTION, s0, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,144 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,144 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(ELECTION, s0, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,144 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,144 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-C3E9AA6170F9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:06,144 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,144 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:06,144 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(ELECTION, s0, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,144 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:06,144 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-C3E9AA6170F9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:06,144 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,145 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,145 [s2@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:06,145 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(ELECTION, s3, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,145 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-CANDIDATE: reject ELECTION from s3: already has voted for s0 at current term 1
2022-07-21 18:24:06,145 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to ELECTION vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,146 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(ELECTION, s3, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,146 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,146 [s1@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:06,147 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(ELECTION, s3, group-C3E9AA6170F9, 1, (t:0, i:0))
2022-07-21 18:24:06,148 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,149 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject ELECTION from s3: already has voted for s0 at current term 1
2022-07-21 18:24:06,149 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to ELECTION vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,151 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,151 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject ELECTION from s0: already has voted for s3 at current term 1
2022-07-21 18:24:06,151 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to ELECTION vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,151 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,152 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject ELECTION from s3: already has voted for s0 at current term 1
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C3E9AA6170F9-LeaderElection2: ELECTION PASSED received 4 response(s) and 0 exception(s):
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:OK-t1
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s0<-s2#0:OK-t1
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-C3E9AA6170F9-LeaderElection2 ELECTION round 0: result PASSED
2022-07-21 18:24:06,152 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C3E9AA6170F9-LeaderElection2
2022-07-21 18:24:06,152 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to ELECTION vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,153 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-C3E9AA6170F9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection1: ELECTION REJECTED received 4 response(s) and 0 exception(s):
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t1
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s3<-s2#0:FAIL-t1
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection1 ELECTION round 0: result REJECTED
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection1
2022-07-21 18:24:06,153 [s3@group-C3E9AA6170F9-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,153 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 461ms
2022-07-21 18:24:06,157 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:06,161 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:06,161 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:06,166 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:06,166 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:06,166 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:06,171 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:06,173 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:06,179 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:06,179 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:06,180 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:06,182 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:06,182 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:06,182 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:06,183 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:06,185 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C3E9AA6170F9-LeaderStateImpl
2022-07-21 18:24:06,197 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:06,245 [Thread-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 562ms
2022-07-21 18:24:06,248 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 556ms
2022-07-21 18:24:06,248 [s0@group-C3E9AA6170F9-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-C3E9AA6170F9: set configuration 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,249 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 538ms
2022-07-21 18:24:06,260 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 578ms
2022-07-21 18:24:06,324 [s0@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s0/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current/log_inprogress_0
2022-07-21 18:24:06,346 [Thread-30] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-C3E9AA6170F9: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:6, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:42219"
dataStreamAddress: "localhost:37601"
clientAddress: "localhost:36081"
adminAddress: "localhost:33767"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41277"
dataStreamAddress: "localhost:40265"
clientAddress: "localhost:37665"
adminAddress: "localhost:43681"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41401"
dataStreamAddress: "localhost:43073"
clientAddress: "localhost:41875"
adminAddress: "localhost:36139"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40237"
dataStreamAddress: "localhost:33723"
clientAddress: "localhost:44849"
adminAddress: "localhost:43387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40705"
dataStreamAddress: "localhost:35097"
clientAddress: "localhost:37579"
adminAddress: "localhost:41207"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:06,348 [Thread-23] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-C3E9AA6170F9: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:5, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:42219"
dataStreamAddress: "localhost:37601"
clientAddress: "localhost:36081"
adminAddress: "localhost:33767"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41277"
dataStreamAddress: "localhost:40265"
clientAddress: "localhost:37665"
adminAddress: "localhost:43681"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41401"
dataStreamAddress: "localhost:43073"
clientAddress: "localhost:41875"
adminAddress: "localhost:36139"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40237"
dataStreamAddress: "localhost:33723"
clientAddress: "localhost:44849"
adminAddress: "localhost:43387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40705"
dataStreamAddress: "localhost:35097"
clientAddress: "localhost:37579"
adminAddress: "localhost:41207"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:06,348 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-C3E9AA6170F9: set configuration 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,348 [Thread-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s3@group-C3E9AA6170F9: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:7, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:42219"
dataStreamAddress: "localhost:37601"
clientAddress: "localhost:36081"
adminAddress: "localhost:33767"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41277"
dataStreamAddress: "localhost:40265"
clientAddress: "localhost:37665"
adminAddress: "localhost:43681"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41401"
dataStreamAddress: "localhost:43073"
clientAddress: "localhost:41875"
adminAddress: "localhost:36139"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40237"
dataStreamAddress: "localhost:33723"
clientAddress: "localhost:44849"
adminAddress: "localhost:43387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40705"
dataStreamAddress: "localhost:35097"
clientAddress: "localhost:37579"
adminAddress: "localhost:41207"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:06,346 [Thread-9] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-C3E9AA6170F9: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:4, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:42219"
dataStreamAddress: "localhost:37601"
clientAddress: "localhost:36081"
adminAddress: "localhost:33767"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:41277"
dataStreamAddress: "localhost:40265"
clientAddress: "localhost:37665"
adminAddress: "localhost:43681"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:41401"
dataStreamAddress: "localhost:43073"
clientAddress: "localhost:41875"
adminAddress: "localhost:36139"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40237"
dataStreamAddress: "localhost:33723"
clientAddress: "localhost:44849"
adminAddress: "localhost:43387"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40705"
dataStreamAddress: "localhost:35097"
clientAddress: "localhost:37579"
adminAddress: "localhost:41207"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:06,349 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s3@group-C3E9AA6170F9: set configuration 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,349 [Thread-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:06,348 [Thread-23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:06,348 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-C3E9AA6170F9: set configuration 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,354 [Thread-30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:06,349 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s4@group-C3E9AA6170F9: set configuration 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,359 [Thread-9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:06,375 [s2@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s2/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current/log_inprogress_0
2022-07-21 18:24:06,375 [s4@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s4/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current/log_inprogress_0
2022-07-21 18:24:06,376 [s3@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s3/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current/log_inprogress_0
2022-07-21 18:24:06,377 [s1@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc85d47eda/s1/fc2ba6b5-97d1-492b-b128-c3e9aa6170f9/current/log_inprogress_0
2022-07-21 18:24:06,378 [Thread-83] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-C3E9AA6170F9: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:06,378 [Thread-84] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s3@group-C3E9AA6170F9: succeeded to handle AppendEntries. Reply: s0<-s3#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:06,379 [Thread-85] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-C3E9AA6170F9: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:06,379 [Thread-86] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-C3E9AA6170F9: succeeded to handle AppendEntries. Reply: s0<-s4#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:06,430 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:06,430 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(229)) - firstLeader = s0
2022-07-21 18:24:06,431 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(234)) - enforce leader to s3
2022-07-21 18:24:06,431 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(240)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:06,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:06,850 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:472242363ns, electionTimeout:179ms
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection3
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:06,851 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:06,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:07,002 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,003 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,003 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,003 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,003 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,003 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,004 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,004 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,004 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,004 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,004 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection3: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:07,004 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:FAIL-t1
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection3 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:07,005 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:07,005 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection3
2022-07-21 18:24:07,005 [s3@group-C3E9AA6170F9-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:07,055 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 204ms
2022-07-21 18:24:07,334 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:07,334 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:07,644 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:357238599ns, electionTimeout:219ms
2022-07-21 18:24:07,644 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:07,644 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:07,645 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:07,645 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection4
2022-07-21 18:24:07,645 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:07,645 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,785 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:07,796 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,797 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,797 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,797 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,797 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,797 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:07,797 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,797 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,797 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,797 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection4: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:07,797 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:07,797 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:07,797 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:07,798 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:07,798 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:07,798 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection4
2022-07-21 18:24:07,798 [s3@group-C3E9AA6170F9-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:07,798 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:07,798 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:07,798 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:07,963 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 317ms
2022-07-21 18:24:08,235 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:08,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:08,531 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:339508017ns, electionTimeout:284ms
2022-07-21 18:24:08,531 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,532 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:08,532 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:08,532 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection5
2022-07-21 18:24:08,532 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:08,532 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,659 [s1@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225034064ns, electionTimeout:195ms
2022-07-21 18:24:08,660 [s1@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,660 [s1@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:08,660 [s1@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:08,660 [s1@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C3E9AA6170F9-LeaderElection6
2022-07-21 18:24:08,660 [s1@group-C3E9AA6170F9-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:08,661 [s1@group-C3E9AA6170F9-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-C3E9AA6170F9-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,661 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-21 18:24:08,661 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-C3E9AA6170F9-LeaderElection6
2022-07-21 18:24:08,661 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,662 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1ms
2022-07-21 18:24:08,662 [s1@group-C3E9AA6170F9-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C3E9AA6170F9-LeaderElection6: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-07-21 18:24:08,662 [s1@group-C3E9AA6170F9-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-C3E9AA6170F9-LeaderElection6 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:08,683 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,683 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:08,684 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,684 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,684 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,684 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,684 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,684 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,684 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,684 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection5: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:08,684 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:FAIL-t1
2022-07-21 18:24:08,684 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:FAIL-t1
2022-07-21 18:24:08,684 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:08,684 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:08,685 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:08,685 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection5
2022-07-21 18:24:08,685 [s3@group-C3E9AA6170F9-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,683 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,685 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,685 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:08,812 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s1, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,812 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s1, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,812 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,812 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-21 18:24:08,813 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,813 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,813 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s1, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,813 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,813 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,863 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178586497ns, electionTimeout:178ms
2022-07-21 18:24:08,863 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,863 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:08,864 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:08,864 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection7
2022-07-21 18:24:08,864 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,865 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,865 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,866 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,866 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,866 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:08,866 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,866 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,866 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,866 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,867 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,867 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,867 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:08,867 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection7
2022-07-21 18:24:08,868 [s3@group-C3E9AA6170F9-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:08,872 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 339ms
2022-07-21 18:24:08,962 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s3@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s1, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:08,962 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-07-21 18:24:08,962 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s3@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,137 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:09,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:09,463 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:361478134ns, electionTimeout:204ms
2022-07-21 18:24:09,463 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:09,463 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:09,464 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:09,464 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection8
2022-07-21 18:24:09,464 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:09,464 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,521 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:179494205ns, electionTimeout:172ms
2022-07-21 18:24:09,521 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:09,521 [s4@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:09,521 [s4@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:09,521 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-LeaderElection9
2022-07-21 18:24:09,522 [s4@group-C3E9AA6170F9-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:09,523 [s4@group-C3E9AA6170F9-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-C3E9AA6170F9-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,568 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-21 18:24:09,568 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-C3E9AA6170F9-LeaderElection9
2022-07-21 18:24:09,568 [Thread-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:09,568 [Thread-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 46ms
2022-07-21 18:24:09,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:09,615 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,615 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:09,615 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,616 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,616 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,615 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,616 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,616 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,616 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,616 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,617 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,616 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,617 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection8: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:09,617 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:FAIL-t1
2022-07-21 18:24:09,617 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:FAIL-t1
2022-07-21 18:24:09,617 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:09,617 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:09,618 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:09,618 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection8
2022-07-21 18:24:09,618 [s3@group-C3E9AA6170F9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:09,675 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s4, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,675 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2022-07-21 18:24:09,675 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,675 [s4@group-C3E9AA6170F9-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-C3E9AA6170F9-LeaderElection9: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:09,675 [s4@group-C3E9AA6170F9-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-07-21 18:24:09,676 [s4@group-C3E9AA6170F9-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-C3E9AA6170F9-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:09,677 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s4, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,677 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,678 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,677 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s4, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,678 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,678 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:09,778 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 313ms
2022-07-21 18:24:09,824 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s3@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s4, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:09,824 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s0
2022-07-21 18:24:09,824 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s3@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,038 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:10,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:10,327 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:319082705ns, electionTimeout:228ms
2022-07-21 18:24:10,328 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:10,328 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:10,328 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:10,328 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection10
2022-07-21 18:24:10,333 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:10,333 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,483 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:10,484 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:10,484 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,484 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:10,486 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:10,484 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:10,487 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:10,487 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,484 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:10,487 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:10,488 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,486 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:10,488 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection10: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:10,488 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:10,488 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:10,489 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:10,489 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection10 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:10,489 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:10,489 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection10
2022-07-21 18:24:10,489 [s3@group-C3E9AA6170F9-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:10,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:10,684 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 351ms
2022-07-21 18:24:10,940 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:10,941 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:11,272 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:358872301ns, electionTimeout:258ms
2022-07-21 18:24:11,272 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:11,272 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:11,272 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:11,272 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection11
2022-07-21 18:24:11,273 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:11,273 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:11,391 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:11,425 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:11,426 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:11,426 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:11,426 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:11,425 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:11,425 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:11,426 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:11,426 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:11,426 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:11,426 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:11,426 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:11,427 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:11,427 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:11,427 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:11,427 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:FAIL-t1
2022-07-21 18:24:11,427 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:11,428 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:11,428 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:11,428 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection11
2022-07-21 18:24:11,428 [s3@group-C3E9AA6170F9-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:11,589 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 315ms
2022-07-21 18:24:11,842 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:11,842 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:12,175 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:357818788ns, electionTimeout:265ms
2022-07-21 18:24:12,176 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:12,176 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:12,176 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:12,176 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection12
2022-07-21 18:24:12,177 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:12,177 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:12,293 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:12,327 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:12,328 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:12,328 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:12,328 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:12,328 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:12,328 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:12,335 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:12,335 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:12,335 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:12,335 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:12,336 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:12,336 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:12,336 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection12: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:12,336 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:12,336 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:12,336 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:12,336 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:12,337 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:12,337 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection12
2022-07-21 18:24:12,337 [s3@group-C3E9AA6170F9-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:12,494 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 316ms
2022-07-21 18:24:12,743 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:12,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:13,069 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:346682374ns, electionTimeout:209ms
2022-07-21 18:24:13,069 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:13,069 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:13,069 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:13,069 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection13
2022-07-21 18:24:13,070 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:13,070 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,194 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:13,221 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,222 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:13,222 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,222 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,222 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,221 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,222 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,222 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,222 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,223 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,223 [Thread-28] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,223 [Thread-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,223 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection13: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection13
2022-07-21 18:24:13,224 [s3@group-C3E9AA6170F9-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:13,378 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154109143ns, electionTimeout:150ms
2022-07-21 18:24:13,379 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:13,379 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:13,379 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:13,379 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection14
2022-07-21 18:24:13,384 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,388 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,388 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,388 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,390 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,395 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:13,395 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,396 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,398 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,398 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,398 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection14: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:13,399 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:13,399 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:13,399 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:13,396 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:13,400 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:13,400 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:13,399 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-21 18:24:13,400 [Thread-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection14
2022-07-21 18:24:13,400 [Thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:13,399 [s3@group-C3E9AA6170F9-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:13,401 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 330ms
2022-07-21 18:24:13,644 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:13,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:14,045 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:414838553ns, electionTimeout:168ms
2022-07-21 18:24:14,045 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,045 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:14,046 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:14,046 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection15
2022-07-21 18:24:14,046 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:14,049 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,095 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:14,199 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:14,200 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:14,200 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:14,200 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:14,200 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,200 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,202 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:14,203 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:14,203 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,203 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:14,204 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:14,204 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,204 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection15: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s2#0:FAIL-t1
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection15
2022-07-21 18:24:14,205 [s3@group-C3E9AA6170F9-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,306 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 259ms
2022-07-21 18:24:14,545 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:14,546 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:14,739 [s2@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226387165ns, electionTimeout:162ms
2022-07-21 18:24:14,739 [s2@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,740 [s2@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:14,740 [s2@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:14,740 [s2@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C3E9AA6170F9-LeaderElection16
2022-07-21 18:24:14,740 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-21 18:24:14,740 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-C3E9AA6170F9-LeaderElection16
2022-07-21 18:24:14,740 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,947 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:412341625ns, electionTimeout:227ms
2022-07-21 18:24:14,947 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,947 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:14,947 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:14,947 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection17
2022-07-21 18:24:14,948 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:14,948 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:14,968 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223977541ns, electionTimeout:180ms
2022-07-21 18:24:14,968 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,968 [s4@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:14,968 [s4@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:14,968 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-LeaderElection18
2022-07-21 18:24:14,970 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-21 18:24:14,970 [Thread-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-C3E9AA6170F9-LeaderElection18
2022-07-21 18:24:14,970 [Thread-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:14,971 [s4@group-C3E9AA6170F9-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:run(231)) - s4@group-C3E9AA6170F9-LeaderElection18: skip running since this is already CLOSING
2022-07-21 18:24:14,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:15,099 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,099 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,099 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,099 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,099 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:15,099 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,099 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,100 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,099 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,099 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,100 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,100 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection17: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection17
2022-07-21 18:24:15,100 [s3@group-C3E9AA6170F9-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:15,210 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 262ms
2022-07-21 18:24:15,447 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s3 but new leader is s0
2022-07-21 18:24:15,447 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:15,765 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:326799566ns, electionTimeout:165ms
2022-07-21 18:24:15,765 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:15,765 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:15,765 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:15,765 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection19
2022-07-21 18:24:15,766 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:15,766 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,897 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:15,917 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,917 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,917 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:15,917 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,918 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,917 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,918 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,918 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,918 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,917 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:15,918 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection19: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:15,918 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:15,918 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:15,918 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:15,918 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:15,918 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:15,918 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:15,919 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:15,919 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection19
2022-07-21 18:24:15,919 [s3@group-C3E9AA6170F9-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:15,967 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(315)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:16,102 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C3E9AA6170F9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:183399632ns, electionTimeout:183ms
2022-07-21 18:24:16,102 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,102 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:16,102 [s3@group-C3E9AA6170F9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:16,102 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-LeaderElection20
2022-07-21 18:24:16,103 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-C3E9AA6170F9-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,104 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:16,104 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-C3E9AA6170F9-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-21 18:24:16,104 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,104 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:16,104 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:16,105 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,105 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:16,105 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:16,105 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C3E9AA6170F9-LeaderElection20: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:FAIL-t1
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s3<-s1#0:FAIL-t1
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-C3E9AA6170F9-LeaderElection20 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-C3E9AA6170F9: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C3E9AA6170F9-LeaderElection20
2022-07-21 18:24:16,105 [s3@group-C3E9AA6170F9-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,106 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-C3E9AA6170F9: receive requestVote(PRE_VOTE, s3, group-C3E9AA6170F9, 1, (t:1, i:0))
2022-07-21 18:24:16,106 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-C3E9AA6170F9-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s0
2022-07-21 18:24:16,106 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-C3E9AA6170F9 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,114 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-C3E9AA6170F9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 347ms
2022-07-21 18:24:16,348 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(246)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:16,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:16,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:16,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:16,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:16,348 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:16,349 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s3@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C3E9AA6170F9:t1, leader=s0, voted=s3, raftlog=Memoized:s4@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C3E9AA6170F9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C3E9AA6170F9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:42219|admin:localhost:33767|client:localhost:36081|dataStream:localhost:37601|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:41277|admin:localhost:43681|client:localhost:37665|dataStream:localhost:40265|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:41401|admin:localhost:36139|client:localhost:41875|dataStream:localhost:43073|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40237|admin:localhost:43387|client:localhost:44849|dataStream:localhost:33723|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40705|admin:localhost:41207|client:localhost:37579|dataStream:localhost:35097|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:16,352 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s4: close
2022-07-21 18:24:16,352 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s3: close
2022-07-21 18:24:16,353 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:16,353 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s4@group-C3E9AA6170F9: shutdown
2022-07-21 18:24:16,353 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s3@group-C3E9AA6170F9: shutdown
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s3
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s4
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-C3E9AA6170F9: shutdown
2022-07-21 18:24:16,355 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-C3E9AA6170F9-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:16,355 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s1
2022-07-21 18:24:16,355 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,355 [s1@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:16,355 [s3@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:16,356 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s4@group-C3E9AA6170F9: closes. applyIndex: 0
2022-07-21 18:24:16,357 [s4@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:16,354 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-C3E9AA6170F9: shutdown
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s0
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C3E9AA6170F9-LeaderStateImpl
2022-07-21 18:24:16,359 [s0@group-C3E9AA6170F9->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-C3E9AA6170F9->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:16,359 [s0@group-C3E9AA6170F9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-C3E9AA6170F9->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:16,359 [s0@group-C3E9AA6170F9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-C3E9AA6170F9->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:16,359 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C3E9AA6170F9-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@11f8fc70[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-C3E9AA6170F9-SegmentedRaftLogWorker close()
2022-07-21 18:24:16,361 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,362 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,362 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,362 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,362 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,362 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-C3E9AA6170F9-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:16,362 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-C3E9AA6170F9: closes. applyIndex: 0
2022-07-21 18:24:16,363 [s0@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:16,363 [java.util.concurrent.ThreadPoolExecutor$Worker@13182af4[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-C3E9AA6170F9-SegmentedRaftLogWorker close()
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-C3E9AA6170F9-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:16,358 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-C3E9AA6170F9-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:16,358 [s4@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:16,362 [Thread-7] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,364 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@6214af3c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-07-21 18:24:16,360 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-C3E9AA6170F9: shutdown
2022-07-21 18:24:16,359 [s0@group-C3E9AA6170F9->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-C3E9AA6170F9->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:16,364 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-C3E9AA6170F9: closes. applyIndex: 0
2022-07-21 18:24:16,364 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s3@group-C3E9AA6170F9: closes. applyIndex: 0
2022-07-21 18:24:16,365 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,365 [s3@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:16,365 [s1@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:16,365 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,365 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C3E9AA6170F9,id=s2
2022-07-21 18:24:16,365 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,366 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C3E9AA6170F9-FollowerState
2022-07-21 18:24:16,366 [java.util.concurrent.ThreadPoolExecutor$Worker@124352e2[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-C3E9AA6170F9-SegmentedRaftLogWorker close()
2022-07-21 18:24:16,366 [s2@group-C3E9AA6170F9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C3E9AA6170F9-FollowerState was interrupted
2022-07-21 18:24:16,367 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,367 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,367 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,367 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@7800aea5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:16,367 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-C3E9AA6170F9-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:16,368 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-C3E9AA6170F9: closes. applyIndex: 0
2022-07-21 18:24:16,368 [java.util.concurrent.ThreadPoolExecutor$Worker@24c17304[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-C3E9AA6170F9-SegmentedRaftLogWorker close()
2022-07-21 18:24:16,369 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,369 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,369 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,369 [s2@group-C3E9AA6170F9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:16,369 [Thread-24] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,369 [Thread-25] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,370 [Thread-26] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,370 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,370 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,370 [java.util.concurrent.ThreadPoolExecutor$Worker@2c9df13c[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-C3E9AA6170F9-SegmentedRaftLogWorker close()
2022-07-21 18:24:16,370 [Thread-31] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [Thread-23] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [Thread-21] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [Thread-22] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [Thread-32] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@713a2c8c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:16,371 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [Thread-33] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,371 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@3c14d348] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-07-21 18:24:16,371 [Thread-28] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,372 [Thread-29] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,372 [Thread-30] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:16,372 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@5861559] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:16,374 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:16,381 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:16,381 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:16,381 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:16,381 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:16,382 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-07-21 18:24:16,382 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:16,383 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0
2022-07-21 18:24:16,383 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0 does not exist.
2022-07-21 18:24:16,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:16,384 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0] (custom)
2022-07-21 18:24:16,392 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] returns group-ADFF3D0B0A00:java.util.concurrent.CompletableFuture@f5dceaf[Not completed]
2022-07-21 18:24:16,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:16,392 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1
2022-07-21 18:24:16,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1 does not exist.
2022-07-21 18:24:16,393 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:16,393 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1] (custom)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-ADFF3D0B0A00: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0] (custom)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:16,394 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:16,395 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:16,396 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] returns group-ADFF3D0B0A00:java.util.concurrent.CompletableFuture@ebbae2e[Not completed]
2022-07-21 18:24:16,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:16,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2
2022-07-21 18:24:16,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2 does not exist.
2022-07-21 18:24:16,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:16,397 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2] (custom)
2022-07-21 18:24:16,397 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-ADFF3D0B0A00: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1] (custom)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:16,398 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:16,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:16,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:16,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:16,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:16,399 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:16,404 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] returns group-ADFF3D0B0A00:java.util.concurrent.CompletableFuture@46a66869[Not completed]
2022-07-21 18:24:16,405 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00 does not exist. Creating ...
2022-07-21 18:24:16,405 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,405 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-ADFF3D0B0A00:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-ADFF3D0B0A00: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2] (custom)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:16,406 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:16,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:16,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:16,407 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:16,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:16,408 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:16,411 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:16,411 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current
2022-07-21 18:24:16,411 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00/sm
2022-07-21 18:24:16,412 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00 has been successfully formatted.
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:16,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,414 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,419 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-ADFF3D0B0A00: start as a follower, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,419 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-ADFF3D0B0A00: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:16,419 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,427 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s0
2022-07-21 18:24:16,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:16,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:16,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:16,428 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:16,429 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@15bf644d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:16,429 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00 does not exist. Creating ...
2022-07-21 18:24:16,430 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,431 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:16,431 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current
2022-07-21 18:24:16,431 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/sm
2022-07-21 18:24:16,432 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00 has been successfully formatted.
2022-07-21 18:24:16,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:16,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:16,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:16,432 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:16,433 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-ADFF3D0B0A00: start as a follower, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-ADFF3D0B0A00: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,434 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s1
2022-07-21 18:24:16,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:16,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:16,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:16,435 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:16,436 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00 does not exist. Creating ...
2022-07-21 18:24:16,436 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,436 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@6b3caa2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:16,437 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:16,438 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current
2022-07-21 18:24:16,438 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/sm
2022-07-21 18:24:16,438 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00 has been successfully formatted.
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:16,439 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:16,440 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-ADFF3D0B0A00: start as a follower, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-ADFF3D0B0A00: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s2
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:16,441 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:16,442 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:16,442 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2143872c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:16,443 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:16,443 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:16,443 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s0@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:16,443 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s0@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s0@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:115)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:16,620 [s0@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-ADFF3D0B0A00-FollowerState: change to CANDIDATE, lastRpcElapsedTime:201042407ns, electionTimeout:192ms
2022-07-21 18:24:16,620 [s0@group-ADFF3D0B0A00-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,621 [s0@group-ADFF3D0B0A00-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-ADFF3D0B0A00: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:16,621 [s0@group-ADFF3D0B0A00-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:16,621 [s0@group-ADFF3D0B0A00-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ADFF3D0B0A00-LeaderElection21
2022-07-21 18:24:16,622 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-ADFF3D0B0A00-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,622 [Thread-504] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-ADFF3D0B0A00: receive requestVote(PRE_VOTE, s0, group-ADFF3D0B0A00, 0, (t:0, i:0))
2022-07-21 18:24:16,622 [Thread-504] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-ADFF3D0B0A00-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:16,622 [Thread-504] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-ADFF3D0B0A00 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,623 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-ADFF3D0B0A00-LeaderElection21: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:16,623 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-07-21 18:24:16,623 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-ADFF3D0B0A00-LeaderElection21 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:16,623 [Thread-511] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-ADFF3D0B0A00: receive requestVote(PRE_VOTE, s0, group-ADFF3D0B0A00, 0, (t:0, i:0))
2022-07-21 18:24:16,623 [Thread-511] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-ADFF3D0B0A00-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:16,624 [Thread-511] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-ADFF3D0B0A00 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-ADFF3D0B0A00:t0, leader=null, voted=, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,625 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-ADFF3D0B0A00-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,632 [Thread-505] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-ADFF3D0B0A00: receive requestVote(ELECTION, s0, group-ADFF3D0B0A00, 1, (t:0, i:0))
2022-07-21 18:24:16,632 [Thread-505] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-ADFF3D0B0A00-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:16,632 [Thread-505] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-ADFF3D0B0A00: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:16,632 [Thread-505] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,632 [Thread-505] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,635 [s1@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-ADFF3D0B0A00-FollowerState was interrupted
2022-07-21 18:24:16,636 [Thread-512] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-ADFF3D0B0A00: receive requestVote(ELECTION, s0, group-ADFF3D0B0A00, 1, (t:0, i:0))
2022-07-21 18:24:16,636 [Thread-512] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-ADFF3D0B0A00-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:16,636 [Thread-512] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-ADFF3D0B0A00: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:16,636 [Thread-512] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,636 [Thread-512] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:16,637 [s2@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-ADFF3D0B0A00-FollowerState was interrupted
2022-07-21 18:24:16,638 [Thread-505] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-ADFF3D0B0A00 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-ADFF3D0B0A00:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-ADFF3D0B0A00-LeaderElection21: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-ADFF3D0B0A00-LeaderElection21 ELECTION round 0: result PASSED
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-ADFF3D0B0A00-LeaderElection21
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-ADFF3D0B0A00: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:16,638 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-ADFF3D0B0A00: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 243ms
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:16,639 [Thread-512] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-ADFF3D0B0A00 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-ADFF3D0B0A00:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:16,639 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:16,640 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:16,640 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:16,640 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:16,642 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:16,642 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:16,642 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:16,642 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ADFF3D0B0A00-LeaderStateImpl
2022-07-21 18:24:16,642 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:16,649 [s0@group-ADFF3D0B0A00-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-ADFF3D0B0A00: set configuration 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,651 [Thread-506] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-ADFF3D0B0A00: change Leader from null to s0 at term 1 for appendEntries, leader elected after 252ms
2022-07-21 18:24:16,652 [Thread-513] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-ADFF3D0B0A00: change Leader from null to s0 at term 1 for appendEntries, leader elected after 246ms
2022-07-21 18:24:16,654 [Thread-504] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:315, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36103"
dataStreamAddress: "localhost:44379"
clientAddress: "localhost:35313"
adminAddress: "localhost:46823"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46707"
dataStreamAddress: "localhost:42251"
clientAddress: "localhost:36549"
adminAddress: "localhost:37957"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46325"
dataStreamAddress: "localhost:35091"
clientAddress: "localhost:42461"
adminAddress: "localhost:42459"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:16,655 [Thread-504] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-ADFF3D0B0A00: set configuration 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,655 [Thread-504] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:16,659 [s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s0/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0
2022-07-21 18:24:16,660 [Thread-511] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-ADFF3D0B0A00: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:316, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36103"
dataStreamAddress: "localhost:44379"
clientAddress: "localhost:35313"
adminAddress: "localhost:46823"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46707"
dataStreamAddress: "localhost:42251"
clientAddress: "localhost:36549"
adminAddress: "localhost:37957"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46325"
dataStreamAddress: "localhost:35091"
clientAddress: "localhost:42461"
adminAddress: "localhost:42459"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:16,663 [Thread-511] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-ADFF3D0B0A00: set configuration 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:16,663 [Thread-511] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:16,673 [s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0
2022-07-21 18:24:16,674 [s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0
2022-07-21 18:24:16,677 [Thread-540] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-ADFF3D0B0A00: succeeded to handle AppendEntries. Reply: s0<-s2#316:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:16,677 [Thread-541] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: succeeded to handle AppendEntries. Reply: s0<-s1#315:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:16,894 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-ADFF3D0B0A00:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ADFF3D0B0A00:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-ADFF3D0B0A00:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:17,040 [s2@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-ADFF3D0B0A00-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206945765ns, electionTimeout:157ms
2022-07-21 18:24:17,040 [s2@group-ADFF3D0B0A00-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,040 [s2@group-ADFF3D0B0A00-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-ADFF3D0B0A00: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:17,040 [s2@group-ADFF3D0B0A00-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:17,040 [s2@group-ADFF3D0B0A00-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ADFF3D0B0A00-LeaderElection22
2022-07-21 18:24:17,041 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-ADFF3D0B0A00: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-21 18:24:17,041 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-ADFF3D0B0A00-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,042 [Thread-497] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:17,042 [Thread-505] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-ADFF3D0B0A00: receive requestVote(PRE_VOTE, s2, group-ADFF3D0B0A00, 1, (t:1, i:0))
2022-07-21 18:24:17,043 [Thread-505] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-ADFF3D0B0A00-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:17,043 [Thread-505] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-ADFF3D0B0A00 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-ADFF3D0B0A00:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,043 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-ADFF3D0B0A00-LeaderElection22: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:17,043 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2022-07-21 18:24:17,043 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-ADFF3D0B0A00-LeaderElection22 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:17,045 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-ADFF3D0B0A00-LeaderElection22 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,045 [Thread-498] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:17,046 [Thread-506] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-ADFF3D0B0A00: receive requestVote(ELECTION, s2, group-ADFF3D0B0A00, 2, (t:1, i:0))
2022-07-21 18:24:17,046 [Thread-506] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-ADFF3D0B0A00-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:17,046 [Thread-506] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-ADFF3D0B0A00: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:17,046 [Thread-506] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-ADFF3D0B0A00: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2022-07-21 18:24:17,046 [Thread-506] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,046 [Thread-506] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,051 [s1@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-ADFF3D0B0A00-FollowerState was interrupted
2022-07-21 18:24:17,053 [Thread-506] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-ADFF3D0B0A00 replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-ADFF3D0B0A00:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-ADFF3D0B0A00-LeaderElection22: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-ADFF3D0B0A00-LeaderElection22 ELECTION round 0: result PASSED
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-ADFF3D0B0A00-LeaderElection22
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-ADFF3D0B0A00: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-ADFF3D0B0A00: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 12ms
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:17,053 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,054 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:17,055 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:17,055 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,055 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:17,055 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-ADFF3D0B0A00-LeaderStateImpl
2022-07-21 18:24:17,056 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:17,058 [s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_0-0
2022-07-21 18:24:17,058 [s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_0-0
2022-07-21 18:24:17,059 [s2@group-ADFF3D0B0A00-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-ADFF3D0B0A00: set configuration 1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,059 [Thread-499] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:17,059 [Thread-504] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-ADFF3D0B0A00: change Leader from null to s2 at term 2 for appendEntries, leader elected after 13ms
2022-07-21 18:24:17,061 [Thread-505] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: receive appendEntries(s2, 2, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:325, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36103"
dataStreamAddress: "localhost:44379"
clientAddress: "localhost:35313"
adminAddress: "localhost:46823"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46707"
dataStreamAddress: "localhost:42251"
clientAddress: "localhost:36549"
adminAddress: "localhost:37957"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46325"
dataStreamAddress: "localhost:35091"
clientAddress: "localhost:42461"
adminAddress: "localhost:42459"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:17,061 [Thread-505] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-ADFF3D0B0A00: set configuration 1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,061 [Thread-505] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:17,063 [s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_0-0
2022-07-21 18:24:17,063 [s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_0-0
2022-07-21 18:24:17,078 [s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s1/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_1
2022-07-21 18:24:17,078 [s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc38aae28e/s2/f72dca05-a28b-4b59-af7e-adff3d0b0a00/current/log_inprogress_1
2022-07-21 18:24:17,081 [Thread-556] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: succeeded to handle AppendEntries. Reply: s2<-s1#325:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:17,085 [Thread-506] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: receive appendEntries(s2, 2, (t:2, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:326, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:17,087 [Thread-557] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-ADFF3D0B0A00: succeeded to handle AppendEntries. Reply: s2<-s1#326:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:17,278 [s0@group-ADFF3D0B0A00-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-ADFF3D0B0A00-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 639ms. Conf: 0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,279 [s0@group-ADFF3D0B0A00-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-ADFF3D0B0A00->s1(c0,m0,n1, attendVote=true, lastRpcSendTime=370, lastRpcResponseTime=446)
2022-07-21 18:24:17,279 [s0@group-ADFF3D0B0A00-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-ADFF3D0B0A00->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=371, lastRpcResponseTime=446)
2022-07-21 18:24:17,279 [s0@group-ADFF3D0B0A00-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-ADFF3D0B0A00: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:17,279 [s0@group-ADFF3D0B0A00-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-ADFF3D0B0A00-LeaderStateImpl
2022-07-21 18:24:17,281 [s0@group-ADFF3D0B0A00-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-ADFF3D0B0A00-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:17,281 [s0@group-ADFF3D0B0A00-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,281 [s0@group-ADFF3D0B0A00->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-ADFF3D0B0A00->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:17,285 [s0@group-ADFF3D0B0A00->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-ADFF3D0B0A00->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s0@group-ADFF3D0B0A00-FollowerState: Skipping leader election since it stepped down recently (elapsed = 215ms < waitTime = 10s)
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:17,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-ADFF3D0B0A00:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-ADFF3D0B0A00:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-ADFF3D0B0A00:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-ADFF3D0B0A00-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:36103|admin:localhost:46823|client:localhost:35313|dataStream:localhost:44379|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46707|admin:localhost:37957|client:localhost:36549|dataStream:localhost:42251|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46325|admin:localhost:42459|client:localhost:42461|dataStream:localhost:35091|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:17,498 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:17,500 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:17,500 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-ADFF3D0B0A00: shutdown
2022-07-21 18:24:17,500 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:17,500 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-ADFF3D0B0A00: shutdown
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-ADFF3D0B0A00: shutdown
2022-07-21 18:24:17,500 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s1
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-ADFF3D0B0A00-StateMachineUpdater: set stopIndex = 2
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s2
2022-07-21 18:24:17,502 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-ADFF3D0B0A00-LeaderStateImpl
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ADFF3D0B0A00,id=s0
2022-07-21 18:24:17,502 [s2@group-ADFF3D0B0A00->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-ADFF3D0B0A00->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:17,501 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-ADFF3D0B0A00: closes. applyIndex: 2
2022-07-21 18:24:17,501 [s1@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-ADFF3D0B0A00-FollowerState was interrupted
2022-07-21 18:24:17,502 [s2@group-ADFF3D0B0A00->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-ADFF3D0B0A00->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:17,502 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-ADFF3D0B0A00-FollowerState
2022-07-21 18:24:17,503 [s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:17,503 [s0@group-ADFF3D0B0A00-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-ADFF3D0B0A00-FollowerState was interrupted
2022-07-21 18:24:17,504 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-ADFF3D0B0A00-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:17,505 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-ADFF3D0B0A00: closes. applyIndex: 0
2022-07-21 18:24:17,506 [java.util.concurrent.ThreadPoolExecutor$Worker@34c3551b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-ADFF3D0B0A00-SegmentedRaftLogWorker close()
2022-07-21 18:24:17,505 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-ADFF3D0B0A00-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:17,506 [s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:17,508 [java.util.concurrent.ThreadPoolExecutor$Worker@3a20cd86[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-ADFF3D0B0A00-SegmentedRaftLogWorker close()
2022-07-21 18:24:17,510 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-ADFF3D0B0A00-StateMachineUpdater: set stopIndex = 2
2022-07-21 18:24:17,510 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-ADFF3D0B0A00: closes. applyIndex: 2
2022-07-21 18:24:17,510 [s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:17,512 [Thread-500] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,512 [Thread-501] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,512 [Thread-502] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,515 [java.util.concurrent.ThreadPoolExecutor$Worker@984de48[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-ADFF3D0B0A00-SegmentedRaftLogWorker close()
2022-07-21 18:24:17,516 [Thread-497] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:17,516 [Thread-499] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:17,516 [Thread-498] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:17,516 [Thread-497] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-ADFF3D0B0A00: receive requestVote(PRE_VOTE, s2, group-ADFF3D0B0A00, 1, (t:1, i:0))
2022-07-21 18:24:17,516 [Thread-498] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-ADFF3D0B0A00: receive requestVote(ELECTION, s2, group-ADFF3D0B0A00, 2, (t:1, i:0))
2022-07-21 18:24:17,517 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@15bf644d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:17,518 [Thread-507] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,518 [Thread-509] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,518 [Thread-508] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-504] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-505] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-506] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-514] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-515] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [Thread-516] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,519 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@6b3caa2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:17,520 [Thread-512] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,520 [Thread-511] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,520 [Thread-513] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:17,520 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2143872c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:17,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:17,521 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:17,521 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:17,521 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:17,521 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:17,522 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(255)) - Running testLateServerStart
2022-07-21 18:24:17,522 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:17,523 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:17,523 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:17,523 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:17,523 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0
2022-07-21 18:24:17,523 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0 does not exist.
2022-07-21 18:24:17,523 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0
2022-07-21 18:24:17,523 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:17,524 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:17,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:17,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:17,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0] (custom)
2022-07-21 18:24:17,534 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] returns group-2227B06CE1A7:java.util.concurrent.CompletableFuture@7b463827[Not completed]
2022-07-21 18:24:17,534 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:17,534 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1
2022-07-21 18:24:17,534 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1 does not exist.
2022-07-21 18:24:17,534 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1
2022-07-21 18:24:17,534 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:17,535 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:17,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:17,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:17,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1] (custom)
2022-07-21 18:24:17,535 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-2227B06CE1A7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0] (custom)
2022-07-21 18:24:17,536 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:17,537 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:17,538 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:17,538 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:17,538 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] returns group-2227B06CE1A7:java.util.concurrent.CompletableFuture@f30a4d0[Not completed]
2022-07-21 18:24:17,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:17,538 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2
2022-07-21 18:24:17,538 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2 does not exist.
2022-07-21 18:24:17,538 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2
2022-07-21 18:24:17,539 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:17,539 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:17,539 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2] (custom)
2022-07-21 18:24:17,539 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-2227B06CE1A7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1] (custom)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:17,540 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:17,541 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:17,541 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:17,541 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:17,545 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:17,545 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:17,545 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:17,545 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:17,546 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:17,546 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] returns group-2227B06CE1A7:java.util.concurrent.CompletableFuture@78a43d7f[Not completed]
2022-07-21 18:24:17,546 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7 does not exist. Creating ...
2022-07-21 18:24:17,546 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-2227B06CE1A7:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:17,547 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-2227B06CE1A7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:17,547 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2] (custom)
2022-07-21 18:24:17,548 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:17,548 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:17,548 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:17,548 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:17,548 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:17,549 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:17,549 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:17,549 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:17,549 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:17,549 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:17,549 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:17,549 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7/current
2022-07-21 18:24:17,549 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7/sm
2022-07-21 18:24:17,550 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7 has been successfully formatted.
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-2227B06CE1A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:17,551 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-2227B06CE1A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-2227B06CE1A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:17,552 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-2227B06CE1A7: start as a follower, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,553 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-2227B06CE1A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:17,553 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:17,556 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2227B06CE1A7,id=s0
2022-07-21 18:24:17,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:17,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:17,557 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:17,557 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:17,561 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@72b8109f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:17,561 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7 does not exist. Creating ...
2022-07-21 18:24:17,561 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:17,562 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:17,562 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7/current
2022-07-21 18:24:17,563 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7/sm
2022-07-21 18:24:17,563 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7 has been successfully formatted.
2022-07-21 18:24:17,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-2227B06CE1A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:17,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-2227B06CE1A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-2227B06CE1A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-2227B06CE1A7: start as a follower, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-2227B06CE1A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:17,565 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2227B06CE1A7,id=s1
2022-07-21 18:24:17,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:17,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:17,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:17,566 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:17,567 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:17,567 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@5ef9d963] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:17,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s0@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-2227B06CE1A7:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-07-21 18:24:17,567 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s0@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-2227B06CE1A7:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s0@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-2227B06CE1A7:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:265)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:17,768 [s0@group-2227B06CE1A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2227B06CE1A7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:215391948ns, electionTimeout:211ms
2022-07-21 18:24:17,768 [s0@group-2227B06CE1A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:17,768 [s0@group-2227B06CE1A7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-2227B06CE1A7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:17,769 [s0@group-2227B06CE1A7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:17,769 [s0@group-2227B06CE1A7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2227B06CE1A7-LeaderElection23
2022-07-21 18:24:17,773 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2227B06CE1A7-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,774 [Thread-574] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-2227B06CE1A7: receive requestVote(PRE_VOTE, s0, group-2227B06CE1A7, 0, (t:0, i:0))
2022-07-21 18:24:17,774 [Thread-574] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2227B06CE1A7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:17,774 [Thread-574] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-2227B06CE1A7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,776 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2227B06CE1A7-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:17,776 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-07-21 18:24:17,776 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2227B06CE1A7-LeaderElection23 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:17,778 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-2227B06CE1A7-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,779 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-2227B06CE1A7: receive requestVote(ELECTION, s0, group-2227B06CE1A7, 1, (t:0, i:0))
2022-07-21 18:24:17,779 [Thread-575] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-2227B06CE1A7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:17,779 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-2227B06CE1A7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:17,779 [Thread-575] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:17,779 [Thread-575] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:17,779 [s1@group-2227B06CE1A7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2227B06CE1A7-FollowerState was interrupted
2022-07-21 18:24:17,781 [Thread-575] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-2227B06CE1A7 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2227B06CE1A7:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-2227B06CE1A7-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-2227B06CE1A7-LeaderElection23 ELECTION round 0: result PASSED
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2227B06CE1A7-LeaderElection23
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-2227B06CE1A7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-2227B06CE1A7: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 244ms
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:17,781 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,782 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:17,783 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:17,783 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:17,783 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:17,783 [s0@group-2227B06CE1A7-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2227B06CE1A7-LeaderStateImpl
2022-07-21 18:24:17,783 [s0@group-2227B06CE1A7-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-2227B06CE1A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:17,792 [s0@group-2227B06CE1A7-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-2227B06CE1A7: set configuration 0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,792 [Thread-576] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-2227B06CE1A7: change Leader from null to s0 at term 1 for appendEntries, leader elected after 251ms
2022-07-21 18:24:17,793 [Thread-574] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-2227B06CE1A7: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:334, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46741"
dataStreamAddress: "localhost:44627"
clientAddress: "localhost:38193"
adminAddress: "localhost:35811"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46297"
dataStreamAddress: "localhost:46203"
clientAddress: "localhost:33593"
adminAddress: "localhost:46293"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35361"
dataStreamAddress: "localhost:33921"
clientAddress: "localhost:37977"
adminAddress: "localhost:43275"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:17,793 [s0@group-2227B06CE1A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-2227B06CE1A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s0/99001799-60dc-4838-ac2e-2227b06ce1a7/current/log_inprogress_0
2022-07-21 18:24:17,794 [Thread-574] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-2227B06CE1A7: set configuration 0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:17,794 [Thread-574] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-2227B06CE1A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:17,803 [s1@group-2227B06CE1A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-2227B06CE1A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s1/99001799-60dc-4838-ac2e-2227b06ce1a7/current/log_inprogress_0
2022-07-21 18:24:17,806 [Thread-604] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-2227B06CE1A7: succeeded to handle AppendEntries. Reply: s0<-s1#334:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:18,018 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2227B06CE1A7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2227B06CE1A7:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-2227B06CE1A7:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null NEW
2022-07-21 18:24:18,018 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(267)) - sleep 3s
2022-07-21 18:24:20,794 [s0@group-2227B06CE1A7->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s0@group-2227B06CE1A7->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@34d641bf
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:21,019 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7 does not exist. Creating ...
2022-07-21 18:24:21,019 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:21,022 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:21,022 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7/current
2022-07-21 18:24:21,023 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7/sm
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7 has been successfully formatted.
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-2227B06CE1A7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7
2022-07-21 18:24:21,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:21,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-2227B06CE1A7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-2227B06CE1A7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-2227B06CE1A7: start as a follower, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-2227B06CE1A7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2227B06CE1A7-FollowerState
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2227B06CE1A7,id=s2
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:21,026 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:21,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:21,027 [Thread-581] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-2227B06CE1A7: receive requestVote(PRE_VOTE, s0, group-2227B06CE1A7, 0, (t:0, i:0))
2022-07-21 18:24:21,027 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-2227B06CE1A7: receive requestVote(ELECTION, s0, group-2227B06CE1A7, 1, (t:0, i:0))
2022-07-21 18:24:21,028 [Thread-581] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2227B06CE1A7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:21,028 [Thread-581] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-2227B06CE1A7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-2227B06CE1A7:t0, leader=null, voted=, raftlog=Memoized:s2@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,029 [Thread-581] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-2227B06CE1A7: change Leader from null to s0 at term 1 for appendEntries, leader elected after 3481ms
2022-07-21 18:24:21,030 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(277)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2227B06CE1A7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2227B06CE1A7:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2227B06CE1A7:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:21,030 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:21,030 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:21,030 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:21,030 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:21,031 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@3b37d40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:21,036 [Thread-582] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-2227B06CE1A7-FOLLOWER: reject ELECTION from s0: this server is a follower and still has a valid leader s0
2022-07-21 18:24:21,036 [Thread-582] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-2227B06CE1A7 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-2227B06CE1A7:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-2227B06CE1A7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,037 [Thread-582] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-2227B06CE1A7: receive appendEntries(s0, 1, null, 0, true, commits:[s0:c0, s1:c0, s2:c-1], cId:378, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46741"
dataStreamAddress: "localhost:44627"
clientAddress: "localhost:38193"
adminAddress: "localhost:35811"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46297"
dataStreamAddress: "localhost:46203"
clientAddress: "localhost:33593"
adminAddress: "localhost:46293"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35361"
dataStreamAddress: "localhost:33921"
clientAddress: "localhost:37977"
adminAddress: "localhost:43275"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:21,038 [Thread-582] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-2227B06CE1A7: set configuration 0: peers:[s0|rpc:localhost:46741|admin:localhost:35811|client:localhost:38193|dataStream:localhost:44627|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46297|admin:localhost:46293|client:localhost:33593|dataStream:localhost:46203|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:35361|admin:localhost:43275|client:localhost:37977|dataStream:localhost:33921|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,038 [Thread-582] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-2227B06CE1A7-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:21,042 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:21,042 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:21,043 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0
2022-07-21 18:24:21,043 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0 does not exist.
2022-07-21 18:24:21,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0
2022-07-21 18:24:21,043 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:21,044 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:21,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:21,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:21,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,044 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0] (custom)
2022-07-21 18:24:21,045 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] returns group-7DCBCCA0B5BD:java.util.concurrent.CompletableFuture@fea1cc4[Not completed]
2022-07-21 18:24:21,045 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:21,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:21,045 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:21,045 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:21,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1
2022-07-21 18:24:21,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1 does not exist.
2022-07-21 18:24:21,045 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1
2022-07-21 18:24:21,045 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:21,046 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:21,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:21,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:21,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,046 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1] (custom)
2022-07-21 18:24:21,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:21,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,046 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:21,046 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-7DCBCCA0B5BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0] (custom)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:21,047 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:21,048 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:21,048 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:21,048 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] returns group-7DCBCCA0B5BD:java.util.concurrent.CompletableFuture@7b68ce26[Not completed]
2022-07-21 18:24:21,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:21,048 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2
2022-07-21 18:24:21,048 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2 does not exist.
2022-07-21 18:24:21,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:21,049 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,049 [s2@group-2227B06CE1A7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-2227B06CE1A7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpca83adb25/s2/99001799-60dc-4838-ac2e-2227b06ce1a7/current/log_inprogress_0
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2] (custom)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-7DCBCCA0B5BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1] (custom)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:21,050 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:21,051 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:21,052 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] returns group-7DCBCCA0B5BD:java.util.concurrent.CompletableFuture@79d641d3[Not completed]
2022-07-21 18:24:21,052 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd does not exist. Creating ...
2022-07-21 18:24:21,053 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-7DCBCCA0B5BD:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:21,053 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:21,054 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:21,054 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-7DCBCCA0B5BD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:21,054 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:21,054 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current
2022-07-21 18:24:21,054 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/sm
2022-07-21 18:24:21,054 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2] (custom)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:21,055 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:21,055 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd has been successfully formatted.
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:21,056 [Thread-673] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-2227B06CE1A7: succeeded to handle AppendEntries. Reply: s0<-s2#378:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-07-21 18:24:21,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,057 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-7DCBCCA0B5BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7DCBCCA0B5BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s0
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:21,058 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:21,058 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:21,059 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@44f2b931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:21,059 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd does not exist. Creating ...
2022-07-21 18:24:21,060 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,061 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:21,061 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current
2022-07-21 18:24:21,061 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/sm
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd has been successfully formatted.
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:21,062 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-7DCBCCA0B5BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7DCBCCA0B5BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:21,063 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,064 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s1
2022-07-21 18:24:21,064 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:21,064 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:21,064 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:21,064 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:21,065 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@3fbffe75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:21,065 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd does not exist. Creating ...
2022-07-21 18:24:21,065 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,066 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:21,066 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current
2022-07-21 18:24:21,067 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/sm
2022-07-21 18:24:21,068 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd has been successfully formatted.
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:21,069 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,070 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:21,075 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-7DCBCCA0B5BD: start as a follower, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,075 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7DCBCCA0B5BD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:21,075 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,076 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s2
2022-07-21 18:24:21,076 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:21,076 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:21,076 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:21,076 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:21,077 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2e89227c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:21,078 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:21,078 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:21,078 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:21,261 [s2@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-7DCBCCA0B5BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185178340ns, electionTimeout:184ms
2022-07-21 18:24:21,261 [s2@group-7DCBCCA0B5BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,261 [s2@group-7DCBCCA0B5BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7DCBCCA0B5BD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:21,261 [s2@group-7DCBCCA0B5BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:21,261 [s2@group-7DCBCCA0B5BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7DCBCCA0B5BD-LeaderElection24
2022-07-21 18:24:21,262 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-7DCBCCA0B5BD-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,263 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7DCBCCA0B5BD: receive requestVote(PRE_VOTE, s2, group-7DCBCCA0B5BD, 0, (t:0, i:0))
2022-07-21 18:24:21,263 [Thread-652] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7DCBCCA0B5BD-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:21,263 [Thread-652] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7DCBCCA0B5BD replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,263 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-7DCBCCA0B5BD: receive requestVote(PRE_VOTE, s2, group-7DCBCCA0B5BD, 0, (t:0, i:0))
2022-07-21 18:24:21,264 [Thread-659] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-7DCBCCA0B5BD-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:21,264 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-7DCBCCA0B5BD replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-7DCBCCA0B5BD:t0, leader=null, voted=, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,264 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7DCBCCA0B5BD-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:21,264 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-07-21 18:24:21,264 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-7DCBCCA0B5BD-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:21,266 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-7DCBCCA0B5BD-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,266 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-7DCBCCA0B5BD: receive requestVote(ELECTION, s2, group-7DCBCCA0B5BD, 1, (t:0, i:0))
2022-07-21 18:24:21,266 [Thread-660] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-7DCBCCA0B5BD: receive requestVote(ELECTION, s2, group-7DCBCCA0B5BD, 1, (t:0, i:0))
2022-07-21 18:24:21,267 [Thread-653] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-7DCBCCA0B5BD-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:21,267 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7DCBCCA0B5BD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:21,267 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,267 [Thread-653] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,267 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7DCBCCA0B5BD-FollowerState was interrupted
2022-07-21 18:24:21,272 [Thread-660] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-7DCBCCA0B5BD-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:21,272 [Thread-660] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-7DCBCCA0B5BD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:21,272 [Thread-660] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,272 [Thread-660] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,272 [s1@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7DCBCCA0B5BD-FollowerState was interrupted
2022-07-21 18:24:21,273 [Thread-653] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-7DCBCCA0B5BD replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-7DCBCCA0B5BD:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7DCBCCA0B5BD-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-7DCBCCA0B5BD-LeaderElection24 ELECTION round 0: result PASSED
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-7DCBCCA0B5BD-LeaderElection24
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-7DCBCCA0B5BD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-7DCBCCA0B5BD: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 218ms
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:21,273 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:21,274 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7DCBCCA0B5BD-LeaderStateImpl
2022-07-21 18:24:21,275 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:21,277 [Thread-660] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-7DCBCCA0B5BD replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-7DCBCCA0B5BD:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,284 [s2@group-7DCBCCA0B5BD-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-7DCBCCA0B5BD: set configuration 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,284 [Thread-654] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7DCBCCA0B5BD: change Leader from null to s2 at term 1 for appendEntries, leader elected after 237ms
2022-07-21 18:24:21,285 [Thread-661] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-7DCBCCA0B5BD: change Leader from null to s2 at term 1 for appendEntries, leader elected after 234ms
2022-07-21 18:24:21,286 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:386, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42773"
dataStreamAddress: "localhost:36291"
clientAddress: "localhost:41835"
adminAddress: "localhost:32849"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32957"
dataStreamAddress: "localhost:45579"
clientAddress: "localhost:33603"
adminAddress: "localhost:39445"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44035"
dataStreamAddress: "localhost:42831"
clientAddress: "localhost:46085"
adminAddress: "localhost:39619"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:21,289 [Thread-652] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-7DCBCCA0B5BD: set configuration 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,289 [Thread-652] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:21,289 [s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s2/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current/log_inprogress_0
2022-07-21 18:24:21,290 [Thread-659] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:388, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:42773"
dataStreamAddress: "localhost:36291"
clientAddress: "localhost:41835"
adminAddress: "localhost:32849"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:32957"
dataStreamAddress: "localhost:45579"
clientAddress: "localhost:33603"
adminAddress: "localhost:39445"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44035"
dataStreamAddress: "localhost:42831"
clientAddress: "localhost:46085"
adminAddress: "localhost:39619"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:21,295 [Thread-659] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-7DCBCCA0B5BD: set configuration 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:21,295 [Thread-659] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:21,312 [s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s1/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current/log_inprogress_0
2022-07-21 18:24:21,312 [s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc26ce5e0e/s0/50c4b6cd-e122-4a5c-bc7b-7dcbcca0b5bd/current/log_inprogress_0
2022-07-21 18:24:21,313 [Thread-703] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#388:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:21,313 [Thread-704] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#386:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:21,529 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:21,531 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:21,595 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s2@group-7DCBCCA0B5BD: receive client request(RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=402, seq=0, RW, message)
2022-07-21 18:24:21,613 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-7DCBCCA0B5BD-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=402, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 402@client-BDDBA6FEBE44
2022-07-21 18:24:21,614 [Thread-653] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:404, entries: (t:1, i:1), STATEMACHINELOGENTRY, 402@client-BDDBA6FEBE44
2022-07-21 18:24:21,615 [Thread-660] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:405, entries: (t:1, i:1), STATEMACHINELOGENTRY, 402@client-BDDBA6FEBE44
2022-07-21 18:24:21,617 [Thread-719] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#404:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:21,617 [Thread-720] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#405:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:21,622 [Thread-661] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:407, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:21,622 [Thread-654] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:21,623 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s2@group-7DCBCCA0B5BD: receive client request(RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=409, seq=0, RW, message)
2022-07-21 18:24:21,623 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-7DCBCCA0B5BD-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=409, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 409@client-BDDBA6FEBE44
2022-07-21 18:24:21,624 [Thread-723] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#407:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:21,625 [Thread-659] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:2), 1, true, commits:[s2:c1, s0:c0, s1:c1], cId:410, entries: (t:1, i:3), STATEMACHINELOGENTRY, 409@client-BDDBA6FEBE44
2022-07-21 18:24:21,626 [Thread-724] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#410:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-07-21 18:24:21,626 [Thread-660] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c0, s1:c1], cId:411, entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:21,627 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(390)) - Wait follower s0 timeout and trigger pre-vote
2022-07-21 18:24:21,628 [Thread-726] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#411:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:21,967 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7DCBCCA0B5BD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:350173178ns, electionTimeout:174ms
2022-07-21 18:24:21,967 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:21,967 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7DCBCCA0B5BD: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:21,968 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:21,968 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7DCBCCA0B5BD-LeaderElection25
2022-07-21 18:24:21,973 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7DCBCCA0B5BD: change Leader from s2 to null at term 1 for PRE_VOTE
2022-07-21 18:24:21,973 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:22,272 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:22,272 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 0: result TIMEOUT
2022-07-21 18:24:22,272 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:22,437 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:22,437 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 1: result TIMEOUT
2022-07-21 18:24:22,437 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:22,638 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:22,638 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 2: result TIMEOUT
2022-07-21 18:24:22,638 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:22,794 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:22,794 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 3: result TIMEOUT
2022-07-21 18:24:22,794 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,042 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:23,042 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 4: result TIMEOUT
2022-07-21 18:24:23,042 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,209 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:23,209 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 5: result TIMEOUT
2022-07-21 18:24:23,209 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,413 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:23,413 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 6: result TIMEOUT
2022-07-21 18:24:23,413 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,669 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:23,670 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 7: result TIMEOUT
2022-07-21 18:24:23,670 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,670 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-7DCBCCA0B5BD: receive requestVote(PRE_VOTE, s0, group-7DCBCCA0B5BD, 1, (t:1, i:1))
2022-07-21 18:24:23,671 [Thread-659] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-7DCBCCA0B5BD-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-07-21 18:24:23,671 [Thread-659] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-7DCBCCA0B5BD replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,671 [Thread-668] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-7DCBCCA0B5BD: receive requestVote(PRE_VOTE, s0, group-7DCBCCA0B5BD, 1, (t:1, i:1))
2022-07-21 18:24:23,671 [Thread-668] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-7DCBCCA0B5BD-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-21 18:24:23,671 [Thread-668] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-7DCBCCA0B5BD replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7DCBCCA0B5BD-LeaderElection25: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-7DCBCCA0B5BD-LeaderElection25 PRE_VOTE round 8: result REJECTED
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-7DCBCCA0B5BD: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:23,672 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7DCBCCA0B5BD-LeaderElection25
2022-07-21 18:24:23,673 [s0@group-7DCBCCA0B5BD-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:23,724 [Thread-654] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:23,724 [Thread-654] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:406, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:23,724 [Thread-654] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-7DCBCCA0B5BD: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1751ms
2022-07-21 18:24:23,725 [Thread-828] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#406:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:23,726 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:2), 4, true, commits:[s2:c4, s0:c1, s1:c4], cId:493, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 409@client-BDDBA6FEBE44, (t:1, i:4), METADATAENTRY(c:3)]
2022-07-21 18:24:23,728 [Thread-829] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#493:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2022-07-21 18:24:25,629 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:25,629 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:25,630 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:25,630 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s2@group-7DCBCCA0B5BD: receive client request(RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=595, seq=0, RW, message)
2022-07-21 18:24:25,630 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-7DCBCCA0B5BD-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BDDBA6FEBE44->s2@group-7DCBCCA0B5BD, cid=595, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 595@client-BDDBA6FEBE44
2022-07-21 18:24:25,631 [Thread-654] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:596, entries: (t:1, i:5), STATEMACHINELOGENTRY, 595@client-BDDBA6FEBE44
2022-07-21 18:24:25,631 [Thread-659] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c4, s1:c4], cId:597, entries: (t:1, i:5), STATEMACHINELOGENTRY, 595@client-BDDBA6FEBE44
2022-07-21 18:24:25,633 [Thread-931] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#597:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-07-21 18:24:25,635 [Thread-660] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:598, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:25,635 [Thread-932] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#596:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-07-21 18:24:25,636 [Thread-652] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:599, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:25,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:25,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:25,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:25,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:25,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:25,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:25,640 [Thread-934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s1#598:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:25,641 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:25,641 [Thread-935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-7DCBCCA0B5BD: succeeded to handle AppendEntries. Reply: s2<-s0#599:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:25,641 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-7DCBCCA0B5BD: shutdown
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-7DCBCCA0B5BD: shutdown
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s2
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-7DCBCCA0B5BD-LeaderStateImpl
2022-07-21 18:24:25,642 [s2@group-7DCBCCA0B5BD->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-7DCBCCA0B5BD->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:25,643 [s2@group-7DCBCCA0B5BD->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-7DCBCCA0B5BD->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:25,643 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-7DCBCCA0B5BD-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:25,644 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-7DCBCCA0B5BD: shutdown
2022-07-21 18:24:25,645 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s0
2022-07-21 18:24:25,645 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:25,645 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-7DCBCCA0B5BD-StateMachineUpdater: set stopIndex = 5
2022-07-21 18:24:25,645 [s0@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-7DCBCCA0B5BD-FollowerState was interrupted
2022-07-21 18:24:25,645 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-7DCBCCA0B5BD: closes. applyIndex: 5
2022-07-21 18:24:25,642 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DCBCCA0B5BD,id=s1
2022-07-21 18:24:25,646 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7DCBCCA0B5BD-FollowerState
2022-07-21 18:24:25,646 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-7DCBCCA0B5BD-StateMachineUpdater: set stopIndex = 5
2022-07-21 18:24:25,646 [s1@group-7DCBCCA0B5BD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7DCBCCA0B5BD-FollowerState was interrupted
2022-07-21 18:24:25,645 [s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:25,646 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-7DCBCCA0B5BD: closes. applyIndex: 5
2022-07-21 18:24:25,647 [s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:25,647 [java.util.concurrent.ThreadPoolExecutor$Worker@265e18ee[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-7DCBCCA0B5BD-SegmentedRaftLogWorker close()
2022-07-21 18:24:25,648 [Thread-657] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,648 [java.util.concurrent.ThreadPoolExecutor$Worker@35e1ceda[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-7DCBCCA0B5BD-SegmentedRaftLogWorker close()
2022-07-21 18:24:25,648 [Thread-656] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,648 [Thread-655] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,651 [Thread-653] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,651 [Thread-652] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,651 [Thread-654] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,652 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@44f2b931] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:25,652 [Thread-662] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,652 [Thread-663] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,652 [Thread-664] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,653 [Thread-659] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,653 [Thread-660] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,653 [Thread-661] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,653 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-7DCBCCA0B5BD-StateMachineUpdater: set stopIndex = 6
2022-07-21 18:24:25,654 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-7DCBCCA0B5BD: closes. applyIndex: 6
2022-07-21 18:24:25,654 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@3fbffe75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:25,654 [s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:25,659 [java.util.concurrent.ThreadPoolExecutor$Worker@bbfb04a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-7DCBCCA0B5BD-SegmentedRaftLogWorker close()
2022-07-21 18:24:25,659 [Thread-669] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,659 [Thread-670] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,659 [Thread-671] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,660 [Thread-666] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,660 [Thread-667] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,660 [Thread-668] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:25,661 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2e89227c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:25,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-7DCBCCA0B5BD-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-7DCBCCA0B5BD-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-7DCBCCA0B5BD:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-7DCBCCA0B5BD-SegmentedRaftLog:CLOSED:c6, conf=0: peers:[s0|rpc:localhost:42773|admin:localhost:32849|client:localhost:41835|dataStream:localhost:36291|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:32957|admin:localhost:39445|client:localhost:33603|dataStream:localhost:45579|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44035|admin:localhost:39619|client:localhost:46085|dataStream:localhost:42831|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-07-21 18:24:25,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:25,665 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:25,665 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:25,665 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:25,666 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:25,666 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:25,667 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0
2022-07-21 18:24:25,667 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0 does not exist.
2022-07-21 18:24:25,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0
2022-07-21 18:24:25,668 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:25,668 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:25,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:25,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:25,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,669 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0] (custom)
2022-07-21 18:24:25,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] returns group-05117D5B58D8:java.util.concurrent.CompletableFuture@617bad81[Not completed]
2022-07-21 18:24:25,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:25,669 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1
2022-07-21 18:24:25,669 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1 does not exist.
2022-07-21 18:24:25,669 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:25,670 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1] (custom)
2022-07-21 18:24:25,671 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:25,671 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:25,671 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:25,671 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] returns group-05117D5B58D8:java.util.concurrent.CompletableFuture@15452ce[Not completed]
2022-07-21 18:24:25,671 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:25,671 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2
2022-07-21 18:24:25,671 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2 does not exist.
2022-07-21 18:24:25,671 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:25,672 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,672 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2] (custom)
2022-07-21 18:24:25,672 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:25,672 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,672 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-05117D5B58D8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0] (custom)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:25,673 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:25,674 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:25,674 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:25,674 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:25,674 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:25,674 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:25,674 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:25,674 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:25,674 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:25,674 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:25,674 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] returns group-05117D5B58D8:java.util.concurrent.CompletableFuture@267bcb08[Not completed]
2022-07-21 18:24:25,675 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-05117D5B58D8:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:25,675 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 does not exist. Creating ...
2022-07-21 18:24:25,675 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,674 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,675 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:25,675 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,675 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:25,675 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:25,676 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-05117D5B58D8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-05117D5B58D8: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2] (custom)
2022-07-21 18:24:25,676 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:25,676 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1] (custom)
2022-07-21 18:24:25,677 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:25,677 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:25,677 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:25,677 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:25,677 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:25,678 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:25,679 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current
2022-07-21 18:24:25,679 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/sm
2022-07-21 18:24:25,678 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:25,679 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:25,679 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:25,680 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:25,680 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:25,680 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 has been successfully formatted.
2022-07-21 18:24:25,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:25,680 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-05117D5B58D8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:25,681 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,682 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,679 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:25,682 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:25,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-05117D5B58D8: start as a follower, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,683 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-05117D5B58D8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:25,683 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:25,683 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:25,684 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s0
2022-07-21 18:24:25,684 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:25,684 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:25,684 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:25,684 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:25,685 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 does not exist. Creating ...
2022-07-21 18:24:25,685 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,686 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@51a2f2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:25,686 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:25,687 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current
2022-07-21 18:24:25,687 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/sm
2022-07-21 18:24:25,688 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 has been successfully formatted.
2022-07-21 18:24:25,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:25,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:25,688 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-05117D5B58D8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:25,689 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-05117D5B58D8: start as a follower, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-05117D5B58D8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s1
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:25,690 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:25,691 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:25,692 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 does not exist. Creating ...
2022-07-21 18:24:25,692 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,692 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@53fa18d9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:25,693 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:25,693 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current
2022-07-21 18:24:25,693 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/sm
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8 has been successfully formatted.
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-05117D5B58D8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:25,695 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-05117D5B58D8: start as a follower, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-05117D5B58D8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,696 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s2
2022-07-21 18:24:25,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:25,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:25,697 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:25,697 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:25,698 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@55e8b30e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:25,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:25,698 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:25,698 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:25,867 [s2@group-05117D5B58D8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-05117D5B58D8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170886891ns, electionTimeout:170ms
2022-07-21 18:24:25,867 [s2@group-05117D5B58D8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,867 [s2@group-05117D5B58D8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-05117D5B58D8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:25,868 [s2@group-05117D5B58D8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:25,868 [s2@group-05117D5B58D8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-05117D5B58D8-LeaderElection26
2022-07-21 18:24:25,869 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-05117D5B58D8-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,869 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-05117D5B58D8: receive requestVote(PRE_VOTE, s2, group-05117D5B58D8, 0, (t:0, i:0))
2022-07-21 18:24:25,869 [Thread-951] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-05117D5B58D8: receive requestVote(PRE_VOTE, s2, group-05117D5B58D8, 0, (t:0, i:0))
2022-07-21 18:24:25,869 [Thread-951] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-05117D5B58D8-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:25,870 [Thread-951] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-05117D5B58D8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,869 [Thread-943] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-05117D5B58D8-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:25,870 [Thread-943] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-05117D5B58D8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-05117D5B58D8:t0, leader=null, voted=, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,870 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-05117D5B58D8-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:25,870 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2022-07-21 18:24:25,870 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-05117D5B58D8-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:25,872 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-05117D5B58D8-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,873 [Thread-944] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-05117D5B58D8: receive requestVote(ELECTION, s2, group-05117D5B58D8, 1, (t:0, i:0))
2022-07-21 18:24:25,873 [Thread-950] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-05117D5B58D8: receive requestVote(ELECTION, s2, group-05117D5B58D8, 1, (t:0, i:0))
2022-07-21 18:24:25,874 [Thread-944] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-05117D5B58D8-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:25,874 [Thread-944] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-05117D5B58D8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:25,874 [Thread-944] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,874 [Thread-944] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,874 [s0@group-05117D5B58D8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-05117D5B58D8-FollowerState was interrupted
2022-07-21 18:24:25,874 [Thread-950] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-05117D5B58D8-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:25,874 [Thread-950] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-05117D5B58D8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:25,874 [Thread-950] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,879 [Thread-950] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-05117D5B58D8-FollowerState
2022-07-21 18:24:25,879 [s1@group-05117D5B58D8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-05117D5B58D8-FollowerState was interrupted
2022-07-21 18:24:25,879 [Thread-944] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-05117D5B58D8 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-05117D5B58D8:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,879 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-05117D5B58D8-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:25,879 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-07-21 18:24:25,879 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-05117D5B58D8-LeaderElection26 ELECTION round 0: result PASSED
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-05117D5B58D8-LeaderElection26
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-05117D5B58D8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-05117D5B58D8: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 202ms
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:25,880 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:25,881 [Thread-950] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-05117D5B58D8 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-05117D5B58D8:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:25,884 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:25,885 [s2@group-05117D5B58D8-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-05117D5B58D8-LeaderStateImpl
2022-07-21 18:24:25,885 [s2@group-05117D5B58D8-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:25,888 [s2@group-05117D5B58D8-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-05117D5B58D8: set configuration 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,891 [Thread-945] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-05117D5B58D8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 218ms
2022-07-21 18:24:25,892 [Thread-943] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-05117D5B58D8: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:608, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45669"
dataStreamAddress: "localhost:38159"
clientAddress: "localhost:38079"
adminAddress: "localhost:38013"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43111"
dataStreamAddress: "localhost:43063"
clientAddress: "localhost:45369"
adminAddress: "localhost:44091"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46223"
dataStreamAddress: "localhost:39871"
clientAddress: "localhost:36201"
adminAddress: "localhost:34969"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:25,895 [Thread-943] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-05117D5B58D8: set configuration 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,895 [Thread-943] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:25,896 [Thread-952] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-05117D5B58D8: change Leader from null to s2 at term 1 for appendEntries, leader elected after 213ms
2022-07-21 18:24:25,899 [Thread-951] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:610, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45669"
dataStreamAddress: "localhost:38159"
clientAddress: "localhost:38079"
adminAddress: "localhost:38013"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43111"
dataStreamAddress: "localhost:43063"
clientAddress: "localhost:45369"
adminAddress: "localhost:44091"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46223"
dataStreamAddress: "localhost:39871"
clientAddress: "localhost:36201"
adminAddress: "localhost:34969"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:25,899 [Thread-951] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-05117D5B58D8: set configuration 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:25,900 [Thread-951] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:25,918 [s2@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s2/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current/log_inprogress_0
2022-07-21 18:24:25,918 [s0@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s0/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current/log_inprogress_0
2022-07-21 18:24:25,919 [s1@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpcccb68ab5/s1/b3a20d8e-92c4-4567-b3c9-05117d5b58d8/current/log_inprogress_0
2022-07-21 18:24:25,920 [Thread-992] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#610:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:25,921 [Thread-993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s0#608:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:26,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:26,149 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:26,154 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1092)) - s2@group-05117D5B58D8: receive setConfiguration SetConfigurationRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=623, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:26,154 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s2@group-05117D5B58D8-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=623, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:26,156 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-05117D5B58D8: set configuration 1: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:26,157 [Thread-944] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:26,157 [Thread-950] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:624, entries: (t:1, i:1), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:45669"
dataStreamAddress: "localhost:38159"
clientAddress: "localhost:38079"
adminAddress: "localhost:38013"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:43111"
dataStreamAddress: "localhost:43063"
clientAddress: "localhost:45369"
adminAddress: "localhost:44091"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46223"
dataStreamAddress: "localhost:39871"
clientAddress: "localhost:36201"
adminAddress: "localhost:34969"
startupRole: FOLLOWER
)
2022-07-21 18:24:26,157 [Thread-950] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-05117D5B58D8: set configuration 1: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:26,158 [Thread-1007] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#624:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:26,159 [s2@group-05117D5B58D8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-05117D5B58D8: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:26,160 [Thread-952] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:627, entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-07-21 18:24:26,160 [Thread-952] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-05117D5B58D8: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:26,161 [Thread-1009] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#627:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-07-21 18:24:26,163 [Thread-951] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c0, s1:c1], cId:628, entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:26,165 [Thread-1012] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#628:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:26,168 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s2@group-05117D5B58D8: receive client request(RaftClientRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=630, seq=0, RW, message)
2022-07-21 18:24:26,170 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-05117D5B58D8-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=630, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 630@client-E3DA0B6C6BE6
2022-07-21 18:24:26,170 [Thread-950] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c0, s1:c3], cId:631, entries: (t:1, i:5), STATEMACHINELOGENTRY, 630@client-E3DA0B6C6BE6
2022-07-21 18:24:26,179 [Thread-1014] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#631:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-07-21 18:24:26,180 [Thread-952] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c0, s1:c4], cId:633, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:26,186 [Thread-1017] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#633:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:26,189 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(984)) - s2@group-05117D5B58D8: receive transferLeadership TransferLeadershipRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=629, seq=0, RO, null
2022-07-21 18:24:26,525 [s0@group-05117D5B58D8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-05117D5B58D8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:375973517ns, electionTimeout:180ms
2022-07-21 18:24:26,525 [s0@group-05117D5B58D8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-05117D5B58D8-FollowerState
2022-07-21 18:24:26,525 [s0@group-05117D5B58D8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-05117D5B58D8: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:26,525 [s0@group-05117D5B58D8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:26,525 [s0@group-05117D5B58D8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-05117D5B58D8-LeaderElection27
2022-07-21 18:24:26,529 [s0@group-05117D5B58D8-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-05117D5B58D8: change Leader from s2 to null at term 1 for PRE_VOTE
2022-07-21 18:24:26,529 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:26,716 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:26,716 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 0: result TIMEOUT
2022-07-21 18:24:26,716 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:26,969 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:26,969 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 1: result TIMEOUT
2022-07-21 18:24:26,969 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:27,138 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:27,138 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 2: result TIMEOUT
2022-07-21 18:24:27,139 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:27,410 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:27,410 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 3: result TIMEOUT
2022-07-21 18:24:27,410 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:27,579 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:27,579 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 4: result TIMEOUT
2022-07-21 18:24:27,579 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:27,847 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:27,848 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 5: result TIMEOUT
2022-07-21 18:24:27,848 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:28,017 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:28,017 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 6: result TIMEOUT
2022-07-21 18:24:28,017 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:28,202 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:28,202 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 7: result TIMEOUT
2022-07-21 18:24:28,202 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:28,420 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:28,420 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 8: result TIMEOUT
2022-07-21 18:24:28,420 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:28,676 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:28,676 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 9: result TIMEOUT
2022-07-21 18:24:28,676 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:28,879 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:28,879 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 10: result TIMEOUT
2022-07-21 18:24:28,879 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:29,145 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:29,145 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 11: result TIMEOUT
2022-07-21 18:24:29,145 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:29,157 [s2@group-05117D5B58D8->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-05117D5B58D8->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@6c431c5e
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:29,182 [Thread-945] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-21 18:24:29,192 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-E3DA0B6C6BE6: suggested new leader: null. Failed TransferLeadershipRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=629, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=629, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:134)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:99)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:53)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:183)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:29,193 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-E3DA0B6C6BE6: oldLeader=s2,  curLeader=s2, newLeader=s1
2022-07-21 18:24:29,193 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-05117D5B58D8 client-E3DA0B6C6BE6: client change Leader from s2 to s1 ex=java.io.IOException
2022-07-21 18:24:29,294 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(984)) - s1@group-05117D5B58D8: receive transferLeadership TransferLeadershipRequest:client-E3DA0B6C6BE6->s1@group-05117D5B58D8, cid=629, seq=0, RO, null
2022-07-21 18:24:29,296 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-E3DA0B6C6BE6: suggested new leader: s2. Failed TransferLeadershipRequest:client-E3DA0B6C6BE6->s1@group-05117D5B58D8, cid=629, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-05117D5B58D8 is not the leader s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:708)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:673)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:989)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$23(RaftServerProxy.java:605)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:789)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:29,296 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-E3DA0B6C6BE6: oldLeader=s1,  curLeader=s1, newLeader=s2
2022-07-21 18:24:29,296 [Thread-1011] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-05117D5B58D8 client-E3DA0B6C6BE6: client change Leader from s1 to s2 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-21 18:24:29,397 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(984)) - s2@group-05117D5B58D8: receive transferLeadership TransferLeadershipRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=629, seq=0, RO, null
2022-07-21 18:24:29,423 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:29,423 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 12: result TIMEOUT
2022-07-21 18:24:29,423 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:29,690 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:29,690 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 13: result TIMEOUT
2022-07-21 18:24:29,690 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:29,966 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:29,966 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 14: result TIMEOUT
2022-07-21 18:24:29,966 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:30,138 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:30,138 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 15: result TIMEOUT
2022-07-21 18:24:30,138 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:30,438 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:30,439 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 16: result TIMEOUT
2022-07-21 18:24:30,439 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:30,644 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:30,644 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 17: result TIMEOUT
2022-07-21 18:24:30,644 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:30,797 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:30,797 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 18: result TIMEOUT
2022-07-21 18:24:30,797 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,034 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-21 18:24:31,034 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 19: result TIMEOUT
2022-07-21 18:24:31,034 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,193 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s2@group-05117D5B58D8: receive client request(RaftClientRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=832, seq=0, RW, message)
2022-07-21 18:24:31,194 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-05117D5B58D8-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E3DA0B6C6BE6->s2@group-05117D5B58D8, cid=832, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 832@client-E3DA0B6C6BE6
2022-07-21 18:24:31,194 [Thread-951] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:6), 6, true, commits:[s2:c6, s0:c0, s1:c6], cId:833, entries: (t:1, i:7), STATEMACHINELOGENTRY, 832@client-E3DA0B6C6BE6
2022-07-21 18:24:31,196 [Thread-1263] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#833:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:31,197 [Thread-950] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: receive appendEntries(s2, 1, (t:1, i:7), 7, true, commits:[s2:c7, s0:c0, s1:c6], cId:834, entries: (t:1, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:31,197 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:31,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:31,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:31,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:31,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:31,198 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-05117D5B58D8:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:OPENED:c6, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:OPENED:c7, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:31,198 [Thread-1264] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-05117D5B58D8: succeeded to handle AppendEntries. Reply: s2<-s1#834:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:31,199 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:31,203 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-05117D5B58D8: shutdown
2022-07-21 18:24:31,204 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:31,204 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s2
2022-07-21 18:24:31,207 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-05117D5B58D8-LeaderStateImpl
2022-07-21 18:24:31,204 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:31,204 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-05117D5B58D8: shutdown
2022-07-21 18:24:31,207 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-05117D5B58D8: shutdown
2022-07-21 18:24:31,207 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s1
2022-07-21 18:24:31,208 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-05117D5B58D8-FollowerState
2022-07-21 18:24:31,207 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-05117D5B58D8-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:31,207 [s2@group-05117D5B58D8->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-05117D5B58D8->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:31,207 [s2@group-05117D5B58D8->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-05117D5B58D8->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:31,207 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05117D5B58D8,id=s0
2022-07-21 18:24:31,209 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-05117D5B58D8-LeaderElection27
2022-07-21 18:24:31,208 [s1@group-05117D5B58D8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-05117D5B58D8-FollowerState was interrupted
2022-07-21 18:24:31,209 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-05117D5B58D8-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:31,209 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-05117D5B58D8: closes. applyIndex: 0
2022-07-21 18:24:31,209 [s0@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:31,212 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-05117D5B58D8-StateMachineUpdater: set stopIndex = 7
2022-07-21 18:24:31,212 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-05117D5B58D8: closes. applyIndex: 7
2022-07-21 18:24:31,212 [s1@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:31,213 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-05117D5B58D8-StateMachineUpdater: set stopIndex = 8
2022-07-21 18:24:31,213 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-05117D5B58D8: closes. applyIndex: 8
2022-07-21 18:24:31,213 [s2@group-05117D5B58D8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:31,214 [java.util.concurrent.ThreadPoolExecutor$Worker@489b2d9[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-05117D5B58D8-SegmentedRaftLogWorker close()
2022-07-21 18:24:31,214 [java.util.concurrent.ThreadPoolExecutor$Worker@7581923a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-05117D5B58D8-SegmentedRaftLogWorker close()
2022-07-21 18:24:31,214 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-05117D5B58D8-LeaderElection27: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-07-21 18:24:31,214 [s0@group-05117D5B58D8-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-05117D5B58D8-LeaderElection27 PRE_VOTE round 20: result REJECTED
2022-07-21 18:24:31,215 [java.util.concurrent.ThreadPoolExecutor$Worker@6974b35e[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-05117D5B58D8-SegmentedRaftLogWorker close()
2022-07-21 18:24:31,218 [Thread-946] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,218 [Thread-947] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,218 [Thread-948] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,219 [Thread-943] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,219 [Thread-944] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:31,219 [Thread-945] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-21 18:24:31,220 [Thread-953] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [Thread-954] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [Thread-955] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@51a2f2b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:31,220 [Thread-950] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [Thread-951] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [Thread-952] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,220 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@53fa18d9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:31,221 [Thread-960] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,221 [Thread-961] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,221 [Thread-962] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,221 [Thread-957] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,222 [Thread-958] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,222 [Thread-959] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,222 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@55e8b30e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:31,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:31,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-05117D5B58D8:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-05117D5B58D8-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|rpc:localhost:45669|admin:localhost:38013|client:localhost:38079|dataStream:localhost:38159|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43111|admin:localhost:44091|client:localhost:45369|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46223|admin:localhost:34969|client:localhost:36201|dataStream:localhost:39871|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-05117D5B58D8-SegmentedRaftLog:CLOSED:c7, conf=3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-05117D5B58D8:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-05117D5B58D8-SegmentedRaftLog:CLOSED:c8, conf=3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-07-21 18:24:31,224 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:31,225 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:31,225 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:31,225 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:31,225 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:31,225 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(80)) - Running testBasicLeaderElection
2022-07-21 18:24:31,225 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s3, group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:31,241 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3
2022-07-21 18:24:31,241 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3 does not exist.
2022-07-21 18:24:31,241 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3
2022-07-21 18:24:31,241 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:31,242 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:31,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:31,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:31,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3] (custom)
2022-07-21 18:24:31,243 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] returns group-634BC5DBCD77:java.util.concurrent.CompletableFuture@15ff43b4[Not completed]
2022-07-21 18:24:31,243 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s3: new RaftServerImpl for group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:31,243 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s4, group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:31,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4
2022-07-21 18:24:31,244 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4 does not exist.
2022-07-21 18:24:31,244 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4
2022-07-21 18:24:31,244 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:31,245 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:31,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:31,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:31,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,245 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4] (custom)
2022-07-21 18:24:31,243 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s3@group-634BC5DBCD77: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3] (custom)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:31,246 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:31,247 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:31,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] returns group-634BC5DBCD77:java.util.concurrent.CompletableFuture@61678d4e[Not completed]
2022-07-21 18:24:31,249 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s4: new RaftServerImpl for group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:31,249 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:31,249 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0
2022-07-21 18:24:31,249 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:31,249 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0 does not exist.
2022-07-21 18:24:31,250 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0
2022-07-21 18:24:31,249 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,250 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:31,250 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:31,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s4@group-634BC5DBCD77: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:31,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:31,250 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4] (custom)
2022-07-21 18:24:31,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:31,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:31,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0] (custom)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:31,251 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:31,252 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:31,252 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:31,252 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] returns group-634BC5DBCD77:java.util.concurrent.CompletableFuture@120fb5ea[Not completed]
2022-07-21 18:24:31,252 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:31,252 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:31,252 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1
2022-07-21 18:24:31,253 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:31,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1 does not exist.
2022-07-21 18:24:31,253 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1
2022-07-21 18:24:31,253 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:31,253 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:31,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:31,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:31,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,253 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,254 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1] (custom)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-634BC5DBCD77: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0] (custom)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:31,254 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:31,255 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:31,255 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] returns group-634BC5DBCD77:java.util.concurrent.CompletableFuture@349c7c53[Not completed]
2022-07-21 18:24:31,255 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:31,255 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:31,255 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2
2022-07-21 18:24:31,255 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:31,256 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2 does not exist.
2022-07-21 18:24:31,256 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:31,256 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-634BC5DBCD77: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:31,256 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:31,256 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1] (custom)
2022-07-21 18:24:31,256 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:31,257 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:31,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:31,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:31,257 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,257 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:31,257 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2] (custom)
2022-07-21 18:24:31,257 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:31,258 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:31,258 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:31,258 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:31,258 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:31,258 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:31,259 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:31,259 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] returns group-634BC5DBCD77:java.util.concurrent.CompletableFuture@f61a5f9[Not completed]
2022-07-21 18:24:31,259 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-634BC5DBCD77:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:31,259 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77 does not exist. Creating ...
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:31,260 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:31,260 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-634BC5DBCD77: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2] (custom)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:31,261 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:31,262 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:31,262 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:31,262 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:31,262 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:31,262 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:31,262 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:31,263 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current
2022-07-21 18:24:31,263 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77/sm
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77 has been successfully formatted.
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,264 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-634BC5DBCD77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,265 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s3@group-634BC5DBCD77: start as a follower, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-634BC5DBCD77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s3
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:31,266 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:31,266 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s3: start RPC server
2022-07-21 18:24:31,268 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77 does not exist. Creating ...
2022-07-21 18:24:31,268 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,268 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@58483ea2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-07-21 18:24:31,270 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:31,270 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current
2022-07-21 18:24:31,270 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/sm
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77 has been successfully formatted.
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-634BC5DBCD77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:31,272 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,273 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,274 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s4@group-634BC5DBCD77: start as a follower, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,274 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:31,274 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,275 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s4
2022-07-21 18:24:31,275 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:31,275 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:31,275 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:31,275 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s4: start RPC server
2022-07-21 18:24:31,276 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77 does not exist. Creating ...
2022-07-21 18:24:31,276 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,276 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1a274f33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-07-21 18:24:31,277 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:31,278 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current
2022-07-21 18:24:31,278 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/sm
2022-07-21 18:24:31,279 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77 has been successfully formatted.
2022-07-21 18:24:31,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:31,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:31,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,279 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-634BC5DBCD77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:31,280 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,281 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,281 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-634BC5DBCD77: start as a follower, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s0
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:31,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:31,283 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:31,283 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@7a676849] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:31,284 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77 does not exist. Creating ...
2022-07-21 18:24:31,284 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,285 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:31,285 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current
2022-07-21 18:24:31,285 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/sm
2022-07-21 18:24:31,286 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77 has been successfully formatted.
2022-07-21 18:24:31,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:31,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:31,286 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-634BC5DBCD77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:31,287 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:31,288 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,288 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,288 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-634BC5DBCD77: start as a follower, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,288 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-634BC5DBCD77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:31,288 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,289 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s1
2022-07-21 18:24:31,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:31,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:31,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:31,289 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:31,290 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@782b4491] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:31,290 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77 does not exist. Creating ...
2022-07-21 18:24:31,291 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,292 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:31,292 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current
2022-07-21 18:24:31,292 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/sm
2022-07-21 18:24:31,293 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77 has been successfully formatted.
2022-07-21 18:24:31,293 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:31,293 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:31,293 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-634BC5DBCD77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:31,294 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-634BC5DBCD77: start as a follower, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-634BC5DBCD77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s2
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:31,295 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:31,296 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:31,297 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@618fd818] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:31,297 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,297 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:31,297 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:31,473 [s3@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207303841ns, electionTimeout:207ms
2022-07-21 18:24:31,473 [s3@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,473 [s3@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:31,473 [s3@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:31,474 [s3@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-634BC5DBCD77-LeaderElection28
2022-07-21 18:24:31,474 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-634BC5DBCD77-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,475 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s3, group-634BC5DBCD77, 0, (t:0, i:0))
2022-07-21 18:24:31,475 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,475 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,476 [Thread-1294] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s3, group-634BC5DBCD77, 0, (t:0, i:0))
2022-07-21 18:24:31,476 [Thread-1294] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,476 [Thread-1294] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-634BC5DBCD77 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,476 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s3, group-634BC5DBCD77, 0, (t:0, i:0))
2022-07-21 18:24:31,476 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,476 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,476 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-634BC5DBCD77-LeaderElection28: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:31,476 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t0
2022-07-21 18:24:31,476 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s1#0:OK-t0
2022-07-21 18:24:31,476 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-634BC5DBCD77-LeaderElection28 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:31,477 [Thread-1301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s3, group-634BC5DBCD77, 0, (t:0, i:0))
2022-07-21 18:24:31,477 [Thread-1301] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,477 [Thread-1301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-634BC5DBCD77 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-634BC5DBCD77:t0, leader=null, voted=, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,478 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-634BC5DBCD77-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,478 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(ELECTION, s3, group-634BC5DBCD77, 1, (t:0, i:0))
2022-07-21 18:24:31,483 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(ELECTION, s3, group-634BC5DBCD77, 1, (t:0, i:0))
2022-07-21 18:24:31,484 [Thread-1280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,484 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-07-21 18:24:31,484 [Thread-1280] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,484 [Thread-1287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,484 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-07-21 18:24:31,484 [Thread-1287] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,484 [Thread-1287] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,484 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,485 [Thread-1280] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,486 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to ELECTION vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-634BC5DBCD77:t1, leader=null, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,486 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-634BC5DBCD77:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,486 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,488 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-634BC5DBCD77-LeaderElection28: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:31,488 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-634BC5DBCD77: receive requestVote(ELECTION, s3, group-634BC5DBCD77, 1, (t:0, i:0))
2022-07-21 18:24:31,488 [Thread-1295] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-634BC5DBCD77: receive requestVote(ELECTION, s3, group-634BC5DBCD77, 1, (t:0, i:0))
2022-07-21 18:24:31,488 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:OK-t1
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s0#0:OK-t1
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-634BC5DBCD77-LeaderElection28 ELECTION round 0: result PASSED
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-634BC5DBCD77-LeaderElection28
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s3@group-634BC5DBCD77: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s3@group-634BC5DBCD77: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 244ms
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:31,491 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:31,491 [Thread-1295] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,492 [Thread-1295] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-07-21 18:24:31,492 [Thread-1295] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,491 [Thread-1302] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,492 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2022-07-21 18:24:31,492 [Thread-1302] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,492 [s2@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,492 [Thread-1302] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,492 [s1@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,493 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,493 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,493 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,494 [Thread-1295] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,495 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-634BC5DBCD77 replies to ELECTION vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-634BC5DBCD77:t1, leader=null, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,495 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,495 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,495 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,496 [s3@group-634BC5DBCD77-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:31,497 [s3@group-634BC5DBCD77-LeaderElection28] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:31,497 [Thread-1295] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-634BC5DBCD77 replies to ELECTION vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-634BC5DBCD77:t1, leader=null, voted=s3, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,509 [s3@group-634BC5DBCD77-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s3@group-634BC5DBCD77: set configuration 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,509 [Thread-1281] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from null to s3 at term 1 for appendEntries, leader elected after 258ms
2022-07-21 18:24:31,509 [Thread-1288] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from null to s3 at term 1 for appendEntries, leader elected after 254ms
2022-07-21 18:24:31,509 [Thread-1303] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-634BC5DBCD77: change Leader from null to s3 at term 1 for appendEntries, leader elected after 248ms
2022-07-21 18:24:31,510 [Thread-1279] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:847, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,510 [Thread-1286] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: receive appendEntries(s3, 1, null, -1, true, commits:[s3:c-1, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:848, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,511 [Thread-1296] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-634BC5DBCD77: change Leader from null to s3 at term 1 for appendEntries, leader elected after 253ms
2022-07-21 18:24:31,511 [Thread-1279] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s4@group-634BC5DBCD77: set configuration 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,511 [Thread-1279] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:31,511 [s3@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s3/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0
2022-07-21 18:24:31,512 [Thread-1286] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-634BC5DBCD77: set configuration 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,512 [Thread-1286] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:31,516 [Thread-1301] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:849, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,517 [Thread-1301] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-634BC5DBCD77: set configuration 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,517 [Thread-1301] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:31,521 [Thread-1294] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-634BC5DBCD77: receive appendEntries(s3, 1, null, 0, true, commits:[s3:c0, s4:c-1, s0:c-1, s1:c-1, s2:c-1], cId:850, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,522 [Thread-1294] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-634BC5DBCD77: set configuration 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,522 [Thread-1294] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:31,537 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0
2022-07-21 18:24:31,537 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0
2022-07-21 18:24:31,537 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0
2022-07-21 18:24:31,538 [s1@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0
2022-07-21 18:24:31,538 [Thread-1353] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s3<-s0#848:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:31,539 [Thread-1356] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s3<-s1#850:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-07-21 18:24:31,539 [Thread-1355] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s3<-s4#847:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:31,539 [Thread-1354] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s3<-s2#849:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-07-21 18:24:31,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:31,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:31,749 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(486)) - killServer s3
2022-07-21 18:24:31,749 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s3: close
2022-07-21 18:24:31,749 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s3@group-634BC5DBCD77: shutdown
2022-07-21 18:24:31,749 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s3
2022-07-21 18:24:31,749 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:31,749 [s3@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:31,749 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-634BC5DBCD77-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:31,749 [s3@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:31,750 [s3@group-634BC5DBCD77->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-634BC5DBCD77->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:31,750 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-634BC5DBCD77-StateMachineUpdater: set stopIndex = 0
2022-07-21 18:24:31,750 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s3@group-634BC5DBCD77: closes. applyIndex: 0
2022-07-21 18:24:31,750 [s3@group-634BC5DBCD77->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-634BC5DBCD77->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:31,750 [s3@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:31,751 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-634BC5DBCD77-SegmentedRaftLogWorker close()
2022-07-21 18:24:31,754 [Thread-1275] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,754 [Thread-1276] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,754 [Thread-1277] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,755 [Thread-1272] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,755 [Thread-1274] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,755 [Thread-1273] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:31,755 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@58483ea2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-07-21 18:24:31,755 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:31,756 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:31,756 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:31,883 [s1@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192330493ns, electionTimeout:165ms
2022-07-21 18:24:31,884 [s1@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,884 [s1@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:31,884 [s1@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:31,884 [s1@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-634BC5DBCD77-LeaderElection29
2022-07-21 18:24:31,892 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-634BC5DBCD77: change Leader from s3 to null at term 1 for PRE_VOTE
2022-07-21 18:24:31,892 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-634BC5DBCD77-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,893 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s1, group-634BC5DBCD77, 1, (t:1, i:0))
2022-07-21 18:24:31,893 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,893 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s1<-s4#0:OK-t1. Peer's state: s4@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,893 [Thread-1301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s1, group-634BC5DBCD77, 1, (t:1, i:0))
2022-07-21 18:24:31,893 [Thread-1301] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,893 [Thread-1301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-634BC5DBCD77 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-634BC5DBCD77-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:31,894 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s1, group-634BC5DBCD77, 1, (t:1, i:0))
2022-07-21 18:24:31,894 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,894 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-634BC5DBCD77-LeaderElection29: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:OK-t1
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t1
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:31,894 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-634BC5DBCD77-LeaderElection29 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:31,896 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-634BC5DBCD77-LeaderElection29 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,897 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(ELECTION, s1, group-634BC5DBCD77, 2, (t:1, i:0))
2022-07-21 18:24:31,897 [Thread-1280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,897 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(ELECTION, s1, group-634BC5DBCD77, 2, (t:1, i:0))
2022-07-21 18:24:31,897 [Thread-1287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,897 [Thread-1287] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:31,897 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-21 18:24:31,897 [Thread-1287] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,897 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-634BC5DBCD77-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:31,897 [Thread-1280] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:31,897 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-21 18:24:31,897 [Thread-1280] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,897 [Thread-1280] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,897 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,897 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-634BC5DBCD77: receive requestVote(ELECTION, s1, group-634BC5DBCD77, 2, (t:1, i:0))
2022-07-21 18:24:31,898 [Thread-1302] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:31,898 [Thread-1302] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-634BC5DBCD77: change Leader from s3 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:31,898 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-21 18:24:31,898 [Thread-1302] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,898 [Thread-1302] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,898 [s2@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,898 [Thread-1287] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:31,898 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:31,901 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to ELECTION vote request: s1<-s4#0:OK-t2. Peer's state: s4@group-634BC5DBCD77:t2, leader=null, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,903 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-634BC5DBCD77:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-634BC5DBCD77-LeaderElection29: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:OK-t2
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:OK-t2
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-634BC5DBCD77-LeaderElection29 ELECTION round 0: result PASSED
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-634BC5DBCD77-LeaderElection29
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-634BC5DBCD77: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-634BC5DBCD77: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 12ms
2022-07-21 18:24:31,904 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,905 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:31,906 [s1@group-634BC5DBCD77-LeaderElection29] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:31,907 [Thread-1302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-634BC5DBCD77 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-634BC5DBCD77:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,908 [s1@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,908 [s1@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,912 [s1@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-634BC5DBCD77->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:31,913 [Thread-1303] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-634BC5DBCD77: change Leader from null to s1 at term 2 for appendEntries, leader elected after 15ms
2022-07-21 18:24:31,913 [s1@group-634BC5DBCD77-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-634BC5DBCD77: set configuration 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,912 [Thread-1288] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from null to s1 at term 2 for appendEntries, leader elected after 15ms
2022-07-21 18:24:31,912 [Thread-1281] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from null to s1 at term 2 for appendEntries, leader elected after 15ms
2022-07-21 18:24:31,914 [Thread-1286] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:874, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,914 [Thread-1279] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:875, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,915 [Thread-1279] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s4@group-634BC5DBCD77: set configuration 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,915 [Thread-1279] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:31,915 [Thread-1301] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits:[s1:c0, s3:c0, s4:c0, s0:c0, s2:c0], cId:876, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:31,915 [Thread-1301] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-634BC5DBCD77: set configuration 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,915 [Thread-1301] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:31,916 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,916 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,916 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,917 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,914 [Thread-1286] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-634BC5DBCD77: set configuration 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:31,918 [Thread-1286] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:31,919 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,919 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_0-0
2022-07-21 18:24:31,921 [s1@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s1/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1
2022-07-21 18:24:31,938 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1
2022-07-21 18:24:31,938 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1
2022-07-21 18:24:31,938 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1
2022-07-21 18:24:31,939 [Thread-1395] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s0#874:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:31,939 [Thread-1396] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s2#876:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:31,939 [Thread-1397] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s4#875:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:31,940 [Thread-1302] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:879, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:31,940 [Thread-1280] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:880, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:31,940 [Thread-1287] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s3:c0, s4:c0, s0:c0, s2:c0], cId:878, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:31,942 [Thread-1398] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s4#880:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:31,943 [Thread-1400] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s0#878:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:31,944 [Thread-1399] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s1<-s2#879:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:32,139 [s1@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-634BC5DBCD77->s3-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:32,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:32,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:32,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(486)) - killServer s1
2022-07-21 18:24:32,207 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:32,207 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-634BC5DBCD77: shutdown
2022-07-21 18:24:32,208 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s1
2022-07-21 18:24:32,208 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:32,208 [s1@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-21 18:24:32,208 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-634BC5DBCD77-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:32,208 [s1@group-634BC5DBCD77->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-634BC5DBCD77->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:32,208 [s1@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:32,208 [s1@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:32,209 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-634BC5DBCD77-StateMachineUpdater: set stopIndex = 2
2022-07-21 18:24:32,210 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-634BC5DBCD77: closes. applyIndex: 2
2022-07-21 18:24:32,210 [s1@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:32,211 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-634BC5DBCD77-SegmentedRaftLogWorker close()
2022-07-21 18:24:32,211 [Thread-1297] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,211 [Thread-1298] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,211 [Thread-1299] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,212 [Thread-1294] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,212 [Thread-1295] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,212 [Thread-1296] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,213 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@782b4491] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:32,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:32,213 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:32,213 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING  FOLLOWER s2@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:264467001ns, electionTimeout:264ms
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-634BC5DBCD77-LeaderElection30
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-634BC5DBCD77: change Leader from s1 to null at term 2 for PRE_VOTE
2022-07-21 18:24:32,436 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-634BC5DBCD77-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,437 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s2, group-634BC5DBCD77, 2, (t:2, i:2))
2022-07-21 18:24:32,437 [Thread-1288] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,437 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,439 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-634BC5DBCD77-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,439 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s2, group-634BC5DBCD77, 2, (t:2, i:2))
2022-07-21 18:24:32,439 [Thread-1281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,439 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s2<-s4#0:OK-t2. Peer's state: s4@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,439 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-634BC5DBCD77-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-634BC5DBCD77-LeaderElection30: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:OK-t2
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s0#0:OK-t2
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,440 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-634BC5DBCD77-LeaderElection30 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:32,442 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-634BC5DBCD77-LeaderElection30 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,442 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(ELECTION, s2, group-634BC5DBCD77, 3, (t:2, i:2))
2022-07-21 18:24:32,442 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(ELECTION, s2, group-634BC5DBCD77, 3, (t:2, i:2))
2022-07-21 18:24:32,442 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,442 [Thread-1286] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-07-21 18:24:32,442 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-07-21 18:24:32,443 [Thread-1286] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,442 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,443 [Thread-1279] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-07-21 18:24:32,443 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-07-21 18:24:32,443 [Thread-1279] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,443 [Thread-1279] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,443 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:32,443 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-634BC5DBCD77-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,443 [Thread-1286] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,443 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-634BC5DBCD77-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,443 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:32,445 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to ELECTION vote request: s2<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,445 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,445 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-634BC5DBCD77-LeaderElection30: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-07-21 18:24:32,445 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:OK-t3
2022-07-21 18:24:32,445 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s0#0:OK-t3
2022-07-21 18:24:32,445 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-634BC5DBCD77-LeaderElection30 ELECTION round 0: result PASSED
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-634BC5DBCD77-LeaderElection30
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-634BC5DBCD77: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-634BC5DBCD77: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 9ms
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:32,446 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:32,447 [s2@group-634BC5DBCD77-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:32,448 [s2@group-634BC5DBCD77-LeaderElection30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:32,448 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,449 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,454 [s2@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-634BC5DBCD77->s3-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s3 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:32,456 [Thread-1287] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from null to s2 at term 3 for appendEntries, leader elected after 12ms
2022-07-21 18:24:32,455 [s2@group-634BC5DBCD77-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-634BC5DBCD77: set configuration 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,455 [Thread-1280] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from null to s2 at term 3 for appendEntries, leader elected after 12ms
2022-07-21 18:24:32,458 [s2@group-634BC5DBCD77->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s2@group-634BC5DBCD77->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:32,459 [Thread-1288] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: receive appendEntries(s2, 3, (t:2, i:2), 2, true, commits:[s2:c2, s3:c0, s4:c2, s0:c2, s1:c2], cId:908, entries: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:32,459 [Thread-1288] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-634BC5DBCD77: set configuration 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,459 [Thread-1288] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:32,460 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,460 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,459 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s2/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_3
2022-07-21 18:24:32,464 [Thread-1281] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: receive appendEntries(s2, 3, (t:2, i:2), 2, true, commits:[s2:c2, s3:c0, s4:c2, s0:c2, s1:c2], cId:909, entries: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:35803"
dataStreamAddress: "localhost:46391"
clientAddress: "localhost:41111"
adminAddress: "localhost:44437"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:44923"
dataStreamAddress: "localhost:38997"
clientAddress: "localhost:42375"
adminAddress: "localhost:43913"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:44521"
dataStreamAddress: "localhost:34321"
clientAddress: "localhost:44165"
adminAddress: "localhost:33795"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35111"
dataStreamAddress: "localhost:34073"
clientAddress: "localhost:34525"
adminAddress: "localhost:38975"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44911"
dataStreamAddress: "localhost:33313"
clientAddress: "localhost:40989"
adminAddress: "localhost:39945"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:32,464 [Thread-1281] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s4@group-634BC5DBCD77: set configuration 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,464 [Thread-1281] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:32,465 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,465 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_1-2
2022-07-21 18:24:32,475 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s4/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_3
2022-07-21 18:24:32,476 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc34379254/s0/5ef0b875-6e19-445c-9eba-634bc5dbcd77/current/log_inprogress_3
2022-07-21 18:24:32,477 [Thread-1443] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s2<-s4#909:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:32,477 [Thread-1444] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s2<-s0#908:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:32,478 [Thread-1286] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s3:c0, s4:c2, s0:c2, s1:c2], cId:912, entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:32,478 [Thread-1279] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s3:c0, s4:c2, s0:c2, s1:c2], cId:911, entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:32,479 [Thread-1445] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s4@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s2<-s4#911:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:32,480 [Thread-1446] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-634BC5DBCD77: succeeded to handle AppendEntries. Reply: s2<-s0#912:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:32,664 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:  RUNNING    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:32,665 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:32,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(486)) - killServer s2
2022-07-21 18:24:32,665 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:32,665 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-634BC5DBCD77: shutdown
2022-07-21 18:24:32,665 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s2
2022-07-21 18:24:32,665 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-634BC5DBCD77-LeaderStateImpl
2022-07-21 18:24:32,665 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-634BC5DBCD77-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:32,666 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-634BC5DBCD77-StateMachineUpdater: set stopIndex = 4
2022-07-21 18:24:32,666 [s2@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-634BC5DBCD77->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:32,666 [s2@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-634BC5DBCD77->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:32,666 [s2@group-634BC5DBCD77->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-634BC5DBCD77->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-21 18:24:32,666 [s2@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-634BC5DBCD77->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-21 18:24:32,666 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-634BC5DBCD77: closes. applyIndex: 4
2022-07-21 18:24:32,667 [s2@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:32,668 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-634BC5DBCD77-SegmentedRaftLogWorker close()
2022-07-21 18:24:32,669 [Thread-1304] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,669 [Thread-1306] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,669 [Thread-1305] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,669 [Thread-1301] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,669 [Thread-1302] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,670 [Thread-1303] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:32,670 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@618fd818] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:32,670 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-07-21 18:24:32,670 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:32,671 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-07-21 18:24:32,671 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:32,971 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:339437338ns, electionTimeout:267ms
2022-07-21 18:24:32,971 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,971 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:32,972 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:32,972 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection31
2022-07-21 18:24:32,973 [s4@group-634BC5DBCD77-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s4@group-634BC5DBCD77: change Leader from s2 to null at term 3 for PRE_VOTE
2022-07-21 18:24:32,973 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,974 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:32,974 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:342902672ns, electionTimeout:252ms
2022-07-21 18:24:32,974 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,974 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:32,974 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:32,974 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,975 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:32,974 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection32
2022-07-21 18:24:32,976 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,977 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,977 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,977 [s0@group-634BC5DBCD77-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-634BC5DBCD77: change Leader from s2 to null at term 3 for PRE_VOTE
2022-07-21 18:24:32,977 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,978 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection31: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:32,978 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:32,978 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,978 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:32,978 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,982 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:32,982 [s4@group-634BC5DBCD77-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:32,982 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection31
2022-07-21 18:24:32,982 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:32,982 [s4@group-634BC5DBCD77-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:32,982 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,982 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,984 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:32,984 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection32: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection32
2022-07-21 18:24:32,984 [s0@group-634BC5DBCD77-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,122 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:33,144 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160129774ns, electionTimeout:160ms
2022-07-21 18:24:33,144 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,144 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:33,144 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:33,144 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection33
2022-07-21 18:24:33,145 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,148 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,148 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,148 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,148 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:33,148 [Thread-1287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:33,149 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection33: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection33
2022-07-21 18:24:33,149 [s4@group-634BC5DBCD77-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:281564267ns, electionTimeout:281ms
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection34
2022-07-21 18:24:33,431 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,432 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:33,432 [Thread-1288] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,432 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection34: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,432 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,433 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:33,433 [s4@group-634BC5DBCD77-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:33,433 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection34
2022-07-21 18:24:33,433 [s4@group-634BC5DBCD77-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,575 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:33,712 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279313544ns, electionTimeout:279ms
2022-07-21 18:24:33,712 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,712 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:33,713 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:33,713 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection35
2022-07-21 18:24:33,713 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,714 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:33,714 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:33,714 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection35: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,714 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:33,715 [s4@group-634BC5DBCD77-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:33,715 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection35
2022-07-21 18:24:33,715 [s4@group-634BC5DBCD77-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,883 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168316754ns, electionTimeout:165ms
2022-07-21 18:24:33,883 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:33,883 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:33,883 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:33,883 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection36
2022-07-21 18:24:33,884 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,885 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:33,885 [Thread-1287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:33,885 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:33,885 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,885 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection36: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection36 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection36
2022-07-21 18:24:33,886 [s4@group-634BC5DBCD77-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,026 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192611492ns, electionTimeout:192ms
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection37
2022-07-21 18:24:34,079 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,080 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:34,080 [Thread-1288] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:34,080 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,081 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,081 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,081 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,081 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection37: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection37 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection37
2022-07-21 18:24:34,082 [s4@group-634BC5DBCD77-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,376 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293920485ns, electionTimeout:286ms
2022-07-21 18:24:34,376 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,376 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:34,376 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:34,376 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection38
2022-07-21 18:24:34,377 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,377 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:34,377 [Thread-1286] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:34,377 [Thread-1286] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection38: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection38 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection38
2022-07-21 18:24:34,378 [s4@group-634BC5DBCD77-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,477 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:34,600 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221466474ns, electionTimeout:221ms
2022-07-21 18:24:34,600 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,600 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:34,600 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:34,600 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection39
2022-07-21 18:24:34,601 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,601 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:34,601 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,601 [Thread-1287] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:34,601 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,601 [Thread-1287] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection39: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection39 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection39
2022-07-21 18:24:34,602 [s4@group-634BC5DBCD77-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197695941ns, electionTimeout:197ms
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-LeaderElection40
2022-07-21 18:24:34,800 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-634BC5DBCD77-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,801 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s4, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:34,801 [Thread-1288] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-21 18:24:34,801 [Thread-1288] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-634BC5DBCD77 replies to PRE_VOTE vote request: s4<-s0#0:OK-t3. Peer's state: s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,801 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,801 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,801 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-634BC5DBCD77-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,801 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-634BC5DBCD77-LeaderElection40: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:OK-t3
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-634BC5DBCD77-LeaderElection40 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s4@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-634BC5DBCD77-LeaderElection40
2022-07-21 18:24:34,802 [s4@group-634BC5DBCD77-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,928 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191484980ns, electionTimeout:178ms
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection41
2022-07-21 18:24:34,993 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,994 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:34,994 [Thread-1280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:34,994 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:34,994 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,994 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,994 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection41: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection41 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection41
2022-07-21 18:24:34,995 [s0@group-634BC5DBCD77-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,192 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:197372536ns, electionTimeout:197ms
2022-07-21 18:24:35,193 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,193 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:35,193 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:35,193 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection42
2022-07-21 18:24:35,193 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,194 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:35,194 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,194 [Thread-1281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,195 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection42
2022-07-21 18:24:35,195 [s0@group-634BC5DBCD77-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,379 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:35,435 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:239567150ns, electionTimeout:239ms
2022-07-21 18:24:35,435 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,435 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:35,435 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:35,435 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection43
2022-07-21 18:24:35,436 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,436 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:35,436 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:35,436 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,436 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,436 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,436 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection43
2022-07-21 18:24:35,437 [s0@group-634BC5DBCD77-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,628 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191445878ns, electionTimeout:191ms
2022-07-21 18:24:35,629 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,629 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:35,629 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:35,629 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection44
2022-07-21 18:24:35,629 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,630 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:35,630 [Thread-1280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:35,630 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,630 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,631 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,631 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:35,631 [s0@group-634BC5DBCD77-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:35,631 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection44
2022-07-21 18:24:35,631 [s0@group-634BC5DBCD77-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,830 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:239870953ns, electionTimeout:239ms
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection45
2022-07-21 18:24:35,871 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,873 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:35,873 [Thread-1281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:35,873 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection45: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:35,873 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:35,874 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:35,874 [s0@group-634BC5DBCD77-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:35,874 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection45
2022-07-21 18:24:35,874 [s0@group-634BC5DBCD77-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,073 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199514356ns, electionTimeout:197ms
2022-07-21 18:24:36,073 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,073 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:36,074 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:36,074 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection46
2022-07-21 18:24:36,074 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,075 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:36,075 [Thread-1279] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:36,075 [Thread-1279] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection46: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection46
2022-07-21 18:24:36,076 [s0@group-634BC5DBCD77-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,281 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:229488649ns, electionTimeout:229ms
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection47
2022-07-21 18:24:36,306 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,308 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:36,308 [Thread-1280] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:36,308 [Thread-1280] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,308 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,308 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection47: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection47
2022-07-21 18:24:36,309 [s0@group-634BC5DBCD77-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,583 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-634BC5DBCD77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:273602682ns, electionTimeout:273ms
2022-07-21 18:24:36,583 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,583 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:36,583 [s0@group-634BC5DBCD77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:36,583 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-LeaderElection48
2022-07-21 18:24:36,584 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-634BC5DBCD77-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,584 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s4@group-634BC5DBCD77: receive requestVote(PRE_VOTE, s0, group-634BC5DBCD77, 3, (t:3, i:4))
2022-07-21 18:24:36,585 [Thread-1281] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-634BC5DBCD77-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:36,585 [Thread-1281] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s4@group-634BC5DBCD77 replies to PRE_VOTE vote request: s0<-s4#0:OK-t3. Peer's state: s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,585 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,585 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,585 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s0@group-634BC5DBCD77-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,585 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-634BC5DBCD77-LeaderElection48: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s4#0:OK-t3
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s1 is not alive.
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-634BC5DBCD77-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-634BC5DBCD77: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-634BC5DBCD77-LeaderElection48
2022-07-21 18:24:36,586 [s0@group-634BC5DBCD77-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,733 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:36,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:36,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:36,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:36,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:36,733 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:36,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-634BC5DBCD77:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s4:  RUNNING  FOLLOWER s4@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s4@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-634BC5DBCD77:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-634BC5DBCD77-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:   CLOSED    LEADER s1@group-634BC5DBCD77:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-634BC5DBCD77:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-634BC5DBCD77-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|rpc:localhost:35803|admin:localhost:44437|client:localhost:41111|dataStream:localhost:46391|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:44923|admin:localhost:43913|client:localhost:42375|dataStream:localhost:38997|priority:0|startupRole:FOLLOWER, s0|rpc:localhost:44521|admin:localhost:33795|client:localhost:44165|dataStream:localhost:34321|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35111|admin:localhost:38975|client:localhost:34525|dataStream:localhost:34073|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:44911|admin:localhost:39945|client:localhost:40989|dataStream:localhost:33313|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-07-21 18:24:36,734 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s4: close
2022-07-21 18:24:36,735 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s4@group-634BC5DBCD77: shutdown
2022-07-21 18:24:36,735 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s4
2022-07-21 18:24:36,735 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,735 [s4@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:36,735 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-634BC5DBCD77-StateMachineUpdater: set stopIndex = 4
2022-07-21 18:24:36,736 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s4@group-634BC5DBCD77: closes. applyIndex: 4
2022-07-21 18:24:36,736 [s4@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:36,736 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:36,737 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-634BC5DBCD77: shutdown
2022-07-21 18:24:36,737 [java.util.concurrent.ThreadPoolExecutor$Worker@14fa422d[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-634BC5DBCD77-SegmentedRaftLogWorker close()
2022-07-21 18:24:36,737 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-634BC5DBCD77,id=s0
2022-07-21 18:24:36,737 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-634BC5DBCD77-FollowerState
2022-07-21 18:24:36,737 [Thread-1282] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,737 [Thread-1283] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,738 [Thread-1284] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,738 [Thread-1279] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,738 [Thread-1280] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,738 [Thread-1281] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,738 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1a274f33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-07-21 18:24:36,738 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-634BC5DBCD77-StateMachineUpdater: set stopIndex = 4
2022-07-21 18:24:36,738 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-634BC5DBCD77: closes. applyIndex: 4
2022-07-21 18:24:36,738 [s0@group-634BC5DBCD77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-634BC5DBCD77-FollowerState was interrupted
2022-07-21 18:24:36,739 [s0@group-634BC5DBCD77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:36,740 [java.util.concurrent.ThreadPoolExecutor$Worker@265c207c[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-634BC5DBCD77-SegmentedRaftLogWorker close()
2022-07-21 18:24:36,740 [Thread-1289] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,740 [Thread-1290] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,740 [Thread-1291] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,740 [Thread-1286] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,740 [Thread-1287] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,741 [Thread-1288] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:36,741 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@7a676849] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:36,741 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:36,741 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:36,741 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:36,741 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:36,741 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:36,742 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:36,743 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0
2022-07-21 18:24:36,743 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0 does not exist.
2022-07-21 18:24:36,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0
2022-07-21 18:24:36,744 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:36,744 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:36,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:36,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:36,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0] (custom)
2022-07-21 18:24:36,745 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] returns group-F7343385D2FC:java.util.concurrent.CompletableFuture@3e8131[Not completed]
2022-07-21 18:24:36,745 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:36,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:36,745 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1
2022-07-21 18:24:36,745 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1 does not exist.
2022-07-21 18:24:36,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:36,746 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1] (custom)
2022-07-21 18:24:36,745 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:36,746 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:36,746 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:36,746 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-F7343385D2FC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0] (custom)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:36,747 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:36,748 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] returns group-F7343385D2FC:java.util.concurrent.CompletableFuture@74b39970[Not completed]
2022-07-21 18:24:36,748 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:36,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:36,748 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2
2022-07-21 18:24:36,748 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:36,748 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2 does not exist.
2022-07-21 18:24:36,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2
2022-07-21 18:24:36,748 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-F7343385D2FC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1] (custom)
2022-07-21 18:24:36,749 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:36,749 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:36,749 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:36,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:36,750 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:36,750 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:36,750 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:36,750 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:36,750 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:36,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:36,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2] (custom)
2022-07-21 18:24:36,751 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] returns group-F7343385D2FC:java.util.concurrent.CompletableFuture@765f3a28[Not completed]
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-F7343385D2FC:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:36,751 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc does not exist. Creating ...
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:36,751 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,751 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-F7343385D2FC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2] (custom)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:36,752 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:36,753 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:36,753 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:36,753 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:36,753 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:36,753 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:36,753 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:36,754 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current
2022-07-21 18:24:36,754 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/sm
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc has been successfully formatted.
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-F7343385D2FC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,755 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,756 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,763 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-F7343385D2FC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,763 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7343385D2FC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:36,763 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7343385D2FC-FollowerState
2022-07-21 18:24:36,764 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s0
2022-07-21 18:24:36,764 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:36,764 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:36,764 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:36,764 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:36,765 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1ecf558a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:36,765 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc does not exist. Creating ...
2022-07-21 18:24:36,766 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,767 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:36,767 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current
2022-07-21 18:24:36,767 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/sm
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc has been successfully formatted.
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-F7343385D2FC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:36,769 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:36,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:36,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:36,770 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:36,770 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,770 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,774 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-F7343385D2FC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-F7343385D2FC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F7343385D2FC-FollowerState
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s1
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:36,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:36,775 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:36,776 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc does not exist. Creating ...
2022-07-21 18:24:36,776 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,777 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1bf4a1d4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:36,777 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:36,778 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current
2022-07-21 18:24:36,778 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/sm
2022-07-21 18:24:36,779 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc has been successfully formatted.
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-F7343385D2FC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:36,780 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-F7343385D2FC: start as a follower, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-F7343385D2FC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:36,781 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:36,787 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s2
2022-07-21 18:24:36,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:36,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:36,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:36,787 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:36,788 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@215db9bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:36,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:36,789 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:36,789 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:36,991 [s0@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F7343385D2FC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227337128ns, electionTimeout:227ms
2022-07-21 18:24:36,991 [s0@group-F7343385D2FC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F7343385D2FC-FollowerState
2022-07-21 18:24:36,991 [s0@group-F7343385D2FC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7343385D2FC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:36,991 [s0@group-F7343385D2FC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:36,991 [s0@group-F7343385D2FC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7343385D2FC-LeaderElection49
2022-07-21 18:24:36,992 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F7343385D2FC-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,993 [Thread-1690] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-F7343385D2FC: receive requestVote(PRE_VOTE, s0, group-F7343385D2FC, 0, (t:0, i:0))
2022-07-21 18:24:36,993 [Thread-1690] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F7343385D2FC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:36,993 [Thread-1690] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-F7343385D2FC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,993 [Thread-1683] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-F7343385D2FC: receive requestVote(PRE_VOTE, s0, group-F7343385D2FC, 0, (t:0, i:0))
2022-07-21 18:24:36,993 [Thread-1683] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F7343385D2FC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:36,993 [Thread-1683] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-F7343385D2FC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-F7343385D2FC:t0, leader=null, voted=, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,994 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F7343385D2FC-LeaderElection49: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:36,994 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-07-21 18:24:36,994 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F7343385D2FC-LeaderElection49 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:36,995 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F7343385D2FC-LeaderElection49 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:36,996 [Thread-1684] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-F7343385D2FC: receive requestVote(ELECTION, s0, group-F7343385D2FC, 1, (t:0, i:0))
2022-07-21 18:24:37,000 [Thread-1684] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F7343385D2FC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:37,001 [Thread-1684] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-F7343385D2FC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:37,001 [Thread-1691] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-F7343385D2FC: receive requestVote(ELECTION, s0, group-F7343385D2FC, 1, (t:0, i:0))
2022-07-21 18:24:37,001 [Thread-1684] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,001 [Thread-1684] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,001 [s1@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:37,001 [Thread-1691] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F7343385D2FC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:37,001 [Thread-1691] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-F7343385D2FC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-21 18:24:37,001 [Thread-1691] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,001 [Thread-1691] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,001 [s2@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:37,003 [Thread-1684] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-F7343385D2FC replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-F7343385D2FC:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F7343385D2FC-LeaderElection49: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:37,003 [Thread-1691] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-F7343385D2FC replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-F7343385D2FC:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F7343385D2FC-LeaderElection49 ELECTION round 0: result PASSED
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F7343385D2FC-LeaderElection49
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7343385D2FC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-F7343385D2FC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 256ms
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:37,003 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:37,004 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:37,005 [s0@group-F7343385D2FC-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7343385D2FC-LeaderStateImpl
2022-07-21 18:24:37,005 [s0@group-F7343385D2FC-LeaderElection49] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:37,009 [s0@group-F7343385D2FC-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-F7343385D2FC: set configuration 0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,010 [Thread-1685] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-F7343385D2FC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 260ms
2022-07-21 18:24:37,012 [Thread-1692] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-F7343385D2FC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 260ms
2022-07-21 18:24:37,013 [Thread-1683] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1040, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44685"
dataStreamAddress: "localhost:46161"
clientAddress: "localhost:44035"
adminAddress: "localhost:42105"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35935"
dataStreamAddress: "localhost:36293"
clientAddress: "localhost:32987"
adminAddress: "localhost:43645"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45795"
dataStreamAddress: "localhost:39823"
clientAddress: "localhost:33103"
adminAddress: "localhost:35841"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:37,013 [Thread-1683] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-F7343385D2FC: set configuration 0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,014 [Thread-1683] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:37,015 [s0@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0
2022-07-21 18:24:37,016 [Thread-1690] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1041, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44685"
dataStreamAddress: "localhost:46161"
clientAddress: "localhost:44035"
adminAddress: "localhost:42105"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35935"
dataStreamAddress: "localhost:36293"
clientAddress: "localhost:32987"
adminAddress: "localhost:43645"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45795"
dataStreamAddress: "localhost:39823"
clientAddress: "localhost:33103"
adminAddress: "localhost:35841"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:37,018 [Thread-1690] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-F7343385D2FC: set configuration 0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,018 [Thread-1690] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:37,029 [s1@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0
2022-07-21 18:24:37,029 [s2@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0
2022-07-21 18:24:37,030 [Thread-1727] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1040:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:37,030 [Thread-1728] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1041:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:37,240 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F7343385D2FC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F7343385D2FC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:37,240 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:37,241 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s0@group-F7343385D2FC: receive client request(RaftClientRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1052, seq=0, RW, message)
2022-07-21 18:24:37,241 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-F7343385D2FC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1052, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1052@client-8C0DD37C9675
2022-07-21 18:24:37,242 [Thread-1683] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1053, entries: (t:1, i:1), STATEMACHINELOGENTRY, 1052@client-8C0DD37C9675
2022-07-21 18:24:37,242 [Thread-1690] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1054, entries: (t:1, i:1), STATEMACHINELOGENTRY, 1052@client-8C0DD37C9675
2022-07-21 18:24:37,243 [Thread-1739] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1053:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:37,244 [Thread-1684] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1056, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:37,245 [Thread-1741] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1054:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:37,245 [Thread-1691] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1057, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:37,248 [Thread-1743] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1056:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:37,248 [Thread-1744] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1057:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:37,249 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1092)) - s0@group-F7343385D2FC: receive setConfiguration SetConfigurationRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1058, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:37,249 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-F7343385D2FC-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1058, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:37,249 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-F7343385D2FC: set configuration 3: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:37,250 [Thread-1685] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:1059, entries: (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44685"
dataStreamAddress: "localhost:46161"
clientAddress: "localhost:44035"
adminAddress: "localhost:42105"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35935"
dataStreamAddress: "localhost:36293"
clientAddress: "localhost:32987"
adminAddress: "localhost:43645"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45795"
dataStreamAddress: "localhost:39823"
clientAddress: "localhost:33103"
adminAddress: "localhost:35841"
startupRole: FOLLOWER
)
2022-07-21 18:24:37,250 [Thread-1685] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-F7343385D2FC: set configuration 3: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:37,251 [Thread-1692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:1060, entries: (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:44685"
dataStreamAddress: "localhost:46161"
clientAddress: "localhost:44035"
adminAddress: "localhost:42105"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35935"
dataStreamAddress: "localhost:36293"
clientAddress: "localhost:32987"
adminAddress: "localhost:43645"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:45795"
dataStreamAddress: "localhost:39823"
clientAddress: "localhost:33103"
adminAddress: "localhost:35841"
startupRole: FOLLOWER
)
2022-07-21 18:24:37,251 [Thread-1692] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-F7343385D2FC: set configuration 3: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:44685|admin:localhost:42105|client:localhost:44035|dataStream:localhost:46161|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35935|admin:localhost:43645|client:localhost:32987|dataStream:localhost:36293|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45795|admin:localhost:35841|client:localhost:33103|dataStream:localhost:39823|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:37,252 [Thread-1746] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1059:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:37,252 [Thread-1747] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1060:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:37,252 [Thread-1690] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:1061, entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:37,253 [s0@group-F7343385D2FC-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-F7343385D2FC: set configuration 5: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,254 [Thread-1683] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:1062, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-07-21 18:24:37,254 [Thread-1683] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-F7343385D2FC: set configuration 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,255 [Thread-1748] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1061:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:37,255 [Thread-1749] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1062:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-07-21 18:24:37,256 [Thread-1684] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c3, s2:c2], cId:1063, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:37,259 [Thread-1691] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s0, 1, (t:1, i:4), 5, true, commits:[s0:c5, s1:c3, s2:c3], cId:1064, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2022-07-21 18:24:37,260 [Thread-1691] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-F7343385D2FC: set configuration 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,261 [Thread-1751] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s1#1063:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:37,261 [Thread-1752] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s0<-s2#1064:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:37,261 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(984)) - s0@group-F7343385D2FC: receive transferLeadership TransferLeadershipRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1065, seq=0, RO, null
2022-07-21 18:24:37,562 [s0@group-F7343385D2FC-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(977)) - s0@group-F7343385D2FC-LeaderStateImpl send StartLeaderElectionRequest to follower:s1 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-07-21 18:24:37,566 [Thread-1685] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1533)) - s1@group-F7343385D2FC: receive startLeaderElection from:s0, leaderLastEntry:term: 1
index: 6
,
2022-07-21 18:24:37,566 [Thread-1685] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,566 [Thread-1685] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-F7343385D2FC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:37,566 [s1@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:37,566 [Thread-1685] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F7343385D2FC-LeaderElection50
2022-07-21 18:24:37,569 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-F7343385D2FC: change Leader from s0 to null at term 1 for ELECTION
2022-07-21 18:24:37,570 [Thread-1769] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s0@group-F7343385D2FC-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s1
2022-07-21 18:24:37,571 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F7343385D2FC-LeaderElection50 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,573 [Thread-1676] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-F7343385D2FC: receive requestVote(ELECTION, s1, group-F7343385D2FC, 2, (t:1, i:6))
2022-07-21 18:24:37,573 [Thread-1676] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F7343385D2FC-LEADER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-07-21 18:24:37,573 [Thread-1676] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-F7343385D2FC: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:37,573 [Thread-1676] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-F7343385D2FC: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-07-21 18:24:37,573 [Thread-1676] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F7343385D2FC-LeaderStateImpl
2022-07-21 18:24:37,573 [s0@group-F7343385D2FC->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-F7343385D2FC->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:37,573 [Thread-1676] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F7343385D2FC-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:37,573 [s0@group-F7343385D2FC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-F7343385D2FC->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:37,573 [Thread-1690] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-F7343385D2FC: receive requestVote(ELECTION, s1, group-F7343385D2FC, 2, (t:1, i:6))
2022-07-21 18:24:37,574 [Thread-1690] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F7343385D2FC-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-07-21 18:24:37,574 [Thread-1690] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-F7343385D2FC: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:37,574 [Thread-1676] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,574 [Thread-1690] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-F7343385D2FC: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-21 18:24:37,574 [Thread-1690] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,574 [Thread-1690] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:37,575 [s2@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:37,575 [Thread-1676] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-F7343385D2FC replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-F7343385D2FC:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,575 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F7343385D2FC-LeaderElection50: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:37,575 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F7343385D2FC-LeaderElection50 ELECTION round 0: result PASSED
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F7343385D2FC-LeaderElection50
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-F7343385D2FC: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-F7343385D2FC: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 6ms
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:37,576 [Thread-1690] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-F7343385D2FC replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-F7343385D2FC:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:37,576 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F7343385D2FC-LeaderStateImpl
2022-07-21 18:24:37,577 [s1@group-F7343385D2FC-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:37,578 [s1@group-F7343385D2FC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,578 [s1@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,582 [s1@group-F7343385D2FC-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-F7343385D2FC: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,582 [Thread-1677] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-F7343385D2FC: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-07-21 18:24:37,583 [Thread-1691] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-F7343385D2FC: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-07-21 18:24:37,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:37,583 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:1|startupRole:FOLLOWER, s1|priority:2|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c6, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:37,584 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-F7343385D2FC not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-F7343385D2FC not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:37,588 [s1@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s1/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_7
2022-07-21 18:24:37,593 [Thread-1678] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:1084, entries: (t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:37,593 [Thread-1692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:1085, entries: (t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 1
startupRole: FOLLOWER
,id: "s1"
priority: 2
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:37,593 [Thread-1678] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-F7343385D2FC: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,593 [Thread-1692] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-F7343385D2FC: set configuration 7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:37,593 [Thread-1692] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:37,594 [s2@group-F7343385D2FC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,594 [s2@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,593 [Thread-1678] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:37,597 [s0@group-F7343385D2FC-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,597 [s0@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_0-6
2022-07-21 18:24:37,616 [s2@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s2/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_7
2022-07-21 18:24:37,616 [s0@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc71536701/s0/17496a31-38e3-4393-a90b-f7343385d2fc/current/log_inprogress_7
2022-07-21 18:24:37,616 [Thread-1783] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s2#1085:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:37,616 [Thread-1784] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s0#1084:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:37,618 [Thread-1676] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:1088, entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:37,618 [Thread-1690] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:1087, entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:37,619 [Thread-1785] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s2#1087:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:37,621 [Thread-1786] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s0#1088:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:38,034 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:38,035 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s0@group-F7343385D2FC: receive client request(RaftClientRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1110, seq=0, RW, message)
2022-07-21 18:24:38,035 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-8C0DD37C9675: suggested new leader: s1. Failed RaftClientRequest:client-8C0DD37C9675->s0@group-F7343385D2FC, cid=1110, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F7343385D2FC is not the leader s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:708)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:673)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:812)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:38,035 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-8C0DD37C9675: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-07-21 18:24:38,036 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-F7343385D2FC client-8C0DD37C9675: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-21 18:24:38,136 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s1@group-F7343385D2FC: receive client request(RaftClientRequest:client-8C0DD37C9675->s1@group-F7343385D2FC, cid=1110, seq=0, RW, message)
2022-07-21 18:24:38,137 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-F7343385D2FC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-8C0DD37C9675->s1@group-F7343385D2FC, cid=1110, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 1110@client-8C0DD37C9675
2022-07-21 18:24:38,138 [Thread-1677] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:1116, entries: (t:2, i:9), STATEMACHINELOGENTRY, 1110@client-8C0DD37C9675
2022-07-21 18:24:38,138 [Thread-1691] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:1117, entries: (t:2, i:9), STATEMACHINELOGENTRY, 1110@client-8C0DD37C9675
2022-07-21 18:24:38,139 [Thread-1814] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s0#1116:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-07-21 18:24:38,139 [Thread-1815] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s2#1117:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-07-21 18:24:38,139 [Thread-1692] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:1118, entries: (t:2, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:38,140 [Thread-1678] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: receive appendEntries(s1, 2, (t:2, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:1119, entries: (t:2, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:38,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:38,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:38,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:38,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:38,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:38,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:38,141 [Thread-1817] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s2#1118:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-07-21 18:24:38,142 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:38,144 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-F7343385D2FC: shutdown
2022-07-21 18:24:38,144 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:38,144 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:38,144 [Thread-1819] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-F7343385D2FC: succeeded to handle AppendEntries. Reply: s1<-s0#1119:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-07-21 18:24:38,145 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-F7343385D2FC: shutdown
2022-07-21 18:24:38,145 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s0
2022-07-21 18:24:38,145 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F7343385D2FC-FollowerState
2022-07-21 18:24:38,145 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-F7343385D2FC-StateMachineUpdater: set stopIndex = 9
2022-07-21 18:24:38,145 [s0@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:38,146 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-F7343385D2FC: closes. applyIndex: 9
2022-07-21 18:24:38,145 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-F7343385D2FC: shutdown
2022-07-21 18:24:38,144 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s1
2022-07-21 18:24:38,146 [s0@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:38,146 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7343385D2FC,id=s2
2022-07-21 18:24:38,146 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F7343385D2FC-LeaderStateImpl
2022-07-21 18:24:38,146 [s1@group-F7343385D2FC->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-F7343385D2FC->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:38,146 [s1@group-F7343385D2FC->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-F7343385D2FC->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:38,146 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F7343385D2FC-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:38,147 [java.util.concurrent.ThreadPoolExecutor$Worker@565440d1[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-F7343385D2FC-SegmentedRaftLogWorker close()
2022-07-21 18:24:38,146 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F7343385D2FC-FollowerState
2022-07-21 18:24:38,149 [Thread-1679] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,149 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-F7343385D2FC-StateMachineUpdater: set stopIndex = 10
2022-07-21 18:24:38,150 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-F7343385D2FC: closes. applyIndex: 10
2022-07-21 18:24:38,150 [s2@group-F7343385D2FC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F7343385D2FC-FollowerState was interrupted
2022-07-21 18:24:38,149 [Thread-1681] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,148 [Thread-1680] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,150 [Thread-1676] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,150 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-F7343385D2FC-StateMachineUpdater: set stopIndex = 9
2022-07-21 18:24:38,150 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-F7343385D2FC: closes. applyIndex: 9
2022-07-21 18:24:38,150 [s2@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:38,150 [Thread-1677] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,150 [s1@group-F7343385D2FC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:38,151 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1ecf558a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:38,153 [java.util.concurrent.ThreadPoolExecutor$Worker@737e09e3[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-F7343385D2FC-SegmentedRaftLogWorker close()
2022-07-21 18:24:38,153 [java.util.concurrent.ThreadPoolExecutor$Worker@3fbbe45e[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-F7343385D2FC-SegmentedRaftLogWorker close()
2022-07-21 18:24:38,154 [Thread-1693] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,155 [Thread-1694] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,155 [Thread-1686] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,155 [Thread-1687] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,155 [Thread-1688] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,156 [Thread-1683] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,156 [Thread-1684] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,156 [Thread-1685] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,156 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1bf4a1d4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:38,156 [Thread-1695] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,157 [Thread-1690] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,157 [Thread-1692] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,157 [Thread-1691] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:38,157 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@215db9bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:38,157 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:38,158 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F7343385D2FC-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F7343385D2FC-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-F7343385D2FC:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F7343385D2FC-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2022-07-21 18:24:38,160 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:38,161 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:38,161 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:38,161 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:38,161 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-07-21 18:24:38,162 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:38,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:38,163 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0
2022-07-21 18:24:38,163 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0 does not exist.
2022-07-21 18:24:38,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0
2022-07-21 18:24:38,163 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:38,163 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:38,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:38,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:38,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0] (custom)
2022-07-21 18:24:38,171 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] returns group-80E765AD2112:java.util.concurrent.CompletableFuture@755b65a2[Not completed]
2022-07-21 18:24:38,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:38,171 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1
2022-07-21 18:24:38,171 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1 does not exist.
2022-07-21 18:24:38,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1
2022-07-21 18:24:38,171 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:38,172 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:38,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:38,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:38,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,172 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1] (custom)
2022-07-21 18:24:38,172 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-80E765AD2112: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0] (custom)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:38,173 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] returns group-80E765AD2112:java.util.concurrent.CompletableFuture@3b2c9e5f[Not completed]
2022-07-21 18:24:38,173 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:38,174 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:38,174 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2
2022-07-21 18:24:38,174 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:38,174 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2 does not exist.
2022-07-21 18:24:38,174 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2
2022-07-21 18:24:38,174 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:38,174 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:38,174 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:38,175 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:38,175 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:38,175 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:38,174 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:38,174 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:38,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:38,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:38,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2] (custom)
2022-07-21 18:24:38,175 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:38,175 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:38,175 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-80E765AD2112: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1] (custom)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:38,176 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:38,177 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:38,177 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:38,179 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] returns group-80E765AD2112:java.util.concurrent.CompletableFuture@7fa901ee[Not completed]
2022-07-21 18:24:38,179 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-80E765AD2112:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:38,179 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:38,179 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112 does not exist. Creating ...
2022-07-21 18:24:38,179 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:38,180 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-80E765AD2112: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2] (custom)
2022-07-21 18:24:38,180 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:38,181 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:38,181 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:38,181 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:38,181 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:38,181 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:38,182 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:38,182 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:38,182 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current
2022-07-21 18:24:38,182 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:38,182 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/sm
2022-07-21 18:24:38,182 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:38,182 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112 has been successfully formatted.
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-80E765AD2112-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:38,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-80E765AD2112: start as a follower, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-80E765AD2112: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:38,184 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,185 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s0
2022-07-21 18:24:38,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:38,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:38,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:38,185 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:38,186 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2028b622] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:38,186 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112 does not exist. Creating ...
2022-07-21 18:24:38,186 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,187 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:38,187 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current
2022-07-21 18:24:38,187 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/sm
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112 has been successfully formatted.
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:38,188 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-80E765AD2112-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:38,189 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-80E765AD2112: start as a follower, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-80E765AD2112: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s1
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:38,190 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:38,192 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:38,204 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@113ae338] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:38,205 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112 does not exist. Creating ...
2022-07-21 18:24:38,205 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,206 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:38,206 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current
2022-07-21 18:24:38,206 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/sm
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112 has been successfully formatted.
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:38,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-80E765AD2112-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,208 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-80E765AD2112: start as a follower, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-80E765AD2112: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s2
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:38,209 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:38,209 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:38,210 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4e9b61b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:38,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:38,210 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:38,211 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:418)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:38,385 [s1@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-80E765AD2112-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195212210ns, electionTimeout:181ms
2022-07-21 18:24:38,385 [s1@group-80E765AD2112-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,385 [s1@group-80E765AD2112-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-80E765AD2112: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:38,385 [s1@group-80E765AD2112-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:38,385 [s1@group-80E765AD2112-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-80E765AD2112-LeaderElection51
2022-07-21 18:24:38,388 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-80E765AD2112-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,389 [s0@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-80E765AD2112-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204285499ns, electionTimeout:204ms
2022-07-21 18:24:38,389 [s0@group-80E765AD2112-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,389 [s0@group-80E765AD2112-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-80E765AD2112: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:38,389 [s0@group-80E765AD2112-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:38,389 [s0@group-80E765AD2112-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-80E765AD2112-LeaderElection52
2022-07-21 18:24:38,389 [Thread-1826] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-80E765AD2112: receive requestVote(PRE_VOTE, s1, group-80E765AD2112, 0, (t:0, i:0))
2022-07-21 18:24:38,390 [Thread-1826] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-80E765AD2112-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:38,390 [Thread-1826] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-80E765AD2112 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,390 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-80E765AD2112-LeaderElection51: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:38,390 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-07-21 18:24:38,390 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-80E765AD2112-LeaderElection51 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:38,390 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-80E765AD2112-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,390 [Thread-1840] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-80E765AD2112: receive requestVote(PRE_VOTE, s1, group-80E765AD2112, 0, (t:0, i:0))
2022-07-21 18:24:38,390 [Thread-1833] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-80E765AD2112: receive requestVote(PRE_VOTE, s0, group-80E765AD2112, 0, (t:0, i:0))
2022-07-21 18:24:38,390 [Thread-1840] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-80E765AD2112-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:38,391 [Thread-1840] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-80E765AD2112 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,391 [Thread-1841] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-80E765AD2112: receive requestVote(PRE_VOTE, s0, group-80E765AD2112, 0, (t:0, i:0))
2022-07-21 18:24:38,391 [Thread-1841] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-80E765AD2112-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:38,391 [Thread-1841] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-80E765AD2112 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-80E765AD2112:t0, leader=null, voted=, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,391 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-80E765AD2112-LeaderElection52: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:38,391 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-07-21 18:24:38,391 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-80E765AD2112-LeaderElection52 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:38,392 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-80E765AD2112-LeaderElection51 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,392 [Thread-1833] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-80E765AD2112-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:38,392 [Thread-1833] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-80E765AD2112 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-80E765AD2112:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,393 [Thread-1827] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-80E765AD2112: receive requestVote(ELECTION, s1, group-80E765AD2112, 1, (t:0, i:0))
2022-07-21 18:24:38,393 [Thread-1842] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-80E765AD2112: receive requestVote(ELECTION, s1, group-80E765AD2112, 1, (t:0, i:0))
2022-07-21 18:24:38,393 [Thread-1842] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-80E765AD2112-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:38,393 [Thread-1842] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-80E765AD2112: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-21 18:24:38,393 [Thread-1842] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,393 [Thread-1842] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,393 [s2@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:38,393 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-80E765AD2112-LeaderElection52 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,393 [Thread-1827] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-80E765AD2112-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-07-21 18:24:38,393 [Thread-1827] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-80E765AD2112 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-80E765AD2112:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,394 [Thread-1834] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-80E765AD2112: receive requestVote(ELECTION, s0, group-80E765AD2112, 1, (t:0, i:0))
2022-07-21 18:24:38,394 [Thread-1834] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-80E765AD2112-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-07-21 18:24:38,394 [Thread-1834] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-80E765AD2112 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-80E765AD2112:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,394 [Thread-1842] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-80E765AD2112 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-80E765AD2112:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,394 [Thread-1840] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-80E765AD2112: receive requestVote(ELECTION, s0, group-80E765AD2112, 1, (t:0, i:0))
2022-07-21 18:24:38,394 [Thread-1840] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-80E765AD2112-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2022-07-21 18:24:38,394 [Thread-1840] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-80E765AD2112 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-80E765AD2112:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,394 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-80E765AD2112-LeaderElection51: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:38,394 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-07-21 18:24:38,394 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t1
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-80E765AD2112-LeaderElection51 ELECTION round 0: result PASSED
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-80E765AD2112-LeaderElection51
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-80E765AD2112: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-80E765AD2112: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 218ms
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:38,395 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-80E765AD2112-LeaderStateImpl
2022-07-21 18:24:38,396 [s1@group-80E765AD2112-LeaderElection51] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:38,396 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-80E765AD2112-LeaderElection52: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:38,396 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-21 18:24:38,396 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-21 18:24:38,401 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-80E765AD2112-LeaderElection52 ELECTION round 0: result REJECTED
2022-07-21 18:24:38,401 [s0@group-80E765AD2112-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-80E765AD2112: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-21 18:24:38,401 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-80E765AD2112-LeaderElection52
2022-07-21 18:24:38,401 [s1@group-80E765AD2112-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-80E765AD2112: set configuration 0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,401 [s0@group-80E765AD2112-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-80E765AD2112-FollowerState
2022-07-21 18:24:38,402 [Thread-1828] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-80E765AD2112: change Leader from null to s1 at term 1 for appendEntries, leader elected after 228ms
2022-07-21 18:24:38,402 [Thread-1841] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-80E765AD2112: change Leader from null to s1 at term 1 for appendEntries, leader elected after 221ms
2022-07-21 18:24:38,402 [Thread-1826] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1129, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43239"
dataStreamAddress: "localhost:46853"
clientAddress: "localhost:36805"
adminAddress: "localhost:40339"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35971"
dataStreamAddress: "localhost:43799"
clientAddress: "localhost:38707"
adminAddress: "localhost:33805"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34239"
dataStreamAddress: "localhost:43779"
clientAddress: "localhost:43541"
adminAddress: "localhost:35381"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:38,403 [Thread-1826] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-80E765AD2112: set configuration 0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,403 [Thread-1826] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:38,403 [Thread-1842] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1130, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43239"
dataStreamAddress: "localhost:46853"
clientAddress: "localhost:36805"
adminAddress: "localhost:40339"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35971"
dataStreamAddress: "localhost:43799"
clientAddress: "localhost:38707"
adminAddress: "localhost:33805"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34239"
dataStreamAddress: "localhost:43779"
clientAddress: "localhost:43541"
adminAddress: "localhost:35381"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:38,405 [Thread-1842] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-80E765AD2112: set configuration 0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,405 [Thread-1842] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:38,413 [s1@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0
2022-07-21 18:24:38,413 [s0@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0
2022-07-21 18:24:38,416 [Thread-1880] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1129:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:38,419 [s2@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0
2022-07-21 18:24:38,420 [Thread-1881] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1130:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:38,663 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-80E765AD2112:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-80E765AD2112:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-80E765AD2112:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:38,663 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:38,666 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1057)) - s0@group-80E765AD2112 receive leaderElectionManagement request LeaderElectionManagementRequest:client-65DD6C5A078F->s0@group-80E765AD2112, cid=1144, seq=0, RO, null, Pause:
2022-07-21 18:24:38,667 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s0@group-80E765AD2112: receive client request(RaftClientRequest:client-65DD6C5A078F->s0@group-80E765AD2112, cid=1145, seq=0, RW, message)
2022-07-21 18:24:38,668 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-65DD6C5A078F: suggested new leader: s1. Failed RaftClientRequest:client-65DD6C5A078F->s0@group-80E765AD2112, cid=1145, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-80E765AD2112 is not the leader s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:708)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:673)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:812)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:795)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:795)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:38,668 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-65DD6C5A078F: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-07-21 18:24:38,668 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-80E765AD2112 client-65DD6C5A078F: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-21 18:24:38,769 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(803)) - s1@group-80E765AD2112: receive client request(RaftClientRequest:client-65DD6C5A078F->s1@group-80E765AD2112, cid=1145, seq=0, RW, message)
2022-07-21 18:24:38,770 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-80E765AD2112-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-65DD6C5A078F->s1@group-80E765AD2112, cid=1145, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1145@client-65DD6C5A078F
2022-07-21 18:24:38,770 [Thread-1828] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1151, entries: (t:1, i:1), STATEMACHINELOGENTRY, 1145@client-65DD6C5A078F
2022-07-21 18:24:38,771 [Thread-1841] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:1152, entries: (t:1, i:1), STATEMACHINELOGENTRY, 1145@client-65DD6C5A078F
2022-07-21 18:24:38,773 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1151:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:38,773 [Thread-1906] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1152:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:38,776 [Thread-1826] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1153, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:38,777 [Thread-1842] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:1154, entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:38,779 [Thread-1908] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1153:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:38,779 [Thread-1909] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1154:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:38,780 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1092)) - s1@group-80E765AD2112: receive setConfiguration SetConfigurationRequest:client-65DD6C5A078F->s1@group-80E765AD2112, cid=1155, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:38,780 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s1@group-80E765AD2112-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-65DD6C5A078F->s1@group-80E765AD2112, cid=1155, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER], listeners:[]
2022-07-21 18:24:38,781 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-80E765AD2112: set configuration 3: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:38,781 [Thread-1827] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:1156, entries: (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43239"
dataStreamAddress: "localhost:46853"
clientAddress: "localhost:36805"
adminAddress: "localhost:40339"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35971"
dataStreamAddress: "localhost:43799"
clientAddress: "localhost:38707"
adminAddress: "localhost:33805"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34239"
dataStreamAddress: "localhost:43779"
clientAddress: "localhost:43541"
adminAddress: "localhost:35381"
startupRole: FOLLOWER
)
2022-07-21 18:24:38,782 [Thread-1827] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-80E765AD2112: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:38,783 [Thread-1840] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:1157, entries: (t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:43239"
dataStreamAddress: "localhost:46853"
clientAddress: "localhost:36805"
adminAddress: "localhost:40339"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35971"
dataStreamAddress: "localhost:43799"
clientAddress: "localhost:38707"
adminAddress: "localhost:33805"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34239"
dataStreamAddress: "localhost:43779"
clientAddress: "localhost:43541"
adminAddress: "localhost:35381"
startupRole: FOLLOWER
)
2022-07-21 18:24:38,783 [Thread-1840] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-80E765AD2112: set configuration 3: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=peers:[s0|rpc:localhost:43239|admin:localhost:40339|client:localhost:36805|dataStream:localhost:46853|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35971|admin:localhost:33805|client:localhost:38707|dataStream:localhost:43799|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34239|admin:localhost:35381|client:localhost:43541|dataStream:localhost:43779|priority:0|startupRole:FOLLOWER]|listeners:[]
2022-07-21 18:24:38,784 [Thread-1911] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1156:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:38,785 [s1@group-80E765AD2112-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-80E765AD2112: set configuration 5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,785 [Thread-1828] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c1], cId:1158, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-07-21 18:24:38,786 [Thread-1828] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-80E765AD2112: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,789 [Thread-1912] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1157:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:38,790 [Thread-1841] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:1159, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2022-07-21 18:24:38,790 [Thread-1841] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-80E765AD2112: set configuration 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:38,791 [Thread-1913] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1158:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-07-21 18:24:38,792 [Thread-1826] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c2], cId:1160, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:38,792 [Thread-1914] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1159:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2022-07-21 18:24:38,793 [Thread-1842] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c3, s2:c3], cId:1161, entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:38,797 [Thread-1917] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s2#1161:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:38,803 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1057)) - s0@group-80E765AD2112 receive leaderElectionManagement request LeaderElectionManagementRequest:client-65DD6C5A078F->s0@group-80E765AD2112, cid=1162, seq=0, RO, null, Resume:
2022-07-21 18:24:38,803 [Thread-1916] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s1<-s0#1160:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:38,804 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:38,904 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,005 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,104 [s1@group-80E765AD2112-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(977)) - s1@group-80E765AD2112-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-07-21 18:24:39,105 [Thread-1827] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1533)) - s0@group-80E765AD2112: receive startLeaderElection from:s1, leaderLastEntry:term: 1
index: 6
,
2022-07-21 18:24:39,105 [Thread-1827] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,105 [Thread-1827] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-80E765AD2112: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:39,105 [s0@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:39,105 [Thread-1827] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-80E765AD2112-LeaderElection53
2022-07-21 18:24:39,105 [Thread-1934] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s1@group-80E765AD2112-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-07-21 18:24:39,105 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-80E765AD2112: change Leader from s1 to null at term 1 for ELECTION
2022-07-21 18:24:39,105 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s1>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s1>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,107 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-80E765AD2112-LeaderElection53 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,107 [Thread-1828] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1368)) - s0@group-80E765AD2112: Not recognize s1 (term=1) as leader, state: s0@group-80E765AD2112:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null reply: s1<-s0#1178:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2022-07-21 18:24:39,108 [Thread-1841] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-80E765AD2112: receive requestVote(ELECTION, s0, group-80E765AD2112, 2, (t:1, i:6))
2022-07-21 18:24:39,108 [Thread-1841] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-80E765AD2112-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-07-21 18:24:39,108 [Thread-1841] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-80E765AD2112: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:39,108 [Thread-1835] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-80E765AD2112: receive requestVote(ELECTION, s0, group-80E765AD2112, 2, (t:1, i:6))
2022-07-21 18:24:39,108 [s1@group-80E765AD2112-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-80E765AD2112: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:39,108 [Thread-1841] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-80E765AD2112: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-07-21 18:24:39,108 [Thread-1841] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,108 [Thread-1841] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,109 [s2@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:39,108 [s1@group-80E765AD2112-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-80E765AD2112: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2022-07-21 18:24:39,109 [s1@group-80E765AD2112-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-80E765AD2112-LeaderStateImpl
2022-07-21 18:24:39,109 [s1@group-80E765AD2112-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-80E765AD2112-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:39,109 [s1@group-80E765AD2112->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-80E765AD2112->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:39,109 [s1@group-80E765AD2112->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-80E765AD2112->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:39,109 [s1@group-80E765AD2112-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,111 [Thread-1841] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-80E765AD2112 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-80E765AD2112:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,112 [Thread-1835] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-80E765AD2112-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-80E765AD2112-LeaderElection53: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-80E765AD2112-LeaderElection53 ELECTION round 0: result PASSED
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-80E765AD2112-LeaderElection53
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-80E765AD2112: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-80E765AD2112: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 7ms
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:39,112 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,113 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,114 [s0@group-80E765AD2112-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-80E765AD2112-LeaderStateImpl
2022-07-21 18:24:39,114 [s0@group-80E765AD2112-LeaderElection53] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:39,114 [s0@group-80E765AD2112-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-80E765AD2112: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,115 [s0@group-80E765AD2112-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,115 [s0@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,112 [Thread-1835] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-80E765AD2112: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-07-21 18:24:39,116 [Thread-1835] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,116 [Thread-1835] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,115 [Thread-1842] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-80E765AD2112: change Leader from null to s0 at term 2 for appendEntries, leader elected after 6ms
2022-07-21 18:24:39,118 [s1@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:39,119 [Thread-1840] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:1182, entries: (t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,119 [Thread-1840] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-80E765AD2112: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,119 [Thread-1840] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:39,121 [s2@group-80E765AD2112-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,121 [s2@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,130 [s0@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s0/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_7
2022-07-21 18:24:39,130 [Thread-1835] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-80E765AD2112 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-80E765AD2112:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|priority:2|startupRole:FOLLOWER, s1|priority:1|startupRole:FOLLOWER, s2|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,130 [Thread-1833] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-80E765AD2112: change Leader from null to s0 at term 2 for appendEntries, leader elected after 21ms
2022-07-21 18:24:39,131 [Thread-1834] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-80E765AD2112: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:1183, entries: (t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,131 [Thread-1834] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-80E765AD2112: set configuration 7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,131 [Thread-1834] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-21 18:24:39,132 [s1@group-80E765AD2112-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,132 [s1@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_0-6
2022-07-21 18:24:39,136 [s2@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s2/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_7
2022-07-21 18:24:39,141 [Thread-1948] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s0<-s2#1182:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:39,142 [s1@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-80E765AD2112-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc32d6aaaf/s1/888740cc-6309-40e7-91ea-80e765ad2112/current/log_inprogress_7
2022-07-21 18:24:39,142 [Thread-1841] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:1185, entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:39,142 [Thread-1949] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s0<-s1#1183:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:39,142 [Thread-1835] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-80E765AD2112: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:1186, entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:39,143 [Thread-1950] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s0<-s2#1185:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:39,143 [Thread-1951] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-80E765AD2112: succeeded to handle AppendEntries. Reply: s0<-s1#1186:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:39,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-80E765AD2112:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-80E765AD2112-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-80E765AD2112:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-80E765AD2112-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-80E765AD2112:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-80E765AD2112-SegmentedRaftLog:OPENED:c7, conf=7: peers:[s0|rpc:|dataStream:|priority:2|startupRole:FOLLOWER, s1|rpc:|dataStream:|priority:1|startupRole:FOLLOWER, s2|rpc:|dataStream:|priority:1|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,209 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:39,211 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:39,211 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-80E765AD2112: shutdown
2022-07-21 18:24:39,211 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-80E765AD2112: shutdown
2022-07-21 18:24:39,212 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s0
2022-07-21 18:24:39,212 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-80E765AD2112-LeaderStateImpl
2022-07-21 18:24:39,212 [s0@group-80E765AD2112->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-80E765AD2112->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:39,212 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:39,212 [s0@group-80E765AD2112->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-80E765AD2112->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:39,212 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-80E765AD2112-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:39,212 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-80E765AD2112: shutdown
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s1
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-80E765AD2112-StateMachineUpdater: set stopIndex = 8
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-80E765AD2112: closes. applyIndex: 8
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-80E765AD2112,id=s2
2022-07-21 18:24:39,216 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-80E765AD2112-FollowerState
2022-07-21 18:24:39,216 [s2@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:39,216 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-80E765AD2112-StateMachineUpdater: set stopIndex = 7
2022-07-21 18:24:39,216 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-80E765AD2112: closes. applyIndex: 7
2022-07-21 18:24:39,215 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-80E765AD2112-StateMachineUpdater: set stopIndex = 7
2022-07-21 18:24:39,215 [s1@group-80E765AD2112-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-80E765AD2112-FollowerState was interrupted
2022-07-21 18:24:39,216 [s2@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-80E765AD2112-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:39,216 [s0@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-80E765AD2112-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:39,217 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-80E765AD2112: closes. applyIndex: 7
2022-07-21 18:24:39,218 [s1@group-80E765AD2112-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-80E765AD2112-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:39,218 [java.util.concurrent.ThreadPoolExecutor$Worker@60e8b93a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-80E765AD2112-SegmentedRaftLogWorker close()
2022-07-21 18:24:39,218 [java.util.concurrent.ThreadPoolExecutor$Worker@1ad92c1d[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-80E765AD2112-SegmentedRaftLogWorker close()
2022-07-21 18:24:39,219 [java.util.concurrent.ThreadPoolExecutor$Worker@455694af[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-80E765AD2112-SegmentedRaftLogWorker close()
2022-07-21 18:24:39,221 [Thread-1829] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,222 [Thread-1831] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,222 [Thread-1830] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,222 [Thread-1826] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,222 [Thread-1827] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,222 [Thread-1828] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,223 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@2028b622] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:39,224 [Thread-1843] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1844] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1845] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1840] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1841] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1836] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1837] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,224 [Thread-1838] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,225 [Thread-1833] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,225 [Thread-1834] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,225 [Thread-1835] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,225 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@113ae338] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:39,225 [Thread-1842] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:39,225 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4e9b61b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:39,226 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:39,226 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:39,226 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:39,226 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:39,226 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:39,229 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-07-21 18:24:39,229 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(95)) - Running testChangeLeader
2022-07-21 18:24:39,229 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:39,229 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:39,229 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:39,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0
2022-07-21 18:24:39,230 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0 does not exist.
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0
2022-07-21 18:24:39,230 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:39,230 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:39,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:39,230 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:39,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0] (custom)
2022-07-21 18:24:39,231 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] returns group-36A76C95CB12:java.util.concurrent.CompletableFuture@6c50cd18[Not completed]
2022-07-21 18:24:39,231 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:39,231 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1
2022-07-21 18:24:39,231 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-36A76C95CB12: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:39,232 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0] (custom)
2022-07-21 18:24:39,233 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1 does not exist.
2022-07-21 18:24:39,233 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1
2022-07-21 18:24:39,233 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:39,233 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:39,233 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:39,233 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:39,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:39,233 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:39,233 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:39,234 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,234 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,234 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:39,234 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1] (custom)
2022-07-21 18:24:39,234 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:39,234 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] returns group-36A76C95CB12:java.util.concurrent.CompletableFuture@183142fe[Not completed]
2022-07-21 18:24:39,234 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:39,234 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2
2022-07-21 18:24:39,235 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2 does not exist.
2022-07-21 18:24:39,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2
2022-07-21 18:24:39,235 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:39,235 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:39,235 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:39,235 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:39,235 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:39,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:39,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:39,235 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:39,235 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:39,235 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,237 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:39,237 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:39,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2] (custom)
2022-07-21 18:24:39,240 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] returns group-36A76C95CB12:java.util.concurrent.CompletableFuture@127ed662[Not completed]
2022-07-21 18:24:39,241 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-36A76C95CB12:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:39,241 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12 does not exist. Creating ...
2022-07-21 18:24:39,241 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-36A76C95CB12: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:39,242 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2] (custom)
2022-07-21 18:24:39,243 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:39,243 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:39,243 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current
2022-07-21 18:24:39,243 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/sm
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-36A76C95CB12: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:39,244 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1] (custom)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:39,245 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12 has been successfully formatted.
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-36A76C95CB12-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:39,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:39,250 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,250 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,252 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:39,252 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:39,252 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:39,252 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:39,252 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:39,253 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:39,253 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:39,253 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:39,253 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:39,256 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-36A76C95CB12: start as a follower, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,256 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:39,256 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,258 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s0
2022-07-21 18:24:39,258 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:39,259 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:39,259 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:39,260 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:39,273 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4a4061] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:39,273 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12 does not exist. Creating ...
2022-07-21 18:24:39,273 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,274 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:39,274 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current
2022-07-21 18:24:39,274 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/sm
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12 has been successfully formatted.
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:39,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-36A76C95CB12-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:39,276 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-21 18:24:39,277 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,277 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,288 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-36A76C95CB12: start as a follower, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,288 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:39,288 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,289 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s1
2022-07-21 18:24:39,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:39,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:39,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:39,292 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:39,299 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@69e78889] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:39,299 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12 does not exist. Creating ...
2022-07-21 18:24:39,299 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,300 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:39,300 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current
2022-07-21 18:24:39,301 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/sm
2022-07-21 18:24:39,301 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12 has been successfully formatted.
2022-07-21 18:24:39,301 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-36A76C95CB12-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:39,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:39,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:39,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:39,303 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-21 18:24:39,303 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,303 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-36A76C95CB12: start as a follower, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s2
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:39,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:39,304 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:39,305 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4d330c75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:39,305 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,306 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,306 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,544 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:255921402ns, electionTimeout:255ms
2022-07-21 18:24:39,544 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,545 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:39,545 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:39,545 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderElection54
2022-07-21 18:24:39,545 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,546 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 0, (t:0, i:0))
2022-07-21 18:24:39,546 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,546 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 0, (t:0, i:0))
2022-07-21 18:24:39,546 [Thread-1971] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,546 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,546 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-36A76C95CB12:t0, leader=null, voted=, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,547 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection54: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:39,547 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-07-21 18:24:39,547 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection54 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:39,549 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection54 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,549 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 1, (t:0, i:0))
2022-07-21 18:24:39,550 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,550 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 1, (t:0, i:0))
2022-07-21 18:24:39,550 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-21 18:24:39,550 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,550 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,550 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:39,550 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,550 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-21 18:24:39,550 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,551 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,551 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:39,552 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-36A76C95CB12:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,552 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-36A76C95CB12:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection54: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection54 ELECTION round 0: result PASSED
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-36A76C95CB12-LeaderElection54
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 307ms
2022-07-21 18:24:39,552 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,553 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,554 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,554 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,554 [s1@group-36A76C95CB12-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:39,554 [s1@group-36A76C95CB12-LeaderElection54] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:39,554 [s1@group-36A76C95CB12-LeaderElection54] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-21 18:24:39,555 [s1@group-36A76C95CB12-LeaderElection54] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,562 [s1@group-36A76C95CB12-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,562 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s1 at term 1 for appendEntries, leader elected after 328ms
2022-07-21 18:24:39,563 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s1 at term 1 for appendEntries, leader elected after 310ms
2022-07-21 18:24:39,563 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1199, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,563 [Thread-1971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1200, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,564 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,564 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,564 [Thread-1971] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:39,564 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-21 18:24:39,564 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:39,564 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-21 18:24:39,564 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,564 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0
2022-07-21 18:24:39,564 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0)
2022-07-21 18:24:39,565 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,565 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-21 18:24:39,582 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0
2022-07-21 18:24:39,582 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0)
2022-07-21 18:24:39,582 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0
2022-07-21 18:24:39,583 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0)
2022-07-21 18:24:39,583 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-21 18:24:39,583 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-21 18:24:39,583 [Thread-2009] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1200:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:39,584 [Thread-2010] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1199:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2022-07-21 18:24:39,756 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,758 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,758 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,758 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,858 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,859 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,859 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,859 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:39,960 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,961 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:39,961 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:39,986 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:251164655ns, electionTimeout:196ms
2022-07-21 18:24:39,986 [s0@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,986 [s0@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-21 18:24:39,986 [s0@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:39,986 [s0@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-LeaderElection55
2022-07-21 18:24:39,987 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s1 to null at term 1 for PRE_VOTE
2022-07-21 18:24:39,987 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-36A76C95CB12-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,987 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s0, group-36A76C95CB12, 1, (t:1, i:0))
2022-07-21 18:24:39,987 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s0, group-36A76C95CB12, 1, (t:1, i:0))
2022-07-21 18:24:39,987 [Thread-1964] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-21 18:24:39,987 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,988 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,988 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-36A76C95CB12:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,988 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-36A76C95CB12-LeaderElection55: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:39,988 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-07-21 18:24:39,988 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-36A76C95CB12-LeaderElection55 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:39,989 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-36A76C95CB12-LeaderElection55 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,989 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s0, group-36A76C95CB12, 2, (t:1, i:0))
2022-07-21 18:24:39,989 [Thread-1965] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,989 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:39,990 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-07-21 18:24:39,990 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:39,990 [Thread-1965] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:39,990 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,990 [s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:39,990 [s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:39,990 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s0, group-36A76C95CB12, 2, (t:1, i:0))
2022-07-21 18:24:39,990 [Thread-1973] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:39,990 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-07-21 18:24:39,990 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-07-21 18:24:39,991 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,991 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:39,991 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:39,992 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-36A76C95CB12:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,992 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-36A76C95CB12:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-36A76C95CB12-LeaderElection55: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-36A76C95CB12-LeaderElection55 ELECTION round 0: result PASSED
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-36A76C95CB12-LeaderElection55
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2022-07-21 18:24:39,992 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:39,993 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-21 18:24:39,994 [s0@group-36A76C95CB12-LeaderElection55] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:39,995 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:39,995 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:39,995 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-21 18:24:39,995 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-21 18:24:40,000 [s0@group-36A76C95CB12-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,000 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2022-07-21 18:24:40,001 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-07-21 18:24:40,001 [Thread-1964] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1221, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,001 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,001 [Thread-1964] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:40,002 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-21 18:24:40,002 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-21 18:24:40,002 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,003 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:40,003 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:40,003 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-21 18:24:40,003 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-21 18:24:40,005 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1
2022-07-21 18:24:40,005 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,005 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-21 18:24:40,007 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:1222, entries: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,007 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,007 [Thread-1972] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-21 18:24:40,007 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-21 18:24:40,007 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-21 18:24:40,008 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,008 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:40,008 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_0-0
2022-07-21 18:24:40,008 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-21 18:24:40,008 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-21 18:24:40,017 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1
2022-07-21 18:24:40,017 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,018 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-21 18:24:40,018 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1
2022-07-21 18:24:40,018 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,018 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-21 18:24:40,018 [Thread-2038] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s1#1221:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:40,019 [s0@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:40,019 [Thread-2039] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s2#1222:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2022-07-21 18:24:40,019 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,019 [Thread-1973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1223, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:40,019 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-21 18:24:40,020 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:40,020 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:1224, entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:40,020 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-21 18:24:40,020 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,020 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1)
2022-07-21 18:24:40,020 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-21 18:24:40,020 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-21 18:24:40,021 [Thread-2040] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s2#1223:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:40,021 [Thread-2041] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s1#1224:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2022-07-21 18:24:40,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,061 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-07-21 18:24:40,062 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,062 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:40,163 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,163 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,163 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,163 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:40,264 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,264 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,265 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,265 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:40,350 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:330075024ns, electionTimeout:203ms
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderElection56
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s0 to null at term 2 for PRE_VOTE
2022-07-21 18:24:40,351 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,352 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 2, (t:2, i:2))
2022-07-21 18:24:40,352 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 2, (t:2, i:2))
2022-07-21 18:24:40,352 [Thread-1958] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 359ms. Conf: 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,352 [Thread-1964] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:40,352 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,352 [Thread-1958] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-36A76C95CB12->s1(c1,m2,n3, attendVote=true, lastRpcSendTime=255, lastRpcResponseTime=330)
2022-07-21 18:24:40,352 [Thread-1958] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-36A76C95CB12->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=255, lastRpcResponseTime=331)
2022-07-21 18:24:40,352 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:40,352 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:40,352 [s0@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:40,352 [s0@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:40,352 [Thread-1958] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:40,353 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection56: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:40,353 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t2
2022-07-21 18:24:40,353 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection56 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:40,354 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,354 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-07-21 18:24:40,354 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t2. Peer's state: s0@group-36A76C95CB12:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,355 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection56 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,355 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 3, (t:2, i:2))
2022-07-21 18:24:40,355 [Thread-1959] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:40,355 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-07-21 18:24:40,355 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-07-21 18:24:40,356 [Thread-1959] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,356 [Thread-1959] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,356 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:40,356 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 3, (t:2, i:2))
2022-07-21 18:24:40,356 [Thread-1965] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:40,356 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s0 to null at term 3 for updateCurrentTerm
2022-07-21 18:24:40,356 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s2
2022-07-21 18:24:40,356 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,356 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:40,356 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:40,357 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-36A76C95CB12:t3, leader=null, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,358 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-36A76C95CB12:t3, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection56: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t3
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection56 ELECTION round 0: result PASSED
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-36A76C95CB12-LeaderElection56
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s2 at term 3 for becomeLeader, leader elected after 6ms
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:40,358 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-21 18:24:40,359 [s2@group-36A76C95CB12-LeaderElection56] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-21 18:24:40,360 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,360 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,360 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-21 18:24:40,360 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-21 18:24:40,364 [s2@group-36A76C95CB12-LeaderElection56] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,364 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s2 at term 3 for appendEntries, leader elected after 8ms
2022-07-21 18:24:40,365 [s2@group-36A76C95CB12-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,365 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s2 at term 3 for appendEntries, leader elected after 9ms
2022-07-21 18:24:40,365 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=1: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,365 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-36A76C95CB12 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-36A76C95CB12 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:40,369 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c0], cId:1239, entries: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,369 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,369 [Thread-1958] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:40,369 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-21 18:24:40,369 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-21 18:24:40,369 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,370 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,370 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,370 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-21 18:24:40,370 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-21 18:24:40,373 [Thread-1964] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 3, (t:2, i:2), 1, true, commits:[s2:c1, s0:c2, s1:c1], cId:1240, entries: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,373 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:40,373 [Thread-1964] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-21 18:24:40,373 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-21 18:24:40,373 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-21 18:24:40,373 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:40,374 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,374 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_1-2
2022-07-21 18:24:40,374 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-21 18:24:40,374 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-21 18:24:40,373 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3
2022-07-21 18:24:40,380 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,388 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-21 18:24:40,388 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3
2022-07-21 18:24:40,388 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,389 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3
2022-07-21 18:24:40,389 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-21 18:24:40,389 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,389 [Thread-2065] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1239:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2022-07-21 18:24:40,389 [s2@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:40,390 [Thread-1959] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c1], cId:1241, entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:40,390 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,390 [Thread-1959] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:40,390 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-21 18:24:40,391 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-21 18:24:40,391 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,391 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-21 18:24:40,392 [Thread-2066] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1240:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2022-07-21 18:24:40,392 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 3, (t:3, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c1], cId:1242, entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:40,392 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-21 18:24:40,392 [Thread-2067] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1241:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:40,392 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3)
2022-07-21 18:24:40,393 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-21 18:24:40,393 [Thread-2068] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1242:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2022-07-21 18:24:40,816 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,816 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-07-21 18:24:40,816 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,816 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,817 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,817 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:40,917 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:40,918 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,918 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:40,918 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,019 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,071 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300289133ns, electionTimeout:293ms
2022-07-21 18:24:41,071 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,072 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-21 18:24:41,072 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:41,072 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderElection57
2022-07-21 18:24:41,072 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s2 to null at term 3 for PRE_VOTE
2022-07-21 18:24:41,072 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,073 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 3, (t:3, i:4))
2022-07-21 18:24:41,073 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,073 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,073 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection57: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:41,073 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t3
2022-07-21 18:24:41,073 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection57 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:41,073 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 3, (t:3, i:4))
2022-07-21 18:24:41,073 [Thread-1972] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 715ms. Conf: 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,074 [Thread-1972] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-36A76C95CB12->s0(c4,m4,n5, attendVote=true, lastRpcSendTime=227, lastRpcResponseTime=302)
2022-07-21 18:24:41,074 [Thread-1972] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-36A76C95CB12->s1(c4,m4,n5, attendVote=true, lastRpcSendTime=227, lastRpcResponseTime=302)
2022-07-21 18:24:41,074 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:41,074 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:41,074 [s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:41,074 [Thread-1972] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:41,074 [s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:41,075 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection57 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,075 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,076 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 4, (t:3, i:4))
2022-07-21 18:24:41,076 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,076 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-07-21 18:24:41,076 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-07-21 18:24:41,077 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,077 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-07-21 18:24:41,077 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t3. Peer's state: s2@group-36A76C95CB12:t3, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,077 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 4, (t:3, i:4))
2022-07-21 18:24:41,077 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,077 [Thread-1973] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,077 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s2 to null at term 4 for updateCurrentTerm
2022-07-21 18:24:41,077 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-07-21 18:24:41,077 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,077 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s2@group-36A76C95CB12-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2022-07-21 18:24:41,077 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:41,079 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,079 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-36A76C95CB12:t4, leader=null, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection57: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t4
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection57 ELECTION round 0: result PASSED
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-36A76C95CB12-LeaderElection57
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 7ms
2022-07-21 18:24:41,079 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:41,080 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:41,081 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-36A76C95CB12:t4, leader=null, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-21 18:24:41,081 [s1@group-36A76C95CB12-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,082 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,082 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,082 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-21 18:24:41,082 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-21 18:24:41,086 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s1 at term 4 for appendEntries, leader elected after 9ms
2022-07-21 18:24:41,086 [s1@group-36A76C95CB12-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,089 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s1 at term 4 for appendEntries, leader elected after 11ms
2022-07-21 18:24:41,091 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 4, (t:3, i:4), 4, true, commits:[s1:c4, s0:c4, s2:c4], cId:1275, entries: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,091 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,091 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-21 18:24:41,091 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-21 18:24:41,091 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-21 18:24:41,091 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,092 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 4, (t:3, i:4), 4, true, commits:[s1:c4, s0:c4, s2:c4], cId:1277, entries: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,092 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,092 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,092 [Thread-1972] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-21 18:24:41,092 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,092 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-21 18:24:41,092 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-21 18:24:41,092 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-21 18:24:41,093 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-21 18:24:41,093 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,095 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,095 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_3-4
2022-07-21 18:24:41,095 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-21 18:24:41,095 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-21 18:24:41,098 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5
2022-07-21 18:24:41,098 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,098 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-21 18:24:41,109 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5
2022-07-21 18:24:41,109 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,109 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5
2022-07-21 18:24:41,109 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-21 18:24:41,110 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,110 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-21 18:24:41,111 [Thread-2111] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1275:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-07-21 18:24:41,111 [Thread-2112] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1277:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2022-07-21 18:24:41,111 [s1@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:41,111 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,112 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-21 18:24:41,112 [Thread-1973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:1278, entries: (t:4, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:41,112 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:41,112 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:1279, entries: (t:4, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:41,112 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,112 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-21 18:24:41,112 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-21 18:24:41,112 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5)
2022-07-21 18:24:41,113 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-21 18:24:41,113 [Thread-2113] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1278:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:41,117 [Thread-2115] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1279:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2022-07-21 18:24:41,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-07-21 18:24:41,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,120 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,120 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,221 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,221 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,221 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,322 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,322 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,322 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,322 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,423 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,423 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,423 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,424 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,505 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:392557231ns, electionTimeout:214ms
2022-07-21 18:24:41,505 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,505 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-07-21 18:24:41,505 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:41,505 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderElection58
2022-07-21 18:24:41,506 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s1 to null at term 4 for PRE_VOTE
2022-07-21 18:24:41,506 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,506 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 4, (t:4, i:6))
2022-07-21 18:24:41,506 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 4, (t:4, i:6))
2022-07-21 18:24:41,506 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,506 [Thread-1966] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s1@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 426ms. Conf: 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,506 [Thread-1966] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-36A76C95CB12->s0(c5,m6,n7, attendVote=true, lastRpcSendTime=314, lastRpcResponseTime=389)
2022-07-21 18:24:41,507 [Thread-1966] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-36A76C95CB12->s2(c5,m6,n7, attendVote=true, lastRpcSendTime=318, lastRpcResponseTime=393)
2022-07-21 18:24:41,507 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:41,507 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:41,507 [Thread-1966] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:41,506 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,507 [s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:41,507 [s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:41,507 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection58: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:41,507 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2022-07-21 18:24:41,507 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,507 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection58 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:41,508 [Thread-1966] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-07-21 18:24:41,509 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t4. Peer's state: s1@group-36A76C95CB12:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,509 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection58 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,510 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 5, (t:4, i:6))
2022-07-21 18:24:41,510 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,510 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-07-21 18:24:41,510 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-07-21 18:24:41,510 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,510 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,510 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:41,510 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 5, (t:4, i:6))
2022-07-21 18:24:41,510 [Thread-1964] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:41,510 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-07-21 18:24:41,510 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-07-21 18:24:41,511 [Thread-1964] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,511 [Thread-1964] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:41,511 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:41,512 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-36A76C95CB12:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection58: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t5
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection58 ELECTION round 0: result PASSED
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-36A76C95CB12-LeaderElection58
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 6ms
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:41,512 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:41,513 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:41,514 [s2@group-36A76C95CB12-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:41,514 [s2@group-36A76C95CB12-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-21 18:24:41,514 [s2@group-36A76C95CB12-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-21 18:24:41,514 [s2@group-36A76C95CB12-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-21 18:24:41,514 [s2@group-36A76C95CB12-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,515 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,515 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,515 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-21 18:24:41,515 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-21 18:24:41,516 [Thread-1964] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-36A76C95CB12:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,519 [s2@group-36A76C95CB12-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,519 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s2 at term 5 for appendEntries, leader elected after 8ms
2022-07-21 18:24:41,520 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c5, s1:c5], cId:1294, entries: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,520 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,520 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-21 18:24:41,520 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-21 18:24:41,520 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-21 18:24:41,520 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,521 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,521 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,521 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-21 18:24:41,521 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-21 18:24:41,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,524 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c5, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,524 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-36A76C95CB12 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-36A76C95CB12 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:41,529 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s2 at term 5 for appendEntries, leader elected after 18ms
2022-07-21 18:24:41,531 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7
2022-07-21 18:24:41,532 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,532 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7
2022-07-21 18:24:41,532 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 5, (t:4, i:6), 5, true, commits:[s2:c5, s0:c5, s1:c6], cId:1296, entries: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,532 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,532 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:41,532 [Thread-1966] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-21 18:24:41,532 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-21 18:24:41,532 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-21 18:24:41,533 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:41,533 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,533 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_5-6
2022-07-21 18:24:41,533 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-21 18:24:41,533 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-21 18:24:41,532 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-21 18:24:41,532 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-21 18:24:41,534 [Thread-2139] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1294:OK-t5,SUCCESS,nextIndex=8,followerCommit=5,matchIndex=7
2022-07-21 18:24:41,534 [s2@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:41,534 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,535 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-21 18:24:41,535 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits:[s2:c7, s0:c5, s1:c6], cId:1297, entries: (t:5, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:41,537 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:41,537 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,538 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-21 18:24:41,544 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7
2022-07-21 18:24:41,544 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,544 [Thread-2140] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1297:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2022-07-21 18:24:41,545 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-21 18:24:41,545 [Thread-2141] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1296:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2022-07-21 18:24:41,545 [Thread-1964] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 5, (t:5, i:7), 8, true, commits:[s2:c8, s0:c7, s1:c6], cId:1298, entries: (t:5, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:41,545 [Thread-1964] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-21 18:24:41,546 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7)
2022-07-21 18:24:41,546 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-21 18:24:41,546 [Thread-2142] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1298:OK-t5,SUCCESS,nextIndex=9,followerCommit=8,matchIndex=8
2022-07-21 18:24:41,975 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,975 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-07-21 18:24:41,975 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:41,983 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:41,984 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,084 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,085 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,151 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226236807ns, electionTimeout:177ms
2022-07-21 18:24:42,151 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,151 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-07-21 18:24:42,151 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:42,151 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderElection59
2022-07-21 18:24:42,152 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s2 to null at term 5 for PRE_VOTE
2022-07-21 18:24:42,152 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,152 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 5, (t:5, i:8))
2022-07-21 18:24:42,152 [Thread-1959] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,153 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,156 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection59: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:42,156 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2022-07-21 18:24:42,157 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection59 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:42,157 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 5, (t:5, i:8))
2022-07-21 18:24:42,157 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-21 18:24:42,157 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-36A76C95CB12:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,159 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection59 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,159 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 6, (t:5, i:8))
2022-07-21 18:24:42,159 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,159 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 6, (t:5, i:8))
2022-07-21 18:24:42,159 [Thread-1973] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,159 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-07-21 18:24:42,159 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 6 for candidate:s1
2022-07-21 18:24:42,159 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:42,160 [Thread-1973] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:42,160 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,160 [s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:42,160 [s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:42,159 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-07-21 18:24:42,161 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-07-21 18:24:42,161 [Thread-1957] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,161 [Thread-1957] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,161 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:42,162 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s1<-s0#0:OK-t6. Peer's state: s0@group-36A76C95CB12:t6, leader=null, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,162 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-36A76C95CB12:t6, leader=null, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection59: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t6
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection59 ELECTION round 0: result PASSED
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-36A76C95CB12-LeaderElection59
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s1 at term 6 for becomeLeader, leader elected after 10ms
2022-07-21 18:24:42,162 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:42,163 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:42,164 [s1@group-36A76C95CB12-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:42,164 [s1@group-36A76C95CB12-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-21 18:24:42,164 [s1@group-36A76C95CB12-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-21 18:24:42,164 [s1@group-36A76C95CB12-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-21 18:24:42,164 [s1@group-36A76C95CB12-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,165 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,165 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,165 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-21 18:24:42,165 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-21 18:24:42,169 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s1 at term 6 for appendEntries, leader elected after 9ms
2022-07-21 18:24:42,169 [s1@group-36A76C95CB12-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,170 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s1 at term 6 for appendEntries, leader elected after 10ms
2022-07-21 18:24:42,171 [Thread-1959] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:1330, entries: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,171 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,171 [Thread-1959] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-21 18:24:42,172 [Thread-1959] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-21 18:24:42,172 [Thread-1959] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-21 18:24:42,172 [Thread-1959] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,172 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,172 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,172 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-21 18:24:42,172 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-21 18:24:42,175 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:1332, entries: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,175 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,175 [Thread-1972] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-21 18:24:42,175 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-21 18:24:42,175 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-21 18:24:42,175 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,175 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9
2022-07-21 18:24:42,176 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,176 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-21 18:24:42,176 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,176 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_7-8
2022-07-21 18:24:42,176 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-21 18:24:42,176 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-21 18:24:42,185 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,185 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c8, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,185 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-36A76C95CB12 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-36A76C95CB12 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,189 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9
2022-07-21 18:24:42,189 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,189 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9
2022-07-21 18:24:42,189 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,189 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-21 18:24:42,189 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-21 18:24:42,189 [Thread-2183] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1332:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-07-21 18:24:42,190 [s1@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:42,190 [Thread-1973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 6, (t:6, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:1333, entries: (t:6, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:42,190 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:42,190 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,191 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-21 18:24:42,192 [Thread-2185] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1333:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2022-07-21 18:24:42,192 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,193 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-21 18:24:42,194 [Thread-2184] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1330:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2022-07-21 18:24:42,194 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 6, (t:6, i:9), 10, true, commits:[s1:c10, s0:c8, s2:c9], cId:1334, entries: (t:6, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:42,194 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-21 18:24:42,195 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9)
2022-07-21 18:24:42,195 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-21 18:24:42,195 [Thread-2186] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1334:OK-t6,SUCCESS,nextIndex=11,followerCommit=10,matchIndex=10
2022-07-21 18:24:42,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-07-21 18:24:42,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,636 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,636 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,738 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,738 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,738 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216511611ns, electionTimeout:185ms
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-LeaderElection60
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s1 to null at term 6 for PRE_VOTE
2022-07-21 18:24:42,791 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-36A76C95CB12-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,792 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s0, group-36A76C95CB12, 6, (t:6, i:10))
2022-07-21 18:24:42,792 [Thread-1965] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-21 18:24:42,792 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t6. Peer's state: s1@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,792 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s0, group-36A76C95CB12, 6, (t:6, i:10))
2022-07-21 18:24:42,792 [Thread-1971] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,792 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-36A76C95CB12:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,793 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-36A76C95CB12-LeaderElection60: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-21 18:24:42,793 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t6
2022-07-21 18:24:42,793 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t6
2022-07-21 18:24:42,793 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-36A76C95CB12-LeaderElection60 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:42,794 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-36A76C95CB12-LeaderElection60 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,794 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s0, group-36A76C95CB12, 7, (t:6, i:10))
2022-07-21 18:24:42,795 [Thread-1966] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,795 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s0, group-36A76C95CB12, 7, (t:6, i:10))
2022-07-21 18:24:42,795 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-07-21 18:24:42,795 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 7 for candidate:s0
2022-07-21 18:24:42,795 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:42,795 [Thread-1966] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:42,795 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,795 [s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:42,795 [s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:42,795 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-21 18:24:42,795 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-07-21 18:24:42,795 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2022-07-21 18:24:42,795 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,796 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:42,796 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:42,797 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-36A76C95CB12:t7, leader=null, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,797 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-36A76C95CB12:t7, leader=null, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,797 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-36A76C95CB12-LeaderElection60: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:42,797 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t7
2022-07-21 18:24:42,797 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-36A76C95CB12-LeaderElection60 ELECTION round 0: result PASSED
2022-07-21 18:24:42,797 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-36A76C95CB12-LeaderElection60
2022-07-21 18:24:42,797 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s0 at term 7 for becomeLeader, leader elected after 6ms
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:42,798 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-21 18:24:42,799 [s0@group-36A76C95CB12-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,800 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,800 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,800 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-21 18:24:42,800 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-21 18:24:42,805 [s0@group-36A76C95CB12-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,805 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s0 at term 7 for appendEntries, leader elected after 10ms
2022-07-21 18:24:42,805 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s0 at term 7 for appendEntries, leader elected after 9ms
2022-07-21 18:24:42,805 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s0, 7, (t:6, i:10), 10, true, commits:[s0:c10, s1:c10, s2:c10], cId:1365, entries: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,805 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,806 [Thread-1965] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-21 18:24:42,806 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-21 18:24:42,806 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-21 18:24:42,806 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,807 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,807 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,807 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-21 18:24:42,807 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-21 18:24:42,809 [Thread-1971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s0, 7, (t:6, i:10), 10, true, commits:[s0:c10, s1:c10, s2:c10], cId:1366, entries: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,809 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:42,809 [Thread-1971] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-21 18:24:42,809 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-21 18:24:42,809 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-21 18:24:42,809 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:42,810 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,810 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_9-10
2022-07-21 18:24:42,810 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-21 18:24:42,810 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-21 18:24:42,813 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11
2022-07-21 18:24:42,813 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,813 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-21 18:24:42,824 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11
2022-07-21 18:24:42,824 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11
2022-07-21 18:24:42,824 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,824 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,824 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-21 18:24:42,825 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-21 18:24:42,825 [Thread-2225] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s2#1366:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-07-21 18:24:42,825 [Thread-2226] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s1#1365:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2022-07-21 18:24:42,825 [s0@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-21 18:24:42,825 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,826 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-21 18:24:42,826 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s0, 7, (t:7, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:1367, entries: (t:7, i:12), METADATAENTRY(c:11)
2022-07-21 18:24:42,826 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-21 18:24:42,826 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s0, 7, (t:7, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:1368, entries: (t:7, i:12), METADATAENTRY(c:11)
2022-07-21 18:24:42,826 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-21 18:24:42,827 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,827 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11)
2022-07-21 18:24:42,827 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-21 18:24:42,827 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-21 18:24:42,827 [Thread-2227] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s1#1368:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2022-07-21 18:24:42,828 [Thread-2228] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s0<-s2#1367:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2022-07-21 18:24:42,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-07-21 18:24:42,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,839 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:42,940 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:42,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:42,940 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,041 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s0@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 333ms. Conf: 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-36A76C95CB12->s1(c11,m12,n13, attendVote=true, lastRpcSendTime=227, lastRpcResponseTime=303)
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s0@group-36A76C95CB12->s2(c11,m12,n13, attendVote=true, lastRpcSendTime=227, lastRpcResponseTime=303)
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,131 [s0@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:43,142 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,142 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,142 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:320499124ns, electionTimeout:176ms
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderElection61
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s0 to null at term 7 for PRE_VOTE
2022-07-21 18:24:43,148 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,149 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 7, (t:7, i:12))
2022-07-21 18:24:43,149 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 7, (t:7, i:12))
2022-07-21 18:24:43,149 [Thread-1971] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,149 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,149 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-07-21 18:24:43,149 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t7. Peer's state: s0@group-36A76C95CB12:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,149 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection61: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:43,149 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t7
2022-07-21 18:24:43,149 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection61 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:43,151 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection61 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,151 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 8, (t:7, i:12))
2022-07-21 18:24:43,152 [Thread-1959] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,152 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s0 to null at term 8 for updateCurrentTerm
2022-07-21 18:24:43,152 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s1
2022-07-21 18:24:43,152 [Thread-1959] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,152 [Thread-1959] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,152 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 8, (t:7, i:12))
2022-07-21 18:24:43,152 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:43,152 [Thread-1972] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,152 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s0 to null at term 8 for updateCurrentTerm
2022-07-21 18:24:43,152 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s1
2022-07-21 18:24:43,152 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,152 [Thread-1972] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,152 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:43,153 [Thread-1959] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s1<-s0#0:OK-t8. Peer's state: s0@group-36A76C95CB12:t8, leader=null, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,154 [Thread-1972] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-36A76C95CB12:t8, leader=null, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection61: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t8
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection61 ELECTION round 0: result PASSED
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-36A76C95CB12-LeaderElection61
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s1 at term 8 for becomeLeader, leader elected after 5ms
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:43,154 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-21 18:24:43,155 [s1@group-36A76C95CB12-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-21 18:24:43,156 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,156 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,156 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-21 18:24:43,156 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-21 18:24:43,157 [s1@group-36A76C95CB12-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,161 [s1@group-36A76C95CB12-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,161 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s1 at term 8 for appendEntries, leader elected after 9ms
2022-07-21 18:24:43,161 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s1 at term 8 for appendEntries, leader elected after 9ms
2022-07-21 18:24:43,162 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 8, (t:7, i:12), 11, true, commits:[s1:c11, s0:c12, s2:c11], cId:1383, entries: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,162 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,162 [Thread-1958] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-21 18:24:43,162 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-21 18:24:43,162 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-21 18:24:43,163 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,162 [Thread-1971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 8, (t:7, i:12), 11, true, commits:[s1:c11, s0:c12, s2:c11], cId:1384, entries: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,163 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,163 [Thread-1971] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-21 18:24:43,163 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-21 18:24:43,163 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-21 18:24:43,163 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,164 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,164 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,164 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-21 18:24:43,164 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-21 18:24:43,163 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,168 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_11-12
2022-07-21 18:24:43,168 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-21 18:24:43,168 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-21 18:24:43,181 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13
2022-07-21 18:24:43,181 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13
2022-07-21 18:24:43,182 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,182 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,182 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13
2022-07-21 18:24:43,182 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-21 18:24:43,183 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,183 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-21 18:24:43,183 [Thread-2252] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1384:OK-t8,SUCCESS,nextIndex=14,followerCommit=11,matchIndex=13
2022-07-21 18:24:43,183 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-21 18:24:43,183 [Thread-2253] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1383:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2022-07-21 18:24:43,183 [s1@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-21 18:24:43,184 [Thread-1972] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 8, (t:8, i:13), 13, true, commits:[s1:c13, s0:c12, s2:c11], cId:1386, entries: (t:8, i:14), METADATAENTRY(c:13)
2022-07-21 18:24:43,184 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,184 [Thread-1972] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-21 18:24:43,185 [Thread-1959] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 8, (t:8, i:13), 13, true, commits:[s1:c13, s0:c12, s2:c11], cId:1385, entries: (t:8, i:14), METADATAENTRY(c:13)
2022-07-21 18:24:43,185 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-21 18:24:43,185 [Thread-1959] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-21 18:24:43,185 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,185 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-21 18:24:43,185 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13)
2022-07-21 18:24:43,186 [Thread-2254] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1386:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-07-21 18:24:43,186 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-21 18:24:43,191 [Thread-2255] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1385:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2022-07-21 18:24:43,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-07-21 18:24:43,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,593 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,694 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,694 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,694 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,694 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,795 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:253345568ns, electionTimeout:216ms
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderElection62
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s1 to null at term 8 for PRE_VOTE
2022-07-21 18:24:43,818 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 8 for 13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,819 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 8, (t:8, i:14))
2022-07-21 18:24:43,819 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 8, (t:8, i:14))
2022-07-21 18:24:43,819 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,819 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s0#0:OK-t8. Peer's state: s0@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,819 [Thread-1965] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-21 18:24:43,819 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t8. Peer's state: s1@group-36A76C95CB12:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,819 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection62: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:43,819 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t8
2022-07-21 18:24:43,819 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection62 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:43,827 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection62 ELECTION round 0: submit vote requests at term 9 for 13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,827 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 9, (t:8, i:14))
2022-07-21 18:24:43,827 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,827 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s1 to null at term 9 for updateCurrentTerm
2022-07-21 18:24:43,828 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-07-21 18:24:43,828 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 9, (t:8, i:14))
2022-07-21 18:24:43,828 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,828 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,828 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:43,828 [Thread-1966] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:43,828 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s1 to null at term 9 for updateCurrentTerm
2022-07-21 18:24:43,828 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 9 for candidate:s2
2022-07-21 18:24:43,828 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:43,828 [Thread-1966] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:43,828 [s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:43,828 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:43,828 [s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:43,831 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-36A76C95CB12:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,831 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-36A76C95CB12:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,831 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:43,831 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t9
2022-07-21 18:24:43,831 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection62 ELECTION round 0: result PASSED
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-36A76C95CB12-LeaderElection62
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 13ms
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:43,832 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-21 18:24:43,833 [s2@group-36A76C95CB12-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,834 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,834 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,834 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-21 18:24:43,834 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-21 18:24:43,838 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s2 at term 9 for appendEntries, leader elected after 10ms
2022-07-21 18:24:43,838 [s2@group-36A76C95CB12-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,839 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s2 at term 9 for appendEntries, leader elected after 10ms
2022-07-21 18:24:43,839 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 9, (t:8, i:14), 14, true, commits:[s2:c14, s0:c14, s1:c14], cId:1418, entries: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,839 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,839 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-21 18:24:43,839 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-21 18:24:43,840 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-21 18:24:43,840 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,841 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,841 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,841 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-21 18:24:43,841 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-21 18:24:43,844 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 9, (t:8, i:14), 14, true, commits:[s2:c14, s0:c14, s1:c14], cId:1419, entries: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,844 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:43,845 [Thread-1965] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-21 18:24:43,845 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-21 18:24:43,845 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-21 18:24:43,845 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:43,846 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,846 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_13-14
2022-07-21 18:24:43,846 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-21 18:24:43,846 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-21 18:24:43,857 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15
2022-07-21 18:24:43,857 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15
2022-07-21 18:24:43,857 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,857 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,857 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-21 18:24:43,857 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15
2022-07-21 18:24:43,858 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,857 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-21 18:24:43,858 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-21 18:24:43,858 [Thread-2296] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1418:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-07-21 18:24:43,858 [s2@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-21 18:24:43,858 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,859 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-21 18:24:43,859 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits:[s2:c15, s0:c14, s1:c14], cId:1421, entries: (t:9, i:16), METADATAENTRY(c:15)
2022-07-21 18:24:43,859 [Thread-2297] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1419:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2022-07-21 18:24:43,859 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-21 18:24:43,859 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,859 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits:[s2:c15, s0:c14, s1:c14], cId:1422, entries: (t:9, i:16), METADATAENTRY(c:15)
2022-07-21 18:24:43,860 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-21 18:24:43,860 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-21 18:24:43,860 [Thread-2298] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1421:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-07-21 18:24:43,860 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15)
2022-07-21 18:24:43,860 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-21 18:24:43,861 [Thread-2299] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1422:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2022-07-21 18:24:43,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-07-21 18:24:43,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,896 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:43,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:43,997 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,997 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:43,997 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,098 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,098 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,098 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,098 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,200 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,220 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:359432300ns, electionTimeout:150ms
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderElection63
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s2 to null at term 9 for PRE_VOTE
2022-07-21 18:24:44,221 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 9 for 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,222 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 9, (t:9, i:16))
2022-07-21 18:24:44,222 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(PRE_VOTE, s1, group-36A76C95CB12, 9, (t:9, i:16))
2022-07-21 18:24:44,222 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,222 [Thread-1973] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s2@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 9. Election timeout: 300ms. In charge for: 390ms. Conf: 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,222 [Thread-1973] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-36A76C95CB12->s0(c15,m16,n17, attendVote=true, lastRpcSendTime=285, lastRpcResponseTime=361)
2022-07-21 18:24:44,222 [Thread-1973] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s2@group-36A76C95CB12->s1(c15,m16,n17, attendVote=true, lastRpcSendTime=285, lastRpcResponseTime=360)
2022-07-21 18:24:44,222 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:44,222 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:44,222 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,222 [Thread-1973] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:44,222 [s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:44,222 [Thread-1973] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,222 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:44,222 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t9
2022-07-21 18:24:44,222 [s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:44,223 [Thread-1973] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2
2022-07-21 18:24:44,223 [Thread-1973] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-36A76C95CB12:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,223 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:44,225 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-36A76C95CB12-LeaderElection63 ELECTION round 0: submit vote requests at term 10 for 15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,226 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 10, (t:9, i:16))
2022-07-21 18:24:44,226 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,226 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-07-21 18:24:44,226 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s2@group-36A76C95CB12: receive requestVote(ELECTION, s1, group-36A76C95CB12, 10, (t:9, i:16))
2022-07-21 18:24:44,226 [Thread-1971] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-36A76C95CB12-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,226 [Thread-1971] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-07-21 18:24:44,226 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-07-21 18:24:44,226 [Thread-1971] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,226 [Thread-1971] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,226 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,226 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-07-21 18:24:44,226 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,227 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,227 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,228 [Thread-1971] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s2@group-36A76C95CB12 replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-36A76C95CB12:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,228 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-36A76C95CB12-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t10
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-36A76C95CB12-LeaderElection63 ELECTION round 0: result PASSED
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-36A76C95CB12-LeaderElection63
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 7ms
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:44,229 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-36A76C95CB12:t10, leader=null, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c15, conf=15: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:44,229 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-21 18:24:44,230 [s1@group-36A76C95CB12-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,231 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,231 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,231 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-21 18:24:44,231 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-21 18:24:44,235 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s1 at term 10 for appendEntries, leader elected after 9ms
2022-07-21 18:24:44,235 [s1@group-36A76C95CB12-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,236 [Thread-1972] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s1 at term 10 for appendEntries, leader elected after 9ms
2022-07-21 18:24:44,236 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 10, (t:9, i:16), 15, true, commits:[s1:c15, s0:c15, s2:c15], cId:1437, entries: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,236 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,237 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-21 18:24:44,237 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-21 18:24:44,237 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-21 18:24:44,237 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,237 [Thread-1973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 10, (t:9, i:16), 15, true, commits:[s1:c15, s0:c15, s2:c16], cId:1438, entries: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,237 [Thread-1973] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,238 [Thread-1973] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-21 18:24:44,238 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-21 18:24:44,238 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-21 18:24:44,238 [Thread-1973] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,239 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,239 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,239 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-21 18:24:44,239 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-21 18:24:44,241 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,241 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_15-16
2022-07-21 18:24:44,241 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-21 18:24:44,241 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-21 18:24:44,244 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17
2022-07-21 18:24:44,245 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,253 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-21 18:24:44,254 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17
2022-07-21 18:24:44,254 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,254 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17
2022-07-21 18:24:44,254 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,254 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-21 18:24:44,254 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-21 18:24:44,255 [Thread-2323] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1438:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2022-07-21 18:24:44,255 [Thread-2324] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1437:OK-t10,SUCCESS,nextIndex=18,followerCommit=15,matchIndex=17
2022-07-21 18:24:44,255 [s1@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-21 18:24:44,255 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,256 [Thread-1971] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits:[s1:c17, s0:c15, s2:c16], cId:1439, entries: (t:10, i:18), METADATAENTRY(c:17)
2022-07-21 18:24:44,256 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-21 18:24:44,256 [Thread-1971] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-21 18:24:44,256 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits:[s1:c17, s0:c15, s2:c16], cId:1440, entries: (t:10, i:18), METADATAENTRY(c:17)
2022-07-21 18:24:44,256 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-21 18:24:44,256 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,256 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17)
2022-07-21 18:24:44,256 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-21 18:24:44,257 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-21 18:24:44,257 [Thread-2325] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s2@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s2#1439:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-07-21 18:24:44,258 [Thread-2326] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s1<-s0#1440:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2022-07-21 18:24:44,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,300 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,300 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,300 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-07-21 18:24:44,300 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,301 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,301 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,301 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,401 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,401 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,402 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,502 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,502 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,503 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,603 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,603 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,603 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,603 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-36A76C95CB12-FollowerState: change to CANDIDATE, lastRpcElapsedTime:361227817ns, electionTimeout:160ms
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderElection64
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from s1 to null at term 10 for PRE_VOTE
2022-07-21 18:24:44,619 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 10 for 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,620 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 10, (t:10, i:18))
2022-07-21 18:24:44,620 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(PRE_VOTE, s2, group-36A76C95CB12, 10, (t:10, i:18))
2022-07-21 18:24:44,620 [Thread-1965] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1020)) - s1@group-36A76C95CB12-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 391ms. Conf: 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,620 [Thread-1965] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-36A76C95CB12->s0(c17,m18,n19, attendVote=true, lastRpcSendTime=287, lastRpcResponseTime=362)
2022-07-21 18:24:44,620 [Thread-1965] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1024)) - Follower s1@group-36A76C95CB12->s2(c17,m18,n19, attendVote=true, lastRpcSendTime=286, lastRpcResponseTime=362)
2022-07-21 18:24:44,621 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-21 18:24:44,621 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:44,621 [s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:44,621 [s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-36A76C95CB12->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-21 18:24:44,620 [Thread-1957] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,621 [Thread-1957] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,621 [Thread-1965] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:44,621 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection64: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:44,621 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t10
2022-07-21 18:24:44,621 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection64 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:44,621 [Thread-1965] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,622 [Thread-1965] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-07-21 18:24:44,622 [Thread-1965] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t10. Peer's state: s1@group-36A76C95CB12:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,623 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-36A76C95CB12-LeaderElection64 ELECTION round 0: submit vote requests at term 11 for 17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,623 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 11, (t:10, i:18))
2022-07-21 18:24:44,623 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-36A76C95CB12: receive requestVote(ELECTION, s2, group-36A76C95CB12, 11, (t:10, i:18))
2022-07-21 18:24:44,623 [Thread-1966] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,623 [Thread-1966] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-07-21 18:24:44,623 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s2
2022-07-21 18:24:44,623 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,623 [Thread-1966] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,623 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,623 [Thread-1958] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-36A76C95CB12-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:44,623 [Thread-1958] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-07-21 18:24:44,623 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-36A76C95CB12: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s2
2022-07-21 18:24:44,623 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,624 [Thread-1958] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,624 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,625 [Thread-1966] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-36A76C95CB12 replies to ELECTION vote request: s2<-s1#0:OK-t11. Peer's state: s1@group-36A76C95CB12:t11, leader=null, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,625 [Thread-1958] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-36A76C95CB12 replies to ELECTION vote request: s2<-s0#0:OK-t11. Peer's state: s0@group-36A76C95CB12:t11, leader=null, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c17, conf=17: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-36A76C95CB12-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t11
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-36A76C95CB12-LeaderElection64 ELECTION round 0: result PASSED
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-36A76C95CB12-LeaderElection64
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-36A76C95CB12: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-36A76C95CB12: change Leader from null to s2 at term 11 for becomeLeader, leader elected after 6ms
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:44,626 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-21 18:24:44,627 [s2@group-36A76C95CB12-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-21 18:24:44,628 [s2@group-36A76C95CB12-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,628 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,628 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,628 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-21 18:24:44,628 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-21 18:24:44,632 [s2@group-36A76C95CB12-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-36A76C95CB12: set configuration 19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,633 [Thread-1964] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-36A76C95CB12: change Leader from null to s2 at term 11 for appendEntries, leader elected after 9ms
2022-07-21 18:24:44,633 [Thread-1959] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-36A76C95CB12: change Leader from null to s2 at term 11 for appendEntries, leader elected after 9ms
2022-07-21 18:24:44,634 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 11, (t:10, i:18), 17, true, commits:[s2:c17, s0:c17, s1:c18], cId:1455, entries: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,634 [Thread-1965] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-36A76C95CB12: set configuration 19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,634 [Thread-1965] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-21 18:24:44,634 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-21 18:24:44,634 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-21 18:24:44,634 [Thread-1965] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,635 [Thread-1957] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 11, (t:10, i:18), 17, true, commits:[s2:c17, s0:c17, s1:c18], cId:1456, entries: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,635 [Thread-1957] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-36A76C95CB12: set configuration 19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:44,635 [Thread-1957] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-21 18:24:44,635 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,635 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,635 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-21 18:24:44,635 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-21 18:24:44,635 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-21 18:24:44,637 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-21 18:24:44,637 [Thread-1957] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39819"
dataStreamAddress: "localhost:45609"
clientAddress: "localhost:39459"
adminAddress: "localhost:44087"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36683"
dataStreamAddress: "localhost:34029"
clientAddress: "localhost:39399"
adminAddress: "localhost:43223"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:46805"
dataStreamAddress: "localhost:41501"
clientAddress: "localhost:32853"
adminAddress: "localhost:37875"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:44,639 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19
2022-07-21 18:24:44,639 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,639 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-21 18:24:44,641 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,641 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_17-18
2022-07-21 18:24:44,641 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-21 18:24:44,641 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-21 18:24:44,651 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19
2022-07-21 18:24:44,651 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,652 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19
2022-07-21 18:24:44,652 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-21 18:24:44,652 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,653 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-21 18:24:44,653 [Thread-2350] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1456:OK-t11,SUCCESS,nextIndex=20,followerCommit=17,matchIndex=19
2022-07-21 18:24:44,653 [s2@group-36A76C95CB12-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-21 18:24:44,654 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s2/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,654 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-21 18:24:44,654 [Thread-1958] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: receive appendEntries(s2, 11, (t:11, i:19), 19, true, commits:[s2:c19, s0:c17, s1:c18], cId:1458, entries: (t:11, i:20), METADATAENTRY(c:19)
2022-07-21 18:24:44,654 [Thread-2351] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1455:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2022-07-21 18:24:44,654 [Thread-1958] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-21 18:24:44,654 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s0/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,655 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: receive appendEntries(s2, 11, (t:11, i:19), 19, true, commits:[s2:c19, s0:c17, s1:c18], cId:1459, entries: (t:11, i:20), METADATAENTRY(c:19)
2022-07-21 18:24:44,655 [Thread-1966] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-21 18:24:44,655 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-21 18:24:44,655 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpc956f6e8b/s1/9d931774-71c3-434d-961c-36a76c95cb12/current/log_inprogress_19)
2022-07-21 18:24:44,655 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-21 18:24:44,656 [Thread-2353] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s0#1458:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2022-07-21 18:24:44,662 [Thread-2354] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-36A76C95CB12: succeeded to handle AppendEntries. Reply: s2<-s1#1459:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2022-07-21 18:24:44,704 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:44,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,704 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-07-21 18:24:44,704 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(778)) - ************************************************************** 
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - *** 
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - *** 
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - ************************************************************** 
2022-07-21 18:24:44,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-36A76C95CB12-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-36A76C95CB12:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-36A76C95CB12-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|rpc:localhost:39819|admin:localhost:44087|client:localhost:39459|dataStream:localhost:45609|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36683|admin:localhost:43223|client:localhost:39399|dataStream:localhost:34029|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:46805|admin:localhost:37875|client:localhost:32853|dataStream:localhost:41501|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:44,705 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-21 18:24:44,705 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-21 18:24:44,706 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s1@group-36A76C95CB12: shutdown
2022-07-21 18:24:44,706 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-21 18:24:44,706 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s0@group-36A76C95CB12: shutdown
2022-07-21 18:24:44,706 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s1
2022-07-21 18:24:44,707 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(438)) - s2@group-36A76C95CB12: shutdown
2022-07-21 18:24:44,706 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s0
2022-07-21 18:24:44,707 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,708 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-36A76C95CB12-StateMachineUpdater: set stopIndex = 19
2022-07-21 18:24:44,708 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s0@group-36A76C95CB12: closes. applyIndex: 19
2022-07-21 18:24:44,707 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-36A76C95CB12,id=s2
2022-07-21 18:24:44,708 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-36A76C95CB12-LeaderStateImpl
2022-07-21 18:24:44,707 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-36A76C95CB12-FollowerState
2022-07-21 18:24:44,708 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-36A76C95CB12-PendingRequests: sendNotLeaderResponses
2022-07-21 18:24:44,708 [s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-36A76C95CB12->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:44,708 [s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-36A76C95CB12->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-21 18:24:44,708 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-36A76C95CB12-StateMachineUpdater: set stopIndex = 19
2022-07-21 18:24:44,708 [s0@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:44,708 [s0@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,710 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-36A76C95CB12-StateMachineUpdater: set stopIndex = 20
2022-07-21 18:24:44,710 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s2@group-36A76C95CB12: closes. applyIndex: 20
2022-07-21 18:24:44,710 [java.util.concurrent.ThreadPoolExecutor$Worker@434c8082[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-36A76C95CB12-SegmentedRaftLogWorker close()
2022-07-21 18:24:44,709 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(465)) - s1@group-36A76C95CB12: closes. applyIndex: 19
2022-07-21 18:24:44,708 [s1@group-36A76C95CB12-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-36A76C95CB12-FollowerState was interrupted
2022-07-21 18:24:44,710 [s2@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:44,711 [Thread-1960] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,711 [Thread-1961] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,711 [Thread-1962] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,711 [Thread-1959] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,711 [s1@group-36A76C95CB12-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-21 18:24:44,711 [Thread-1958] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,711 [Thread-1957] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,712 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4a4061] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-21 18:24:44,712 [java.util.concurrent.ThreadPoolExecutor$Worker@608a9d28[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-36A76C95CB12-SegmentedRaftLogWorker close()
2022-07-21 18:24:44,713 [Thread-1974] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,713 [java.util.concurrent.ThreadPoolExecutor$Worker@3b953bce[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-36A76C95CB12-SegmentedRaftLogWorker close()
2022-07-21 18:24:44,713 [Thread-1975] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,713 [Thread-1976] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,713 [Thread-1971] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1967] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1972] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1973] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@4d330c75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-21 18:24:44,714 [Thread-1969] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1968] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1964] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1965] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,714 [Thread-1966] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-21 18:24:44,715 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@69e78889] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-21 18:24:44,715 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(801)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-21 18:24:44,716 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:44,716 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:44,716 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:44,716 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:46,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:46,020 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(214)) - any@group-16E9552386F2-LeaderElection65: skip starting since this is already CLOSED
2022-07-21 18:24:46,021 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:46,021 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:46,021 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:46,021 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:46,037 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:46,039 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-21 18:24:46,039 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-21 18:24:46,039 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-21 18:24:46,039 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-21 18:24:46,046 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-21 18:24:46,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]
2022-07-21 18:24:46,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - .............................................................. 
2022-07-21 18:24:46,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ... 
2022-07-21 18:24:46,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-21 18:24:46,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - ... 
2022-07-21 18:24:46,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(309)) - .............................................................. 
2022-07-21 18:24:46,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-21 18:24:46,048 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:46,048 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0
2022-07-21 18:24:46,049 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0 does not exist.
2022-07-21 18:24:46,051 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0
2022-07-21 18:24:46,052 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:46,053 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:46,053 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:46,053 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:46,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,055 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0] (custom)
2022-07-21 18:24:46,072 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] returns group-47BFEFA263CB:java.util.concurrent.CompletableFuture@3f82df2b[Not completed]
2022-07-21 18:24:46,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:46,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1
2022-07-21 18:24:46,073 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s0: new RaftServerImpl for group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:46,073 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1 does not exist.
2022-07-21 18:24:46,073 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1
2022-07-21 18:24:46,073 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:46,073 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:46,073 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:46,073 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:46,074 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,074 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:46,074 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:46,074 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:46,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:46,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,074 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s0@group-47BFEFA263CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:46,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0] (custom)
2022-07-21 18:24:46,075 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1] (custom)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:46,075 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:46,077 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:46,078 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:46,078 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:46,078 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:46,078 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:46,078 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] returns group-47BFEFA263CB:java.util.concurrent.CompletableFuture@2b6a65d9[Not completed]
2022-07-21 18:24:46,079 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER], format? true
2022-07-21 18:24:46,079 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2
2022-07-21 18:24:46,079 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2 does not exist.
2022-07-21 18:24:46,079 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2
2022-07-21 18:24:46,079 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-21 18:24:46,079 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-21 18:24:46,079 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-21 18:24:46,080 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-21 18:24:46,080 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,080 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,080 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2] (custom)
2022-07-21 18:24:46,080 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s1: new RaftServerImpl for group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s1@group-47BFEFA263CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:46,081 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1] (custom)
2022-07-21 18:24:46,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:46,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:46,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:46,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:46,082 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:46,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:46,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:46,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:46,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:46,083 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:46,084 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] returns group-47BFEFA263CB:java.util.concurrent.CompletableFuture@4594dd34[Not completed]
2022-07-21 18:24:46,085 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(192)) - s2: new RaftServerImpl for group-47BFEFA263CB:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER] with BaseStateMachine:uninitialized
2022-07-21 18:24:46,085 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb does not exist. Creating ...
2022-07-21 18:24:46,085 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-21 18:24:46,085 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:46,085 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-21 18:24:46,085 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,085 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-21 18:24:46,086 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-21 18:24:46,086 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-21 18:24:46,086 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(118)) - s2@group-47BFEFA263CB: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-07-21 18:24:46,086 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2] (custom)
2022-07-21 18:24:46,087 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-21 18:24:46,087 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-21 18:24:46,087 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-21 18:24:46,087 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-21 18:24:46,087 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:46,087 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb/current
2022-07-21 18:24:46,088 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb/sm
2022-07-21 18:24:46,088 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb has been successfully formatted.
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,089 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-47BFEFA263CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:46,090 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:46,091 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:46,091 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:46,092 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:46,092 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-47BFEFA263CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,092 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-47BFEFA263CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,092 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-21 18:24:46,093 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-21 18:24:46,093 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-21 18:24:46,093 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-21 18:24:46,093 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-21 18:24:46,101 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s0@group-47BFEFA263CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,101 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-47BFEFA263CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:46,106 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,109 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-47BFEFA263CB,id=s0
2022-07-21 18:24:46,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:46,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:46,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:46,115 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-21 18:24:46,130 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@350ff639] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-21 18:24:46,131 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb does not exist. Creating ...
2022-07-21 18:24:46,131 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,133 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:46,134 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb/current
2022-07-21 18:24:46,134 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb/sm
2022-07-21 18:24:46,135 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb has been successfully formatted.
2022-07-21 18:24:46,135 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-47BFEFA263CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:46,136 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:46,137 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:46,138 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-47BFEFA263CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,138 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-47BFEFA263CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,140 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s1@group-47BFEFA263CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,140 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-47BFEFA263CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:46,140 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,144 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-47BFEFA263CB,id=s1
2022-07-21 18:24:46,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:46,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:46,145 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:46,147 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-21 18:24:46,160 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@1478a074] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-21 18:24:46,160 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb does not exist. Creating ...
2022-07-21 18:24:46,160 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,162 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb/in_use.lock acquired by nodename 17728@fv-az29-771.0gf2enmb5avurc1gjtxldx4mnh.bx.internal.cloudapp.net
2022-07-21 18:24:46,162 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb/current
2022-07-21 18:24:46,162 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb/sm
2022-07-21 18:24:46,163 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb has been successfully formatted.
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-47BFEFA263CB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:46,164 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-21 18:24:46,165 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-21 18:24:46,166 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-47BFEFA263CB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,166 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-47BFEFA263CB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-21 18:24:46,169 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(314)) - s2@group-47BFEFA263CB: start as a follower, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,169 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-47BFEFA263CB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-21 18:24:46,170 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,172 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-47BFEFA263CB,id=s2
2022-07-21 18:24:46,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-21 18:24:46,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-21 18:24:46,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-21 18:24:46,183 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-21 18:24:46,194 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$263/974494971@6876bd11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-21 18:24:46,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-21 18:24:46,195 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-07-21 18:24:46,195 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s2@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:534)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:568)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:561)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:320)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-21 18:24:46,324 [s2@group-47BFEFA263CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-47BFEFA263CB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154379401ns, electionTimeout:151ms
2022-07-21 18:24:46,324 [s2@group-47BFEFA263CB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,324 [s2@group-47BFEFA263CB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-47BFEFA263CB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-21 18:24:46,325 [s2@group-47BFEFA263CB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-21 18:24:46,325 [s2@group-47BFEFA263CB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-47BFEFA263CB-LeaderElection67
2022-07-21 18:24:46,325 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-47BFEFA263CB-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,326 [Thread-2393] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-47BFEFA263CB: receive requestVote(PRE_VOTE, s2, group-47BFEFA263CB, 0, (t:0, i:0))
2022-07-21 18:24:46,327 [Thread-2400] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-47BFEFA263CB: receive requestVote(PRE_VOTE, s2, group-47BFEFA263CB, 0, (t:0, i:0))
2022-07-21 18:24:46,327 [Thread-2393] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-47BFEFA263CB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:46,327 [Thread-2400] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-47BFEFA263CB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:46,327 [Thread-2400] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-47BFEFA263CB replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,327 [Thread-2393] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-47BFEFA263CB replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-47BFEFA263CB:t0, leader=null, voted=, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,328 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-47BFEFA263CB-LeaderElection67: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:46,328 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-07-21 18:24:46,328 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-47BFEFA263CB-LeaderElection67 PRE_VOTE round 0: result PASSED
2022-07-21 18:24:46,330 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-47BFEFA263CB-LeaderElection67 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,336 [Thread-2394] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s0@group-47BFEFA263CB: receive requestVote(ELECTION, s2, group-47BFEFA263CB, 1, (t:0, i:0))
2022-07-21 18:24:46,336 [Thread-2394] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-47BFEFA263CB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:46,336 [Thread-2394] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s0@group-47BFEFA263CB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:46,336 [Thread-2394] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,336 [Thread-2394] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,336 [s0@group-47BFEFA263CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-47BFEFA263CB-FollowerState was interrupted
2022-07-21 18:24:46,337 [Thread-2402] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1198)) - s1@group-47BFEFA263CB: receive requestVote(ELECTION, s2, group-47BFEFA263CB, 1, (t:0, i:0))
2022-07-21 18:24:46,337 [Thread-2402] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-47BFEFA263CB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-21 18:24:46,337 [Thread-2402] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s1@group-47BFEFA263CB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-21 18:24:46,337 [Thread-2402] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,337 [Thread-2402] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-47BFEFA263CB-FollowerState
2022-07-21 18:24:46,338 [s1@group-47BFEFA263CB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-47BFEFA263CB-FollowerState was interrupted
2022-07-21 18:24:46,338 [Thread-2394] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s0@group-47BFEFA263CB replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-47BFEFA263CB:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,338 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-47BFEFA263CB-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-21 18:24:46,338 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-07-21 18:24:46,343 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-47BFEFA263CB-LeaderElection67 ELECTION round 0: result PASSED
2022-07-21 18:24:46,343 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-47BFEFA263CB-LeaderElection67
2022-07-21 18:24:46,343 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(301)) - s2@group-47BFEFA263CB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s2@group-47BFEFA263CB: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 256ms
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-21 18:24:46,344 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-21 18:24:46,345 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-21 18:24:46,346 [s2@group-47BFEFA263CB-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-47BFEFA263CB-LeaderStateImpl
2022-07-21 18:24:46,346 [s2@group-47BFEFA263CB-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-47BFEFA263CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:46,343 [Thread-2402] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1231)) - s1@group-47BFEFA263CB replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-47BFEFA263CB:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,357 [s2@group-47BFEFA263CB-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s2@group-47BFEFA263CB: set configuration 0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,357 [Thread-2395] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s0@group-47BFEFA263CB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 282ms
2022-07-21 18:24:46,358 [s2@group-47BFEFA263CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-47BFEFA263CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s2/8dc07c7a-780c-4a28-997a-47bfefa263cb/current/log_inprogress_0
2022-07-21 18:24:46,360 [Thread-2401] INFO  server.RaftServer$Division (ServerState.java:setLeader(313)) - s1@group-47BFEFA263CB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 277ms
2022-07-21 18:24:46,361 [Thread-2393] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-47BFEFA263CB: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:1503, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33593"
dataStreamAddress: "localhost:34495"
clientAddress: "localhost:45983"
adminAddress: "localhost:33605"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36993"
dataStreamAddress: "localhost:42353"
clientAddress: "localhost:35373"
adminAddress: "localhost:36807"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:32923"
dataStreamAddress: "localhost:34955"
clientAddress: "localhost:43737"
adminAddress: "localhost:44217"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:46,366 [Thread-2393] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s0@group-47BFEFA263CB: set configuration 0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,366 [Thread-2393] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-47BFEFA263CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:46,371 [Thread-2400] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-47BFEFA263CB: receive appendEntries(s2, 1, null, 0, true, commits:[s2:c0, s0:c-1, s1:c-1], cId:1504, entries: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:33593"
dataStreamAddress: "localhost:34495"
clientAddress: "localhost:45983"
adminAddress: "localhost:33605"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36993"
dataStreamAddress: "localhost:42353"
clientAddress: "localhost:35373"
adminAddress: "localhost:36807"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:32923"
dataStreamAddress: "localhost:34955"
clientAddress: "localhost:43737"
adminAddress: "localhost:44217"
startupRole: FOLLOWER
, old:)
2022-07-21 18:24:46,371 [Thread-2400] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(429)) - s1@group-47BFEFA263CB: set configuration 0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-07-21 18:24:46,372 [Thread-2400] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-47BFEFA263CB-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-21 18:24:46,385 [s1@group-47BFEFA263CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-47BFEFA263CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s1/8dc07c7a-780c-4a28-997a-47bfefa263cb/current/log_inprogress_0
2022-07-21 18:24:46,385 [s0@group-47BFEFA263CB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-47BFEFA263CB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/44cdabc1/MiniRaftClusterWithSimulatedRpce5f30af0/s0/8dc07c7a-780c-4a28-997a-47bfefa263cb/current/log_inprogress_0
2022-07-21 18:24:46,393 [Thread-2445] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s0@group-47BFEFA263CB: succeeded to handle AppendEntries. Reply: s2<-s0#1503:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-07-21 18:24:46,394 [Thread-2444] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1305)) - s1@group-47BFEFA263CB: succeeded to handle AppendEntries. Reply: s2<-s1#1504:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2022-07-21 18:24:46,646 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-47BFEFA263CB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-47BFEFA263CB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-47BFEFA263CB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-47BFEFA263CB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33593|admin:localhost:33605|client:localhost:45983|dataStream:localhost:34495|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36993|admin:localhost:36807|client:localhost:35373|dataStream:localhost:42353|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:32923|admin:localhost:44217|client:localhost:43737|dataStream:localhost:34955|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
